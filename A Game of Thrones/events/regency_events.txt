###################################
#
# Regency Events: 61000 - 61999
#
###################################
# by Henrik Fåhraeus
# and Henrik Eklund
###################################

namespace = regency

# Regent embezzles money
character_event = {
	id = 61000
	desc = EVTDESC61000
	
	picture = GFX_evt_council
	border = GFX_event_normal_frame_economy
	
	min_age = 16
	prisoner = no
	capable_only = yes
	
	trigger = {
		liege = { regent = { character = PREVPREV } }
		independent = no
		liege = { scaled_wealth = 0.2 }
		NOT = { trait = charitable }
		NOT = { trait = honest }
		NOT = { trait = honorable }
	}
	
	mean_time_to_happen = {
		months = 280
		modifier = {
			factor = 0.25
			trait = greedy
		}
		modifier = {
			factor = 0.25
			trait = deceitful
		}
		modifier = {
			factor = 0.5
			trait = envious
		}
		modifier = {
			factor = 0.5
			trait = ruthless
		}
		modifier = {
			factor = 0.75
			trait = arbitrary
		}
		modifier = {
			factor = 2.0
			trait = kind
		}
		modifier = {
			factor = 3.0
			trait = just
		}
	}
	
	option = {
		name = EVTOPTA61000 # Embezzle
		ai_chance = { 
			factor = 100 
			modifier = {
				factor = 0
				NOT = { intrigue = 8 }
				NOT = {
					OR = {
						trait = greedy
						trait = deceitful
						trait = lunatic
						trait = envious
					}
				}	
			}
		}
		if = {
			limit = { 
				NOT = { stewardship = 8 }
			}
			liege = { 
				if = { 
					limit = { yearly_income = 100 }
					transfer_scaled_wealth = {
						to = ROOT
						value = 0.1
					}
				}	
				if = { 
					limit = { NOT = { yearly_income = 100 } }
					wealth = -10
					ROOT = { wealth = 10 }
				}
			}
		}
		if = {
			limit = { 
				stewardship = 8
				NOT = { stewardship = 14 }
			}
			liege = { 
				if = { 
					limit = { yearly_income = 100 }
					transfer_scaled_wealth = {
						to = ROOT
						value = 0.2
					}
				}	
				if = { 
					limit = { NOT = { yearly_income = 100 } }
					wealth = -20
					ROOT = { wealth = 20 }
				}
			}
		}	
		if = {
			limit = { 
				stewardship = 14
			}
			liege = { 
				if = { 
					limit = { yearly_income = 100 }
					transfer_scaled_wealth = {
						to = ROOT
						value = 0.4
					}
				}	
				if = { 
					limit = { NOT = { yearly_income = 100 } }
					wealth = -40
					ROOT = { wealth = 40 }
				}
			}
		}	
		random_list = {
			50 = {
				# Got away with it!
				modifier = {
					factor = 0.64
					NOT = { intrigue = 8 }
				}
				modifier = {
					factor = 2.24
					intrigue = 14
				}
			}
			40 = {
				liege = { character_event = { id = 61001 days = 4 tooltip = EVTTOOLTIP61001 } } # Liege suspects
				if = {
					limit = { NOT = { has_job_title = job_treasurer }  }
					liege = { job_treasurer = { character_event = { id = 61002 days = 4 tooltip = EVTTOOLTIP61002 } } } # The Steward suspects
				}
			}
			10 = {
				modifier = {
					factor = 1.6
					NOT = { intrigue = 8 }
				}
				modifier = {
					factor = 0.8
					intrigue = 14
				}
				liege = { character_event = { id = 61003 days = 4 tooltip = EVTTOOLTIP61003 } } # Liege has proof
				if = {
					limit = { NOT = { has_job_title = job_treasurer }  }
					liege = { job_treasurer = { character_event = { id = 61004 days = 4 tooltip = EVTTOOLTIP61004 } } } # The Steward has proof
				}
			}
		}	
	}
	
	option = {
		name = EVTOPTB61000 # I dare not!
		ai_chance = { 
			factor = 1
		}
		piety = 10
	}
}

character_event = { #liege suspects
	id = 61001
	desc = EVTDESC61001
	
	picture = GFX_evt_shadowy_cabal
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = { FROM = { character_event = { id = regency.61001 days = 2 } } }
	
	option = {
		name = EVTOPTA61001 # But there is no proof...
	}
}

character_event = { #steward suspects
	id = 61002
	desc = EVTDESC61002
	
	picture = GFX_evt_shadowy_cabal
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61002 # But there is no proof...
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				trait = just
			}
			modifier = {
				factor = 3
				trait = honorable
			}	
			modifier = {
				factor = 3
				trait = honest
			}	
			modifier = {
				factor = 2
				trait = kind
			}
			modifier = {
				factor = 2
				trait = charitable
			}	
			modifier = {
				factor = 2
				liege = {
					is_close_relative = ROOT
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					reverse_opinion = { who = ROOT value = 25 }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					reverse_opinion = { who = ROOT value = 50 }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					reverse_opinion = { who = ROOT value = 75 }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					reverse_opinion = { who = ROOT value = 100 }
				}	
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = 0 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -25 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -50 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -75 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -99 } }
			}
		}
		opinion = { who = FROM modifier = opinion_corrupt years = 5  }
	}
	
	option = {
		name = EVTOPTB61002 # I don't care
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				trait = arbitrary
			}
			modifier = {
				factor = 2
				trait = slothful
			}	
			modifier = {
				factor = 1.5
				trait = cruel
			}	
			modifier = {
				factor = 2
				trait = content
			}	
			modifier = {
				factor = 1.5
				trait = craven
			}			
			modifier = {
				factor = 2
				is_close_relative = FROM
			}
			modifier = {
				factor = 1.5
				liege = {
					NOT = { reverse_opinion = { who = ROOT value = -24 } }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					NOT = { reverse_opinion = { who = ROOT value = -49 } }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					NOT = { reverse_opinion = { who = ROOT value = -74 } }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					NOT = { reverse_opinion = { who = ROOT value = -99 } }
				}	
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 25 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 50 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 75 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 100 }
			}
		}
		piety = -10
	}
	
	option = {
		name = EVTOPTC61002 # Blackmail
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0
				OR = {
					trait = honest
					trait = honorable
				}	
			}
			modifier = {
				factor = 3
				trait = greedy
			}
			modifier = {
				factor = 3
				trait = ruthless
			}	
			modifier = {
				factor = 3
				trait = deceitful
			}	
			modifier = {
				factor = 3
				trait = ambitious
			}				
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = 0 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -25 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -50 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -75 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -99 } }
			}
		}
		FROM = { character_event = { id = regency.61002 days = 4 tooltip = TOOLTIPregency.61002 } }
	}
}

character_event = { #liege has proof
	id = 61003
	desc = EVTDESC61003
	picture = GFX_evt_shadowy_cabal
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	immediate = { FROM = { character_event = { id = regency.61003 days = 2 } } }
	
	option = {
		name = EVTOPTA61003 # Treachery!
	}
}

character_event = { #steward has proof
	id = 61004
	desc = EVTDESC61004
	
	picture = GFX_evt_shadowy_cabal
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61004 # Inform the realm
		trigger = { NOT = { trait = slave } }
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				trait = just
			}
			modifier = {
				factor = 3
				trait = honorable
			}	
			modifier = {
				factor = 3
				trait = honest
			}	
			modifier = {
				factor = 2
				trait = kind
			}
			modifier = {
				factor = 2
				trait = charitable
			}	
			modifier = {
				factor = 2
				liege = {
					is_close_relative = ROOT
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					reverse_opinion = { who = ROOT value = 25 }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					reverse_opinion = { who = ROOT value = 50 }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					reverse_opinion = { who = ROOT value = 75 }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					reverse_opinion = { who = ROOT value = 100 }
				}	
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = 0 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -25 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -50 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -75 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -99 } }
			}
		}
		FROM = { 
			character_event = { id = regency.61004 days = 4 tooltip = TOOLTIPregency.61004 } 
			opinion = {
				who = ROOT
				modifier = opinion_dishonorable
				multiplier = 2
			}
		}
		hidden_tooltip = { #send letter
			liege = {
				letter_event = { id = regency.61008 }
				any_vassal = {
					limit = { 
						NOT = { character = ROOT }
						NOT = { character = FROM }
					}
					letter_event = { id = regency.61008 }
				}
				any_courtier = {
					limit = { 
						age = 10
						is_ruler = no
						NOT = { character = ROOT }
						NOT = { character = FROM }
						NOT = { character = PREV }
					}
					letter_event = { id = regency.61008 }
				}
			}
		}
		remove_title = job_treasurer #resign
		prestige = 25
		if = { #unlanded character leaves court
			limit = { is_ruler = no }
			random_playable_ruler = {
				limit = {
					dynasty = ROOT
					NOT = { is_liege_of = ROOT }
				}
				ROOT = {
					move_character = PREV
					set_character_flag = moved
				}
			}
			if = {
				limit = { NOT = { has_character_flag = moved } }
				random_playable_ruler = {
					limit = {
						culture = ROOT
						NOT = { is_liege_of = ROOT }
					}
					ROOT = {
						move_character = PREV
						set_character_flag = moved
					}
				}
			}
			clr_character_flag = moved
		}
	}
	
	option = {
		name = EVTOPTB61002 # I don't care
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				trait = arbitrary
			}
			modifier = {
				factor = 2
				trait = slothful
			}	
			modifier = {
				factor = 1.5
				trait = cruel
			}	
			modifier = {
				factor = 2
				trait = content
			}	
			modifier = {
				factor = 1.5
				trait = craven
			}			
			modifier = {
				factor = 2
				is_close_relative = FROM
			}
			modifier = {
				factor = 1.5
				liege = {
					NOT = { reverse_opinion = { who = ROOT value = -24 } }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					NOT = { reverse_opinion = { who = ROOT value = -49 } }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					NOT = { reverse_opinion = { who = ROOT value = -74 } }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					NOT = { reverse_opinion = { who = ROOT value = -99 } }
				}	
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 25 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 50 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 75 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 100 }
			}
		}
		piety = -10
	}
	
	option = {
		name = EVTOPTC61002 # Blackmail
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0
				OR = {
					trait = honest
					trait = honorable
					has_opinion_modifier = { who = FROM modifier = opinion_corrupt }
				}	
			}
			modifier = {
				factor = 3
				trait = greedy
			}
			modifier = {
				factor = 3
				trait = ruthless
			}	
			modifier = {
				factor = 3
				trait = deceitful
			}	
			modifier = {
				factor = 3
				trait = ambitious
			}				
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = 0 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -25 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -50 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -75 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -99 } }
			}
		}
		FROM = { character_event = { id = regency.61005 days = 4 tooltip = TOOLTIPregency.61005 } }
	}
}

character_event = { #inform liege suspects
	id = regency.61001
	desc = EVTDESCregency.61001
	
	picture = GFX_evt_shadowy_cabal
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAregency.61001 
		reverse_opinion = { who = FROM modifier = opinion_corrupt years = 5  }
	}
}

character_event = { #inform steward blackmail, no proof
	id = regency.61002
	desc = EVTDESCregency.61002
	
	picture = GFX_evt_shadowy_cabal
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAregency.61002 #Yes
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				trait = patient
			}
			modifier = {
				factor = 2
				trait = humble
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 2
				trait = diligent
			}
			modifier = {
				factor = 2
				intrigue = 10
			}
		}
		if = {
			limit = { liege = { NOT = { yearly_income = 100 } } }
			wealth = -10
			FROM = { wealth = 10 }
		}
		if = {
			limit = { 
				liege = { 
					yearly_income = 100
					NOT = { yearly_income = 200 } 
				} 
			}
			wealth = -15
			FROM = { wealth = 15 }
		}
		if = {
			limit = { 
				liege = { 
					yearly_income = 200
					NOT = { yearly_income = 300 } 
				} 
			}
			wealth = -25
			FROM = { wealth = 25 }
		}
		if = {
			limit = { 
				liege = { 
					yearly_income = 300
					NOT = { yearly_income = 400 } 
				} 
			}
			wealth = -35
			FROM = { wealth = 35 }
		}
		if = {
			limit = { 
				liege = { 
					yearly_income = 400
				} 
			}
			wealth = -50
			FROM = { wealth = 50 }
		}
		hidden_tooltip = { FROM = { character_event = { id = regency.61006 } } }
	}
	
	option = {
		name = EVTOPTBregency.61002 #No
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				trait = wroth
			}
			modifier = {
				factor = 2
				trait = proud
			}
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 2
				trait = slothful
			}
			modifier = {
				factor = 2
				NOT = { intrigue = 5 }
			}
		}
		reverse_opinion = { who = FROM modifier = opinion_corrupt years = 5  }
		hidden_tooltip = { FROM = { character_event = { id = regency.61007 } } }
	}
}

character_event = { #inform liege has proof
	id = regency.61003
	desc = EVTDESCregency.61003
	
	picture = GFX_evt_shadowy_cabal
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAregency.61003
		reverse_opinion = { who = FROM modifier = opinion_corrupt years = 5 multiplier= 2.5 }
	}
}

character_event = { #inform steward informs realm
	id = regency.61004
	desc = EVTDESCregency.61004
	
	picture = GFX_evt_shadowy_cabal
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAregency.61004
		reverse_opinion = { who = FROM modifier = opinion_corrupt years = 5 multiplier= 2.5 }
		prestige = -50
	}
}

character_event = { #inform steward blackmail, has proof
	id = regency.61005
	desc = EVTDESCregency.61005
	
	picture = GFX_evt_shadowy_cabal
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAregency.61005 #Yes
		ai_chance = {
			factor = 75
			modifier = {
				factor = 2
				trait = patient
			}
			modifier = {
				factor = 2
				trait = humble
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 2
				trait = diligent
			}
			modifier = {
				factor = 2
				intrigue = 10
			}
		}
		if = {
			limit = { liege = { NOT = { yearly_income = 100 } } }
			wealth = -10
		}
		if = {
			limit = { 
				liege = { 
					yearly_income = 100
					NOT = { yearly_income = 200 } 
				} 
			}
			wealth = -15
		}
		if = {
			limit = { 
				liege = { 
					yearly_income = 200
					NOT = { yearly_income = 300 } 
				} 
			}
			wealth = -25
		}
		if = {
			limit = { 
				liege = { 
					yearly_income = 300
					NOT = { yearly_income = 400 } 
				} 
			}
			wealth = -35
		}
		if = {
			limit = { 
				liege = { 
					yearly_income = 400
				} 
			}
			wealth = -50
		}
		hidden_tooltip = { FROM = { character_event = { id = regency.61006 } } }
	}
	
	option = {
		name = EVTOPTBregency.61005 #No
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				trait = wroth
			}
			modifier = {
				factor = 2
				trait = proud
			}
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 2
				trait = slothful
			}
			modifier = {
				factor = 2
				NOT = { intrigue = 5 }
			}
		}
		reverse_opinion = { who = FROM modifier = opinion_corrupt years = 5 multiplier = 2.5 }
		hidden_tooltip = { 
			FROM = { 
				set_character_flag = has_proof
				character_event = { id = regency.61007 } 				
			} 
		}
	}
}

character_event = { #inform blackmail accepted
	id = regency.61006
	desc = EVTDESCregency.61006
	
	picture = GFX_evt_shadowy_cabal
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAregency.61006 #Yes
		if = {
			limit = { liege = { NOT = { yearly_income = 100 } } }
			wealth = 10
		}
		if = {
			limit = { 
				liege = { 
					yearly_income = 100
					NOT = { yearly_income = 200 } 
				} 
			}
			wealth = 15
		}
		if = {
			limit = { 
				liege = { 
					yearly_income = 200
					NOT = { yearly_income = 300 } 
				} 
			}
			wealth = 25
		}
		if = {
			limit = { 
				liege = { 
					yearly_income = 300
					NOT = { yearly_income = 400 } 
				} 
			}
			wealth = 35
		}
		if = {
			limit = { 
				liege = { 
					yearly_income = 400
				} 
			}
			wealth = 50
		}
	}
}	

character_event = { #inform blackmail not accepted
	id = regency.61007
	desc = EVTDESCregency.61007
	
	picture = GFX_evt_shadowy_cabal
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAregency.61007 
		trigger = { has_character_flag = has_proof }
		ai_chance = { factor = 1 }
		prestige = -10
		clr_character_flag = has_proof
	}
	
	option = {
		name = EVTOPTCregency.61007 
		trigger = { NOT = { has_character_flag = has_proof } }
		prestige = -10
	}
	
	option = {
		name = EVTOPTBregency.61007 #Inform the realm
		trigger = { 
			has_character_flag = has_proof 
			NOT = { trait = slave }
		}
		ai_chance = { factor = 100 }
		FROM = { 
			character_event = { id = regency.61004 days = 2 tooltip = TOOLTIPregency.61004 } 
			hidden_tooltip = { letter_event = { id = regency.61008 days = 3 } }
			opinion = {
				who = ROOT
				modifier = opinion_dishonorable
				multiplier = 2
			}
		}
		hidden_tooltip = { #send letter
			liege = {
				letter_event = { id = regency.61008 }
				any_vassal = {
					limit = { 
						NOT = { character = ROOT }
						NOT = { character = FROM }
					}
					letter_event = { id = regency.61008 }
				}
				any_courtier = {
					limit = { 
						age = 10
						is_ruler = no
						NOT = { character = ROOT }
						NOT = { character = FROM }
						NOT = { character = PREV }
					}
					letter_event = { id = regency.61008 }
				}
			}
		}
		remove_title = job_treasurer #resign
		prestige = 25
		clr_character_flag = has_proof
		if = { #unlanded character leaves court
			limit = { is_ruler = no }
			random_playable_ruler = {
				limit = {
					dynasty = ROOT
					NOT = { is_liege_of = ROOT }
				}
				ROOT = {
					move_character = PREV
					set_character_flag = moved
				}
			}
			if = {
				limit = { NOT = { has_character_flag = moved } }
				random_playable_ruler = {
					limit = {
						culture = ROOT
						NOT = { is_liege_of = ROOT }
					}
					ROOT = {
						move_character = PREV
						set_character_flag = moved
					}
				}
			}
			clr_character_flag = moved
		}
	}
}	

letter_event = { #realm informed of corruption
	id = regency.61008
	desc = EVTDESCregency.61008
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAregency.61008
		trigger = { 
			NOT = { character = FROMFROM } 
			NOT = { is_liege_of = FROM } 
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				trait = just
			}
			modifier = {
				factor = 3
				trait = honorable
			}	
			modifier = {
				factor = 3
				trait = honest
			}	
			modifier = {
				factor = 2
				trait = kind
			}
			modifier = {
				factor = 2
				trait = charitable
			}	
			modifier = {
				factor = 2
				liege = {
					is_close_relative = ROOT
				}	
			}
			modifier = {
				factor = 2
				is_close_relative = FROM
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 25 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 50 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 75 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 100 }
			}
			modifier = {
				factor = 1.5
				liege = {
					reverse_opinion = { who = ROOT value = 25 }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					reverse_opinion = { who = ROOT value = 50 }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					reverse_opinion = { who = ROOT value = 75 }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					reverse_opinion = { who = ROOT value = 100 }
				}	
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROMFROM value = 0 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROMFROM value = -25 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROMFROM value = -50 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROMFROM value = -75 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROMFROM value = -99 } }
			}
		}
		if = {
			limit = { NOT = { is_liege_of = FROMFROM } }
			opinion = { who = FROMFROM modifier = opinion_corrupt years = 5 multiplier= 2.5 }
		}	
	}
	
	option = {
		name = EVTOPTBregency.61008 # I don't care
		trigger = { 
			NOT = { character = FROMFROM } 
			NOT = { is_liege_of = FROM } 
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				trait = arbitrary
			}
			modifier = {
				factor = 2
				trait = slothful
			}	
			modifier = {
				factor = 1.5
				trait = cruel
			}	
			modifier = {
				factor = 2
				trait = content
			}			
			modifier = {
				factor = 2
				is_close_relative = FROMFROM
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -24 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -49 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -74 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -99 } }
			}
			modifier = {
				factor = 1.5
				liege = {
					NOT = { reverse_opinion = { who = ROOT value = -24 } }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					NOT = { reverse_opinion = { who = ROOT value = -49 } }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					NOT = { reverse_opinion = { who = ROOT value = -74 } }
				}	
			}
			modifier = {
				factor = 1.5
				liege = {
					NOT = { reverse_opinion = { who = ROOT value = -99 } }
				}	
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROMFROM value = 25 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROMFROM value = 50 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROMFROM value = 75 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROMFROM value = 100 }
			}
		}
	}
	
	option = {
		name = EVTOPTCregency.61008
		trigger = { character = FROMFROM }
	}
	
	option = {
		name = {
			text = EVTOPTDregency.61008A
			trigger = { trait = incapable }
		}
		name = {
			text = EVTOPTDregency.61008B
			trigger = { NOT = { trait = incapable } }
		}		
		trigger = { is_liege_of = FROM }
	}
}	

### NEW REGENCY EVENTS ###

# #Regency: Regent steals holding. #now a targetted decision
# character_event = {
	# id = 61100
	# desc = EVTDESC61100
	# picture = GFX_evt_lunatic
	
	# min_age = 16
	# prisoner = no
	# capable_only = yes
	
	# trigger = {
		# liege = { regent = { character = PREVPREV } }
		# NOT = { trait = content }
		# liege = { 
			# demesne_size = 2		
			# OR = {
				# NOT = { age = 16 }
				# trait = incapable
			# }
			# NOT = { tier = BARON }
			# any_demesne_title = {
				# can_be_given_away = yes
				# lower_tier_than = DUKE
				# lower_tier_than = PREV
				# NOT = { title = c_bloody_gate }
				# NOT = { title = c_ghastongrey } #no-one wants this crappy rock
				# OR = {
					# NOT = { title = c_summerhall }
					# NOT = {
						# holder_scope = {
							# NOT = { dynasty = ROOT }
							# dynasty = 496
						# }
					# }	
				# }
				# OR = {
					# NOT = { title = c_dragonstone }
					# NOT = {
						# holder_scope = {
							# has_landed_title = e_iron_throne
						# }
					# }	
				# }
				# NOT = {
					# AND = {
						# tier = count
						# location = {
							# is_capital = yes
						# }						
					# }
				# }
			# }	
		# }
		# OR = {
			# is_female = no
			# liege = {
				# primary_title = {
					# OR = {
						# has_law = enatic_cognatic_succession
						# has_law = enatic_succession
					# }
				# }
			# }
			# liege = { #Females must be blood relatives to ask for titles under true cognatic
				# dynasty = ROOT
				# primary_title = { has_law = true_cognatic_succession }
			# }
		# }
		# OR = {
			# is_female = yes
			# liege = {
				# primary_title = {
					# OR = {
						# has_law = cognatic_succession
						# has_law = agnatic_succession
						# has_law = true_cognatic_succession
					# }
				# }
			# }
		# }
		# NOT = { trait = maester }
		# NOT = { trait = archmaester }
		# NOT = { trait = septon }
		# NOT = { trait = kingsguard }
		# NOT = { trait = slave }
		# NOT = { trait = dragon }
	# }
	
	# mean_time_to_happen = {
		# months = 24
		# modifier = {
			# factor = 0.25
			# trait = greedy
		# }
		# modifier = {
			# factor = 0.25
			# trait = ambitious
		# }
		# modifier = {
			# factor = 0.5
			# trait = ruthless
		# }
		# modifier = {
			# factor = 0.5
			# trait = envious
		# }
		# modifier = {
			# factor = 0.5
			# trait = deceitful
		# }
		# modifier = {
			# factor = 0.75
			# trait = arbitrary
		# }
		# modifier = {
			# factor = 4.0
			# trait = honorable
		# }
		# modifier = {
			# factor = 4.0
			# trait = honest
		# }
		# modifier = {
			# factor = 4.0
			# trait = just
		# }
	# }
	
	# option = {
		# name = EVTOPTA61100 #Grab holding.
		# ai_chance = { 
			# factor = 100 
			# modifier = {
				# factor = 0
				# trait = honorable
			# }
			# modifier = {
				# factor = 0.01
				# trait = just
			# }
			# modifier = {
				# factor = 0.01
				# trait = honest
			# }
		# }
		# if = {
			# limit = { 
				# is_councillor = no
				# is_ruler = no
			# }
			# liege = {
				# job_castellan = { remove_title = job_castellan }			
			# }	
			# give_job_title = job_castellan	
		# }	
		# liege = {
			# random_demesne_title = {
				# limit = {
					# can_be_given_away = yes
					# lower_tier_than = DUKE
					# lower_tier_than = PREV
					# NOT = { title = c_bloody_gate }
					# NOT = { title = c_ghastongrey } #no-one wants this crappy rock
					# OR = {
						# NOT = { title = c_summerhall }
						# NOT = {
							# holder_scope = {
								# NOT = { dynasty = ROOT }
								# dynasty = 496
							# }
						# }	
					# }
					# OR = {
						# NOT = { title = c_dragonstone }
						# NOT = {
							# holder_scope = {
								# has_landed_title = e_iron_throne
							# }
						# }	
					# }
					# NOT = {
						# AND = {
							# tier = count
							# location = {
								# is_capital = yes
							# }						
						# }
					# }
				# }
				# tooltip = { gain_title = ROOT }
				# hidden_tooltip = { save_event_target_as = regent_title }
				# if = { #If not a claimant this is seen as corrupt
					# limit = { ROOT = { NOT = { has_claim = PREV } } }
					# ROOT = {
						# liege = {
							# any_courtier = {
								# limit = {
									# NOT = { character = ROOT }
									# age = 8
									# NOT = { trait = incapable }
									# OR = {
										# trait = just
										# trait = honorable
										# trait = proud
									# }
									# OR = {
										# is_councillor = yes
										# is_ruler = yes
										# is_married = PREV
										# is_close_relative = PREV
										# character = PREV
									# }
									# NOT = { is_close_relative = ROOT }
								# }
								# opinion = { who = ROOT modifier = opinion_corrupt months = 60 }
							# }
							# any_vassal = {
								# limit = {
									# NOT = { character = PREV }
									# NOT = { character = ROOT }
									# NOT = { host = { character = PREVPREV } }
									# OR = {
										# liege = { tier = DUKE }
										# higher_tier_than = COUNT
										# is_patrician = yes
									# }	
									# age = 16
									# NOT = { trait = incapable }
									# OR = {
										# trait = just
										# trait = honorable
										# trait = proud
									# }
									# NOT = { is_close_relative = ROOT }
								# }
								# opinion = { who = ROOT modifier = opinion_corrupt months = 60 }
							# }
						# }
					# }	
				# }
			# }
			# character_event = { id = 61101 tooltip = EVTTOOLTIP61101 }
		# }
		# if = {
			# limit = { trait = honorable }
			# remove_trait = honorable
		# }
		# prestige = -50
	# }
	# option = {
		# name = EVTOPTB61100 #Do not grab holding.
		# ai_chance = { factor = 1 }
		# piety = 40
	# }
# }

#Regency: Ruler informed of holding loss.
character_event = {
	id = 61101
	desc = EVTDESC61101
	picture = GFX_evt_lunatic
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { FROM = { is_ruler = no } }
			set_character_flag = reset_regency #make sure the regent stays regent
			FROM = {
				if = {
					limit = { has_job_title = job_castellan }
					set_character_flag = job_castellan
				}
				if = {
					limit = { has_job_title = job_chancellor }
					set_character_flag = job_chancellor
				}
				if = {
					limit = { has_job_title = job_marshal }
					set_character_flag = job_marshal
				}
				if = {
					limit = { has_job_title = job_treasurer }
					set_character_flag = job_treasurer
				}
				if = {
					limit = { has_job_title = job_spymaster }
					set_character_flag = job_spymaster
				}
				if = {
					limit = { has_job_title = job_spiritual }
					set_character_flag = job_spiritual
				}
				if = {
					limit = { has_job_title = job_priest }
					set_character_flag = job_priest
				}
			}
		}
	}
	
	option = {
		name = {
			text = EVTOPTA61101
			trigger = { trait = incapable }
		}	
		name = {
			text = EVTOPTB61101
			trigger = { NOT = { trait = incapable } }
		}	
		event_target:regent_title = {
			gain_title = FROM
			if = {
				limit = { has_title_flag = grant_weak_claim }
				add_weak_claim = ROOT
				clr_title_flag = grant_weak_claim
			}	
		}
		if = {
			limit = { has_character_flag = reset_regency }
			FROM = {
				if = {
					limit = { has_character_flag = job_castellan }
					give_job_title = job_castellan
					clr_character_flag = job_castellan
				}
				if = {
					limit = { has_character_flag = job_chancellor }
					give_job_title = job_chancellor
					clr_character_flag = job_chancellor
				}
				if = {
					limit = { has_character_flag = job_marshal }
					give_job_title = job_marshal
					clr_character_flag = job_marshal
				}
				if = {
					limit = { has_character_flag = job_treasurer }
					give_job_title = job_treasurer
					clr_character_flag = job_treasurer
				}
				if = {
					limit = { has_character_flag = job_spymaster }
					give_job_title = job_spymaster
					clr_character_flag = job_spymaster
				}
				if = {
					limit = { has_character_flag = job_spiritual }
					give_job_title = job_spiritual
					clr_character_flag = job_spiritual
				}
				if = {
					limit = { has_character_flag = job_priest }
					give_job_title = job_priest
					clr_character_flag = job_priest
				}
				gain_regency_effect = yes
			}
			clr_character_flag = reset_regency
		}
	}
}

#Regency: Regent gives Ruler's money to charity.
character_event = {
	id = 61105
	desc = EVTDESC61105
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_economy
	
	min_age = 16
	prisoner = no
	capable_only = yes
	
	trigger = {
		liege = { regent = { character = PREVPREV } }
		independent = no
		liege = { 
			scaled_wealth = 0.25
			age = 16
			trait = incapable
		}
	}
	
	mean_time_to_happen = {
		months = 280
		modifier = {
			factor = 0.25
			trait = charitable
		}
		modifier = {
			factor = 0.25
			trait = kind
		}
		modifier = {
			factor = 0.75
			trait = just
		}
		modifier = {
			factor = 2.0
			trait = cruel
		}
		modifier = {
			factor = 2.0
			trait = greedy
		}
	}
		
	option = {
		name = EVTOPTA61105 #Give the money.
		ai_chance = { factor = 100 }
		ROOT = { piety = 30 }
		liege = {
			character_event = {	id = 61106 tooltip = EVTTOOLTIP61106 }
		}
	}
	option = {
		name = EVTOPTB61105 #Do not give the money.
		ai_chance = { factor = 0 }
		ROOT = { piety = -30 }
	}
}

#Regency: Ruler is informed of Regent giving money to charity.
character_event = {
	id = 61106
	desc = EVTDESC61106
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_economy
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61106
		ROOT = { scaled_wealth = -0.25 }
		ROOT = { piety = 60 }
	}
}

#Regency: Regent is a better administrator than you ever were.
character_event = {
	id = 61110
	desc = EVTDESC61110
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_economy
	
	only_playable = yes
	min_age = 16
	prisoner = no
	
	trigger = {
		has_regent = yes
		regent = {
			stewardship = 13
		}
		NOT = { stewardship = 6 }
		trait = incapable
	}
	
	mean_time_to_happen = {
		months = 180
		modifier = {
			factor = 0.25
			trait = diligent
		}
		modifier = {
			factor = 2.0
			trait = greedy
		}
	}
	
	option = {
		name = EVTOPTA61110
		scaled_wealth = 0.25
	}
}

### REGENCY SERIES, OLD RULER HUMILIATED ###

#Regency: Regent humiliates Ruler.
character_event = {
	id = 61120
	desc = EVTDESC61120
	picture = GFX_evt_lunatic
	
	min_age = 16
	prisoner = no
	capable_only = yes
	
	trigger = {
		liege = { regent = { character = PREVPREV } }
		OR = {
			trait = lunatic
			NOT = { opinion = { who = liege value = -25 } }
		}	
		NOT = { has_character_flag = mean_regent }
		liege = { 
			age = 16
			trait = incapable
			NOT = { is_inaccessible_trigger = yes }
		}
	}
	
	mean_time_to_happen = {
		months = 280
		modifier = {
			factor = 0.25
			trait = cruel
		}
		modifier = {
			factor = 0.25
			trait = envious
		}
		modifier = {
			factor = 0.50
			trait = deceitful
		}
		modifier = {
			factor = 0.50
			trait = greedy
		}
		modifier = {
			factor = 2.0
			trait = kind
		}
		modifier = {
			factor = 2.0
			trait = just
		}
	}
	
	option = {
		name = EVTOPTA61120
		ai_chance = { 
			factor = 100 
			modifier = {
				factor = 0
				trait = kind
			}
		}
		liege = {
			character_event = { id = 61121 tooltip = EVTTOOLTIP61121 }
			random_courtier = {
				limit = {
					NOT = { opinion = { who = liege value = -25 } }
				}
				opinion = {
					modifier = opinion_approves
					who = ROOT
					years = 1
				}
			}
		}
		if = {
			limit = { trait = kind }
			remove_trait = kind
		}
		hidden_tooltip = {
			ROOT = { set_character_flag = mean_regent }
		}
	}
	option = {
		name = EVTOPTB61120
		ai_chance = { factor = 1 }
		root = { piety = 30 }
	}
}

#Regency: Ruler is humiliated by Regent.
character_event = {
	id = 61121
	desc = EVTDESC61121
	picture = GFX_evt_throne_room
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61121
		add_character_modifier = {
			name = mod_ashamed
			duration = 365
		}
		random_realm_character = {
			limit = {
				trait = just
				liege = { character = ROOT }
				age = 16
				prisoner = no
				NOT = { trait = incapable }
				OR = {
					is_ruler = no
					war = no
				}
				NOT = { has_character_flag = mean_regent }
				opinion = { who = ROOT value = 10 }
			}
			character_event = { id = 61122 days = 14 }
		}
	}
	option = {
		name = EVTOPTB61121
		add_character_modifier = {
			name = mod_ashamed
			duration = 365
		}
		random_realm_character = {
			limit = {
				trait = just
				liege = { character = ROOT }
				age = 16
				prisoner = no
				NOT = { trait = incapable }
				OR = {
					is_ruler = no
					war = no
				}
				NOT = { has_character_flag = mean_regent }
				opinion = { who = ROOT value = 10 }
			}
			character_event = { id = 61122 days = 14 }
		}
	}
}

#Regency: Vassal upset at treatment of Ruler.
character_event = {
	id = 61122
	desc = EVTDESC61122
	picture = GFX_evt_throne_room
	
	is_triggered_only = yes
	
	trigger = { 
		FROM = { 
			is_alive = yes 
			is_ruler = yes
			any_courtier = {
				liege = { regent = { character = PREVPREV } }
				has_character_flag = mean_regent
			}	
		}
	}	
	
	option = {
		name = EVTOPTA61122
		ai_chance = { factor = 100 }
		liege = {
			character_event = { id = 61123 tooltip = EVTTOOLTIP61123 }
			hidden_tooltip = {
				ROOT = { set_character_flag = valiant_vassal }
			}
		}
	}
	option = {
		name = EVTOPTB61122
		ai_chance = { factor = 0 }
		root = { piety = -40 }
	}
}

#Regency: Ruler approached by vassal.
character_event = {
	id = 61123
	desc = EVTDESC61123
	picture = GFX_evt_emissary
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61123
		ai_chance = { factor = 100 }
		FROM = {
			character_event = { id = 61124 days = 1 tooltip = EVTTOOLTIP61124 }
		}
	}
	option = {
		name = EVTOPTB61123
		ai_chance = { factor = 0 }
		random_courtier = {
			limit = { has_character_flag = valiant_vassal }
			opinion = {
				modifier = opinion_disappointed
				who = ROOT
				years = 1
			}
		}
	}
}

#Regency: Vassal gets approval, makes move.
character_event = {
	id = 61124
	desc = EVTDESC61124
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61124
		if = { #Compare intrigue with current regent to get % chance
			limit = { 
				any_courtier = {
					liege = { regent = { character = PREVPREV } }
					has_character_flag = mean_regent
					ROOT = {
						attribute_diff = {
							character = PREV
							attribute = intrigue
							value = 8
						}
					}				
				}			
			}
			random_list = {
				90 = {
					character_event = { id = 61125 tooltip = EVTTOOLTIP61125 }
				}
				10 = {
					character_event = { id = 61127 tooltip = EVTTOOLTIP61127 }
				}
			}
		}
		if = {
			limit = { 
				any_courtier = {
					liege = { regent = { character = PREVPREV } }
					has_character_flag = mean_regent
					ROOT = {
						attribute_diff = {
							character = PREV
							attribute = intrigue
							value = 4
						}
					}
					NOT = {
						ROOT = {
							attribute_diff = {
								character = PREV
								attribute = intrigue
								value = 8
							}
						}
					}					
				}			
			}
			random_list = {
				70 = {
					character_event = { id = 61125 tooltip = EVTTOOLTIP61125 }
				}
				30 = {
					character_event = { id = 61127 tooltip = EVTTOOLTIP61127 }
				}
			}
		}
		if = {
			limit = { 
				any_courtier = {
					liege = { regent = { character = PREVPREV } }
					has_character_flag = mean_regent
					NOT = {
						ROOT = {
							attribute_diff = {
								character = PREV
								attribute = intrigue
								value = 4
							}
						}
					}
					NOT = {
						attribute_diff = {
							character = ROOT
							attribute = intrigue
							value = 4
						}
					}					
				}			
			}
			random_list = {
				50 = {
					character_event = { id = 61125 tooltip = EVTTOOLTIP61125 }
				}
				50 = {
					character_event = { id = 61127 tooltip = EVTTOOLTIP61127 }
				}
			}
		}
		if = {
			limit = { 
				any_courtier = {
					liege = { regent = { character = PREVPREV } }
					has_character_flag = mean_regent
					attribute_diff = {
						character = ROOT
						attribute = intrigue
						value = 4
					}
					NOT = {
						attribute_diff = {
							character = ROOT
							attribute = intrigue
							value = 8
						}
					}					
				}			
			}
			random_list = {
				30 = {
					character_event = { id = 61125 tooltip = EVTTOOLTIP61125 }
				}
				70 = {
					character_event = { id = 61127 tooltip = EVTTOOLTIP61127 }
				}
			}
		}	
		if = {
			limit = { 
				any_courtier = {
					liege = { regent = { character = PREVPREV } }
					has_character_flag = mean_regent
					attribute_diff = {
						character = ROOT
						attribute = intrigue
						value = 8
					}				
				}			
			}
			random_list = {
				10 = {
					character_event = { id = 61125 tooltip = EVTTOOLTIP61125 }
				}
				90 = {
					character_event = { id = 61127 tooltip = EVTTOOLTIP61127 }
				}
			}
		}
	}
	option = {
		name = EVTOPTB61124
		if = { #Compare intrigue with current regent to get % chance
			limit = { 
				any_courtier = {
					liege = { regent = { character = PREVPREV } }
					has_character_flag = mean_regent
					ROOT = {
						attribute_diff = {
							character = PREV
							attribute = intrigue
							value = 8
						}
					}				
				}			
			}
			random_list = {
				90 = {
					character_event = { id = 61126 tooltip = EVTTOOLTIP61126 }
				}
				10 = {
					character_event = { id = 61127 tooltip = EVTTOOLTIP61127 }
				}
			}
		}
		if = {
			limit = { 
				any_courtier = {
					liege = { regent = { character = PREVPREV } }
					has_character_flag = mean_regent
					ROOT = {
						attribute_diff = {
							character = PREV
							attribute = intrigue
							value = 4
						}
					}
					NOT = {
						ROOT = {
							attribute_diff = {
								character = PREV
								attribute = intrigue
								value = 8
							}
						}
					}					
				}			
			}
			random_list = {
				70 = {
					character_event = { id = 61126 tooltip = EVTTOOLTIP61126 }
				}
				30 = {
					character_event = { id = 61127 tooltip = EVTTOOLTIP61127 }
				}
			}
		}
		if = {
			limit = { 
				any_courtier = {
					liege = { regent = { character = PREVPREV } }
					has_character_flag = mean_regent
					NOT = {
						ROOT = {
							attribute_diff = {
								character = PREV
								attribute = intrigue
								value = 4
							}
						}
					}
					NOT = {
						attribute_diff = {
							character = ROOT
							attribute = intrigue
							value = 4
						}
					}					
				}			
			}
			random_list = {
				50 = {
					character_event = { id = 61126 tooltip = EVTTOOLTIP61126 }
				}
				50 = {
					character_event = { id = 61127 tooltip = EVTTOOLTIP61127 }
				}
			}
		}
		if = {
			limit = { 
				any_courtier = {
					liege = { regent = { character = PREVPREV } }
					has_character_flag = mean_regent
					attribute_diff = {
						character = ROOT
						attribute = intrigue
						value = 4
					}
					NOT = {
						attribute_diff = {
							character = ROOT
							attribute = intrigue
							value = 8
						}
					}					
				}			
			}
			random_list = {
				30 = {
					character_event = { id = 61126 tooltip = EVTTOOLTIP61126 }
				}
				70 = {
					character_event = { id = 61127 tooltip = EVTTOOLTIP61127 }
				}
			}
		}	
		if = {
			limit = { 
				any_courtier = {
					liege = { regent = { character = PREVPREV } }
					has_character_flag = mean_regent
					attribute_diff = {
						character = ROOT
						attribute = intrigue
						value = 8
					}				
				}			
			}
			random_list = {
				10 = {
					character_event = { id = 61126 tooltip = EVTTOOLTIP61126 }
				}
				90 = {
					character_event = { id = 61127 tooltip = EVTTOOLTIP61127 }
				}
			}
		}
	}
}

#Regency: Vassal defeats Regent, becomes new Regent.
character_event = {
	id = 61125
	desc = EVTDESC61125
	picture = GFX_evt_melee
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61125
		clr_character_flag = valiant_vassal
		liege = {
			random_courtier = {
				limit = { has_character_flag = mean_regent }
				character_event = { id = 61129 tooltip = EVTTOOLTIP61129 }
			}
			character_event = { id = 61131 }		
		}
		gain_regency_effect = yes
	}
}

#Regency: Vassal defeats Regent, Regent loses title, goes to next in Regent succession.
character_event = {
	id = 61126
	desc = EVTDESC61125
	picture = GFX_evt_melee
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61125
		clr_character_flag = valiant_vassal
		liege = {
			random_courtier = {
				limit = { has_character_flag = mean_regent }
				character_event = { id = 61129 tooltip = EVTTOOLTIP61129 }
			}
			character_event = { id = 61131 }
			random_courtier = {
				limit = {
					NOT = { liege = { regent = { character = PREVPREV } } }
					prisoner = no 
					age = 16
					NOT = { trait = incapable }
				}
				gain_regency_effect = yes
			}
		}
	}
}

#Regency: Vassal fails, is jailed.
character_event = {
	id = 61127
	desc = EVTDESC61127
	picture = GFX_evt_into_the_dungeon
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61127
		liege = {
			random_courtier = {
				limit = {
					has_character_flag = mean_regent
				}
				character_event = { id = 61128 }
			}
			character_event = { id = 61130 }
		}
	}
}

#Regency: Regent successful in keeping title.
character_event = {
	id = 61128
	desc = EVTDESC61128
	picture = GFX_evt_spymaster
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61128
		clr_character_flag = mean_regent
		liege = {
			random_courtier = {
				limit = { has_character_flag = valiant_vassal }
				imprison = yes
				clr_character_flag = valiant_vassal
			}
		}
	}
}

#Regency: Regent is jailed.
character_event = {
	id = 61129
	desc = EVTDESC61129
	picture = GFX_evt_into_the_dungeon
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61129
		imprison = yes
		clr_character_flag = mean_regent
	}
}

#Regency: Ruler informed of failure to replace Regent.
character_event = {
	id = 61130
	desc = EVTDESC61130
	picture = GFX_evt_throne_room
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61130
		ROOT = { prestige = -50 }
	}
	option = {
		name = EVTOPTB61130
		ROOT = { prestige = -50 }
	}
}

#Regency: Ruler informed of success in replacing Regent.
character_event = {
	id = 61131
	desc = EVTDESC61131
	picture = GFX_evt_emissary
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61131
		prestige = 50
	}
	option = {
		name = EVTOPTB61131
		prestige = 50
	}
}

#Regency: Ruler, if child, kills Regent.
character_event = {
	id = 61135
	desc = EVTDESC61135
	picture = GFX_evt_child_sword
	
	only_playable = yes
	min_age = 4
	max_age = 15
	capable_only = yes
	prisoner = no
	
	trigger = {
		has_regent = yes
		NOT = { has_character_flag = pushed_regent }
		regent = {
			ai = yes
		}
		is_nomadic = no
	}
	
	mean_time_to_happen = {
		months = 280
		modifier = {
			factor = 0.25
			trait = cruel
		}
		modifier = {
			factor = 0.50
			trait = wroth
		}
		modifier = {
			factor = 0.75
			trait = arbitrary
		}
		modifier = {
			factor = 2.0
			trait = kind
		}
		modifier = {
			factor = 2.0
			trait = just
		}
	}
	
	option = {
		name = EVTOPTA61135
		ai_chance = { factor = 0 }
		set_character_flag = pushed_regent
		random_list = {
			50 = {
				random_courtier = {
					limit = { liege = { regent = { character = PREVPREV } } }
					ROOT_murder_red_god_resurrect_effect = yes #check for rhllor resurrection
					death = {
						death_reason = death_murder_unknown_fall
						killer = ROOT
					}
				}
			}
			50 = { 
				random_courtier = {
					limit = { liege = { regent = { character = PREVPREV } } }
					add_trait = wounded
					opinion = {
						modifier = opinion_mad_as_hell
						who = ROOT
						years = 10
					}
				}
			}
		}
	}
	option = {
		name = EVTOPTB61135
		ai_chance = { factor = 100 }
		set_character_flag = pushed_regent
		piety = 30
	}
}

### REGENCY SERIES, YOUNG RULER DECLARED INSANE ###

#Regency: Regent attempts to declare ruler insane when he's not.
character_event = {
	id = 61140
	desc = EVTDESC61140
	picture = GFX_evt_child_play
	
	min_age = 16
	prisoner = no
	capable_only = yes
	
	trigger = {
		liege = { regent = { character = PREVPREV } }
		diplomacy = 10
		intrigue = 10
		OR = {
			trait = ruthless
			NOT = { opinion = { who = liege value = -15 } }
		}	
		liege = {
			age = 5
			NOT = { age = 16 }
			NOT = { trait = lunatic }
			NOT = { is_incapable = yes }
		}
		NOT = { has_character_flag = declared_ruler_insane }
	}
	
	mean_time_to_happen = {
		months = 340
		
		modifier = {
			factor = 5
			trait = just
			NOT = { liege = { primary_title = { ROOT = { has_claim = PREV } } } }
		}
		modifier = {
			factor = 0.5
			trait = just
			liege = { primary_title = { ROOT = { has_claim = PREV } } }
		}
		modifier = {
			factor = 0.5
			liege = { primary_title = { ROOT = { has_claim = PREV } } }
		}
		
		modifier = {
			factor = 0.25
			trait = envious
		}
		modifier = {
			factor = 0.25
			trait = deceitful
		}
		modifier = {
			factor = 0.50
			trait = ambitious
		}
		modifier = {
			factor = 0.50
			trait = ruthless
		}
		modifier = {
			factor = 0.75
			trait = greedy
		}
		modifier = {
			factor = 2.0
			trait = kind
		}
		modifier = {
			factor = 10
			trait = honorable
		}
	}
	
	option = {
		name = EVTOPTA61140
		ai_chance = { 
			factor = 100 
			modifier = {
				factor = 0
				trait = honorable
			}
			modifier = {
				factor = 0.1
				trait = just	
				NOT = { liege = { primary_title = { ROOT = { has_claim = PREV } } } }				
			}
		}
		set_character_flag = declared_ruler_insane
		if = {
			limit = {
				NOT = { intrigue = 6 }			
			}
			random_list = {
				15 = {
					character_event = { id = 61145 tooltip = EVTTOOLTIP61145 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61151 }
						}
					}
				}
				85 = {
					character_event = { id = 61146 tooltip = EVTTOOLTIP61146 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61150 }
						}
					}
				}
			}
		}
		if = {
			limit = {
				intrigue = 6
				NOT = { intrigue = 10 }			
			}
			random_list = {
				35 = {
					character_event = { id = 61145 tooltip = EVTTOOLTIP61145 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61151 }
						}
					}
				}
				65 = {
					character_event = { id = 61146 tooltip = EVTTOOLTIP61146 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61150 }
						}
					}
				}
			}
		}	
		if = {
			limit = {
				intrigue = 10
				NOT = { intrigue = 15 }			
			}
			random_list = {
				65 = {
					character_event = { id = 61145 tooltip = EVTTOOLTIP61145 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61151 }
						}
					}
				}
				35 = {
					character_event = { id = 61146 tooltip = EVTTOOLTIP61146 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61150 }
						}
					}
				}
			}
		}
		if = {
			limit = {
				intrigue = 15		
			}
			random_list = {
				85 = {
					character_event = { id = 61145 tooltip = EVTTOOLTIP61145 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61151 }
						}
					}
				}
				15 = {
					character_event = { id = 61146 tooltip = EVTTOOLTIP61146 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61150 }
						}
					}
				}
			}
		}
		if = {
			limit = { trait = honorable }
			remove_trait = honorable
		}
	}
	option = {
		name = EVTOPTB61140
		ai_chance = { factor = 1 }
		set_character_flag = declared_ruler_insane
		piety = 30
	}
}

#Regency: Regent attempts to declare ruler insane.
character_event = {
	id = 61141
	desc = EVTDESC61141
	picture = GFX_evt_child_play
	
	min_age = 16
	prisoner = no
	capable_only = yes
	
	trigger = {
		liege = { regent = { character = PREVPREV } }
		independent = no
		NOR = { 
			trait = lunatic 
			has_character_flag = declared_ruler_insane
		}
		liege = {
			age = 5
			NOT = { age = 16 }
			trait = lunatic
			NOT = { is_incapable = yes }
		}
	}
	
	mean_time_to_happen = {
		months = 240
		modifier = {
			factor = 0.25
			trait = just
		}
		modifier = {
			factor = 0.25
			trait = diligent
		}
		modifier = {
			factor = 0.50
			trait = ambitious
		}
		modifier = {
			factor = 0.50
			trait = ruthless
		}
		modifier = {
			factor = 0.75
			trait = honest
		}
		modifier = {
			factor = 2.0
			trait = slothful
		}
		modifier = {
			factor = 2.0
			trait = shy
		}
	}
	
	option = {
		name = EVTOPTA61141
		ai_chance = { factor = 100 }
		set_character_flag = declared_ruler_insane
		if = {
			limit = {
				NOT = { intrigue = 6 }			
			}
			random_list = {
				15 = {
					character_event = { id = 61142 tooltip = EVTTOOLTIP61145 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61151 }
						}
					}
				}
				85 = {
					character_event = { id = 61146 tooltip = EVTTOOLTIP61146 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61150 }
						}
					}
				}
			}
		}
		if = {
			limit = {
				intrigue = 6
				NOT = { intrigue = 10 }			
			}
			random_list = {
				35 = {
					character_event = { id = 61142 tooltip = EVTTOOLTIP61145 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61151 }
						}
					}
				}
				65 = {
					character_event = { id = 61146 tooltip = EVTTOOLTIP61146 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61150 }
						}
					}
				}
			}
		}	
		if = {
			limit = {
				intrigue = 10
				NOT = { intrigue = 15 }			
			}
			random_list = {
				65 = {
					character_event = { id = 61142 tooltip = EVTTOOLTIP61145 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61151 }
						}
					}
				}
				35 = {
					character_event = { id = 61146 tooltip = EVTTOOLTIP61146 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61150 }
						}
					}
				}
			}
		}
		if = {
			limit = {
				intrigue = 15		
			}
			random_list = {
				85 = {
					character_event = { id = 61142 tooltip = EVTTOOLTIP61145 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61151 }
						}
					}
				}
				15 = {
					character_event = { id = 61146 tooltip = EVTTOOLTIP61146 }
					hidden_tooltip = {
						liege = {
							character_event = { id = 61150 }
						}
					}
				}
			}
		}
	}
	option = {
		name = EVTOPTB61141
		ai_chance = { factor = 0 }
		set_character_flag = declared_ruler_insane
		liege = {
			opinion = {
				modifier = opinion_defended_me
				who = ROOT
				years = 4
			}
		}
	}
}

#Regency: The insane ruler is imprisoned.
character_event = {
	id = 61142
	desc = EVTDESC61142
	picture = GFX_evt_castle_construction
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61142
		liege = {
			add_trait = declared_incapable
			add_character_modifier = { 
				name = house_arrest
				duration = -1
			}
			any_courtier = {
				limit = {
					NOT = { character = PREV }
					OR = {
						is_close_relative = PREV
						dynasty = PREV
					}
					OR = {
						ROOT = { 
							NOT = {
								OR = {
									is_close_relative = PREVPREV
									dynasty = PREVPREV
								}
							}
						}	
						NOT = { opinion = { who = ROOT value = 0 } }
					}
				}
				opinion = {
					modifier = declared_relative_insane
					who = ROOT
					years = 10
				}
			}
		}
		hidden_tooltip = {
			character_event = {
				id = 61155
				days = 3000
				random = 1000
			}
		}
	}
}

#Regency: The non-insane ruler is imprisoned.
character_event = {
	id = 61145
	desc = EVTDESC61145
	picture = GFX_evt_castle_construction
	
	is_triggered_only = yes
		
	option = {
		name = EVTOPTA61145
		liege = {
			add_trait = declared_incapable
			add_character_modifier = { 
				name = house_arrest
				duration = -1
			}
			opinion = {
				modifier = scheming_bastard
				who = ROOT
				years = 30
			}
			any_courtier = {
				limit = {
					NOT = { character = PREV }
					OR = {
						is_close_relative = PREV
						dynasty = PREV
					}
					OR = {
						ROOT = { 
							NOT = {
								OR = {
									is_close_relative = PREVPREV
									dynasty = PREVPREV
								}
							}
						}	
						NOT = { opinion = { who = ROOT value = 15 } }
					}
				}
				opinion = {
					modifier = scheming_bastard
					who = ROOT
					years = 30
				}
			}
		}
		hidden_tooltip = {
			character_event = {
				id = 61155
				days = 3000
				random = 1000
			}
		}
	}
}

#Regency: Regent informed attempt to have ruler declared insane fails.
character_event = {
	id = 61146
	desc = EVTDESC61146
	picture = GFX_evt_spymaster
	
	is_triggered_only = yes
	
	immediate = {
		hidden_tooltip = {
			liege = {
				any_courtier = {
					limit = {
						NOT = { character = PREV }
						OR = {
							is_close_relative = PREV
							dynasty = PREV
						}
						OR = {
							ROOT = { 
								NOT = {
									OR = {
										is_close_relative = PREVPREV
										dynasty = PREVPREV
									}
								}
							}	
							NOT = { opinion = { who = ROOT value = 0 } }
						}
					}
					opinion = {
						modifier = scheming_bastard
						who = ROOT
						years = 30
					}
				}
			}
		}
	}	
	
	option = {
		name = EVTOPTA61146
		trigger = {
			liege = {
				NOT = { trait = lunatic }
			}
		}
		liege = {
			opinion = {
				modifier = scheming_bastard
				who = ROOT
				years = 30
			}
		}
	}
	option = {
		name = EVTOPTB61146
		trigger = {
			liege = { trait = lunatic }
		}
		liege = {
			opinion = {
				modifier = scheming_bastard
				who = ROOT
				years = 30
			}
		}
	}
}

#Regency: Ruler informed attempt to have ruler declared insane fails.
character_event = {
	id = 61150
	desc = EVTDESC61150
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61150
		prestige = 30
	}
	option = {
		name = EVTOPTB61150
		tooltip_info = lunatic
		trigger = { trait = lunatic }
		prestige = 30
	}
}

#Regency: Ruler informed he has been declared insane.
character_event = {
	id = 61151
	desc = EVTDESC61151
	picture = GFX_evt_castle_construction
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61151
		set_character_flag = imprisoned_by_regent
		prestige = -30
		add_trait = declared_incapable
	}
	option = {
		name = EVTOPTB61151
		tooltip_info = lunatic
		trigger = { trait = lunatic }
		set_character_flag = imprisoned_by_regent
		prestige = -30
		add_trait = declared_incapable
	}
}

#Regency: Regent replaced, Ruler is set free?
character_event = {
	id = 61153
	
	only_playable = yes
	hide_window = yes
	prisoner = no
	
	trigger = {	
		trait = declared_incapable
		regent = {
			NOT = { has_character_flag = declared_ruler_insane }
		}
		NOT = { trait = on_reaving }
		NOT = { trait = wikid }
	}
	
	immediate = {
		if = {
			limit = { trait = incapable }
			remove_trait = declared_incapable
			break = yes
		}
		regent = {
			character_event = { id = 61154 }
		}
	}
	
	option = {
		name = OK
	}
}
character_event = {
	id = 61154
	desc = EVTDESC61154
	picture = GFX_evt_emissary
	
	is_triggered_only = yes
	
	immediate = {
		#is the regency justified?
		if = {
			limit = {
				FROM = {
					OR = {
						trait = inbred
						trait = imbecile
						trait = lunatic
						is_crippled_trigger = yes
						trait = infirm
						has_epidemic = yes
					}
				}
			}
			set_character_flag = justified_regency
		}
	}
	
	option = {
		name = EVTOPTA61154 #Release
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				NOT = { has_character_flag = justified_regency }
				NOT = { FROM = { primary_title = { ROOT = { has_claim = PREV } } } }
				trait = just
			}
			modifier = {
				factor = 3
				NOT = { has_character_flag = justified_regency }
				trait = honest
			}
			modifier = {
				factor = 3
				NOT = { has_character_flag = justified_regency }
				trait = kind
			}
			modifier = {
				factor = 3
				NOT = { has_character_flag = justified_regency }
				is_close_relative = FROM				
			}
			modifier = {
				factor = 3
				trait = content
			}
			modifier = {
				factor = 2
				trait = charitable
			}
			modifier = {
				factor = 2
				trait = slothful
			}
			modifier = {
				factor = 2
				trait = shy
			}
		}
		FROM = { 
			remove_trait = declared_incapable 
			opinion = {
				modifier = opinion_defended_me
				who = ROOT
				years = 4
			}
			hidden_tooltip = { character_event = { id = 61152 } }
		}
		clr_character_flag = justified_regency
	}
	option = {
		name = EVTOPTB61154 #Keep regency
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				NOT = { has_character_flag = justified_regency }
				trait = honorable
			}
			modifier = {
				factor = 5
				has_character_flag = justified_regency
			}
			modifier = {
				factor = 2
				OR = {
					FROM = { primary_title = { ROOT = { has_claim = PREV } } }
					has_character_flag = justified_regency
				}	
				trait = just
			}
			modifier = {
				factor = 2
				has_character_flag = justified_regency
				trait = diligent
			}
			modifier = {
				factor = 2
				has_character_flag = justified_regency
				trait = honest
			}
			modifier = {
				factor = 3
				trait = ambitious
			}
			modifier = {
				factor = 2
				trait = greedy
			}
			modifier = {
				factor = 2
				trait = envious
			}
			modifier = {
				factor = 2
				trait = ruthless
			}
			modifier = {
				factor = 2
				trait = deceitful
			}
		}
		set_character_flag = declared_ruler_insane
		hidden_tooltip = {
			character_event = {
				id = 61155
				days = 3000
				random = 1000
			}
		}
		clr_character_flag = justified_regency
	}
}
character_event = {
	id = 61152
	desc = EVTDESC61152
	picture = GFX_evt_emissary
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61152
		remove_trait = declared_incapable
		remove_character_modifier = house_arrest
		clr_character_flag = imprisoned_by_regent
		any_courtier = {
			limit = { has_character_flag = declared_ruler_insane }
			clr_character_flag = declared_ruler_insane
		}
	}
	option = {
		name = EVTOPTB61152
		tooltip_info = lunatic
		trigger = { trait = lunatic }
		remove_trait = declared_incapable
		remove_character_modifier = house_arrest
		clr_character_flag = imprisoned_by_regent
		any_courtier = {
			limit = { has_character_flag = declared_ruler_insane }
			clr_character_flag = declared_ruler_insane
		}
	}
}

#Regency: Regent has opportunity to steal throne.
character_event = {
	id = 61155
	desc = EVTDESC61155
	picture = GFX_evt_shadowy_cabal
	
	min_age = 16
	prisoner = no
	capable_only = yes
	
	is_triggered_only = yes
	
	trigger = {
		liege = { 
			regent = { character = PREVPREV }
			trait = declared_incapable
			is_feudal = yes
			has_character_flag = imprisoned_by_regent 
		}
		OR = {
			is_ruler = yes
			liege = { dynasty = ROOT }
			liege = { primary_title = { ROOT = { has_claim = PREV } } }
		}
		can_press_claims_trigger = yes
	}
	
	option = {
		name = EVTOPTA61155
		ai_chance = { 
			factor = 200
			modifier = {
				factor = 0
				NOT = {
					OR = {
						liege = { dynasty = ROOT }
						liege = { primary_title = { ROOT = { has_claim = PREV } } }
					}
				}
			}
			modifier = {
				factor = 0
				trait = honorable
			}
			modifier = {
				factor = 0.2
				trait = content
			}
			modifier = {
				factor = 0.2
				trait = slothful
			}
			modifier = {
				factor = 0.5
				trait = kind
			}
			modifier = {
				factor = 0.5
				trait = patient
			}
			modifier = {
				factor = 4
				trait = ambitious
			}
			modifier = {
				factor = 2
				trait = diligent
			}
			modifier = {
				factor = 2
				trait = greedy
			}
			modifier = {
				factor = 2
				trait = wroth
			}
			modifier = {
				factor = 2
				trait = ruthless
			}
			
			modifier = {
				factor = 0.4
				NOT = { intrigue = 6 }
			}
			modifier = {
				factor = 1.5
				intrigue = 10
			}
			modifier = {
				factor = 2
				intrigue = 15
			}
		}
		if = {
			limit = {
				NOT = { intrigue = 6 }
			}
			random_list = {
				20 = {
					character_event = { id = 61156 tooltip = EVTTOOLTIP61156 }
				}
				80 = {
					character_event = { id = 61157 tooltip = EVTTOOLTIP61157 }
				}
			}
		}	
		if = {
			limit = {
				intrigue = 6
				NOT = { intrigue = 10 }
			}
			random_list = {
				40 = {
					character_event = { id = 61156 tooltip = EVTTOOLTIP61156 }
				}
				60 = {
					character_event = { id = 61157 tooltip = EVTTOOLTIP61157 }
				}
			}
		}
		if = {
			limit = {
				intrigue = 10
				NOT = { intrigue = 15 }
			}
			random_list = {
				75 = {
					character_event = { id = 61156 tooltip = EVTTOOLTIP61156 }
				}
				25 = {
					character_event = { id = 61157 tooltip = EVTTOOLTIP61157 }
				}
			}
		}	
		if = {
			limit = {
				intrigue = 15
			}
			random_list = {
				95 = {
					character_event = { id = 61156 tooltip = EVTTOOLTIP61156 }
				}
				5 = {
					character_event = { id = 61157 tooltip = EVTTOOLTIP61157 }
				}
			}
		}		
	}
	option = {
		name = EVTOPTB61155
		ai_chance = { 
			factor = 100 
		}
	}
	option = {
		name = EVTOPTC61155
		ai_chance = { factor = 0 }
		liege = {
			remove_trait = declared_incapable
			remove_character_modifier = house_arrest
			clr_character_flag = imprisoned_by_regent
		}
	}
}

#Regency: Regent informed he has stolen throne.
character_event = {
	id = 61156
	desc = EVTDESC61156
	picture = GFX_evt_throne_room
	
	is_triggered_only = yes
	
	immediate = {
		hidden_tooltip = {
			liege = {
				father = {
					if = {
						limit = {
							OR = {
								AND = {
									NOT = { is_close_relative = ROOT }
									NOT = { dynasty = ROOT }
								}
								AND = {
									PREV = { NOT = { trait = lunatic } }
									NOT = { opinion = { who = ROOT value = 15 } }
								}																
							}
						}
						opinion = { modifier = usurped_relatives_title who = ROOT years = 20 }
					}	
				}
				mother = {
					if = {
						limit = {
							OR = {
								AND = {
									NOT = { is_close_relative = ROOT }
									NOT = { dynasty = ROOT }
								}
								AND = {
									PREV = { NOT = { trait = lunatic } }
									NOT = { opinion = { who = ROOT value = 15 } }
								}																
							}
						}
						opinion = { modifier = usurped_relatives_title who = ROOT years = 20 }
					}	
				}
				any_child = {
					limit = {
						NOT = { has_opinion_modifier = { modifier = usurped_relatives_title who = ROOT } }
						OR = {
							AND = {
								NOT = { is_close_relative = ROOT }
								NOT = { dynasty = ROOT }
							}
							AND = {
								PREV = { NOT = { trait = lunatic } }
								NOT = { opinion = { who = ROOT value = 15 } }
							}																
						}
					}
					opinion = { modifier = usurped_relatives_title who = ROOT years = 20 }
				}
				any_dynasty_member = {
					limit = {
						is_close_relative = PREV
						NOT = { character = PREV }
						NOT = { has_opinion_modifier = { modifier = usurped_relatives_title who = ROOT } }
						OR = {
							AND = {
								NOT = { is_close_relative = ROOT }
								NOT = { dynasty = ROOT }
							}
							AND = {
								PREV = { NOT = { trait = lunatic } }
								NOT = { opinion = { who = ROOT value = 15 } }
							}																
						}
					}
					opinion = { modifier = usurped_relatives_title who = ROOT years = 20 }
				}				
			}
		}
	}
	
	option = {
		name = EVTOPTA61156
		liege = {
			character_event = { id = 61161 tooltip = EVTTOOLTIP61161 }
			opinion = { modifier = opinion_usurped_title who = ROOT }		
		}
	}
}

#Regency: Regent informed he failed to steal throne.
character_event = {
	id = 61157
	desc = EVTDESC61157
	picture = GFX_evt_scandal
	
	is_triggered_only = yes
	
	immediate = {
		hidden_tooltip = {
			liege = {
				any_courtier = {
					limit = {
						NOT = { character = PREV }
						OR = {
							is_close_relative = PREV
							dynasty = PREV
						}
						OR = {
							ROOT = { 
								NOT = {
									OR = {
										is_close_relative = PREVPREV
										dynasty = PREVPREV
									}
								}
							}	
							NOT = { opinion = { who = ROOT value = 0 } }
						}
					}
					opinion = {
						modifier = scheming_bastard
						who = ROOT
						years = 30
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA61157
		liege = {
			character_event = { id = 61160 tooltip = EVTTOOLTIP61160 }
		}
	}
}

#Regency: Ruler informed Regent failed to steal throne.
character_event = {
	id = 61160
	desc = EVTDESC61160
	picture = GFX_evt_recovery
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61160
		remove_trait = declared_incapable
		remove_character_modifier = house_arrest
		clr_character_flag = imprisoned_by_regent
	}
}

#Regency: Ruler informed Regent stole throne.
character_event = {
	id = 61161
	desc = EVTDESC61161
	picture = GFX_evt_drunk
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61161
		hidden_tooltip = {
			liege = { letter_event = { id = 61162 days = 1 } }
			any_realm_lord = {
				letter_event = { id = 61162 days = 1 }
			}
		}
		abdicate_to = FROM
		clr_character_flag = imprisoned_by_regent
		remove_character_modifier = house_arrest
		imprison = FROM
	}
}	
letter_event = { #Inform realm
	id = 61162
	desc = EVTDESC61162
	
	is_triggered_only = yes
	show_from_from = yes
	
	trigger = { NOT = { character = FROMFROM } }
	
	option = {
		name = EVTOPTA61162
		trigger = { FROM = { trait = lunatic } }
		FROM = { tooltip = { } }
	}
	
	option = {
		name = EVTOPTB61162
		trigger = { FROM = { NOT = { trait = lunatic } } }
		FROM = { tooltip = { } }
		opinion = {
			who = FROMFROM
			modifier = opinion_unjust_coup
		}
	}
}

#Regency: Ruler escapes from tower.
character_event = {
	id = 61165
	desc = EVTDESC61165
	picture = GFX_evt_emissary
	
	only_rulers = yes
	min_age = 16
	prisoner = no
	
	trigger = { 
		trait = declared_incapable
		NOT = { trait = incapable }
		NOT = { trait = on_reaving }
		NOT = { trait = wikid }
	}
	
	mean_time_to_happen = {
		months = 120
		
		modifier = {
			factor = 0.01
			OR = {
				regent = { 
					ROOT = { 
						attribute_diff = {
							character = PREV
							attribute = intrigue
							value = 3
						} 
					} 
				}
				intrigue = 15
				diplomacy = 15
				martial = 15
			}
			NOR = {
				trait = inbred
				trait = imbecile
				trait = lunatic
				is_crippled_trigger = yes
				trait = infirm
				has_epidemic = yes
			}
		}	
		modifier = {
			factor = 0.33
			age = 21
			NOR = {
				trait = inbred
				trait = imbecile
				trait = lunatic
				is_crippled_trigger = yes
				trait = infirm
				has_epidemic = yes
			}
		}
		
		modifier = {
			factor = 1.5
			NOT = { intrigue = 1 }
		}
		modifier = {
			factor = 1.5
			NOT = { intrigue = 3 }
		}
		modifier = {
			factor = 0.8
			intrigue = 6
		}
		modifier = {
			factor = 0.8
			intrigue = 8
		}
		modifier = {
			factor = 0.75
			intrigue = 11
		}
		modifier = {
			factor = 0.75
			intrigue = 14
		}
		modifier = {
			factor = 0.75
			intrigue = 17
		}
		modifier = {
			factor = 0.75
			intrigue = 20
		}
		
		modifier = {
			factor = 0.33
			trait = ambitious
		}
		modifier = {
			factor = 0.50
			trait = authoritative
		}	
		modifier = {
			factor = 0.50
			trait = brave
		}		
		modifier = {
			factor = 0.66
			trait = diligent
		}
		modifier = {
			factor = 0.66
			trait = wroth
		}
		modifier = {
			factor = 1.5
			trait = patient
		}
		modifier = {
			factor = 1.5
			trait = slothful
		}
		modifier = {
			factor = 2.0
			trait = content
		}
		modifier = {
			factor = 2.0
			trait = craven
		}
		modifier = {
			factor = 3.0
			is_dumb_trigger = yes
		}		
		modifier = {
			factor = 3.0
			is_crippled_trigger = yes
		}
		modifier = {
			factor = 3.0
			trait = infirm
		}
		modifier = {
			factor = 5.0
			trait = inbred
		}	
		modifier = {
			factor = 5.0
			trait = lunatic
		}
		modifier = {
			factor = 5.0
			trait = imbecile
		}
		modifier = {
			factor = 5.0
			has_epidemic = yes
		}
	}
	
	option = {
		name = {
			text = EVTOPTA61165
			trigger = {
				primary_title = {
					NOT = { title = e_iron_throne }
					NOT = { title = e_reach }
					NOT = { title = e_north }
				}
			}
		}	
		name = {
			text = EVTOPTC61165
			trigger = {
				primary_title = {
					title = e_iron_throne
				}
			}
		}
		name = {
			text = EVTOPTD61165
			trigger = {
				primary_title = {
					OR = {
						title = e_reach
						title = e_north
					}	
				}
			}
		}
		remove_trait = declared_incapable
		if = {
			limit = { has_character_modifier = house_arrest }
			remove_character_modifier = house_arrest
		}	
		regent = {
			if = {
				limit = { ROOT = { has_character_flag = imprisoned_by_regent } }
				imprison = yes
			}
			hidden_tooltip = { 
				character_event = { id = 61170 }
			}
		}
	}

	option = {
		name = EVTOPTB61165
		tooltip_info = lunatic
		trigger = { trait = lunatic }
		character_event = { id = 61166 tooltip = EVTTOOLTIP61166 }
	}
}

#Regency: Ruler escorted back to tower.
character_event = {
	id = 61166
	desc = EVTDESC61166
	picture = GFX_evt_castle_construction
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61166
		random_list = {
			50 = { add_trait = possessed }
			50 = { }
		}
	}
}

#Regency: Regent informed Ruler is reinstated after escaping.
character_event = {
	id = 61170
	desc = EVTDESC61170
	picture = GFX_evt_into_the_dungeon
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61170
		if = {
			limit = { FROM = { has_character_flag = imprisoned_by_regent } }
			FROM = { clr_character_flag = imprisoned_by_regent }
			imprison = yes
		}	
	}
}

### REGENCY SERIES, REGENT TRIES TO KILL YOUNG RULER ###

## Regent sends Ruler to scrub roof.
character_event = {
	id = 61190
	desc = EVTDESC61190
	picture = GFX_evt_castle_construction
	
	min_age = 16
	prisoner = no
	capable_only = yes
	
	trigger = {
		liege = { 
			has_regent = yes
			regent = { character = ROOT } 
			age = 5
			NOT = { age = 16 }
			current_heir = {
				OR = {
					character = ROOT
					is_married = ROOT
					is_child_of = ROOT
					father_even_if_dead = { is_child_of = ROOT }
					mother_even_if_dead = { is_child_of = ROOT }
				}
			}
			NOR = {
				is_married = ROOT
				is_child_of = ROOT
				father_even_if_dead = { is_child_of = ROOT }
				mother_even_if_dead = { is_child_of = ROOT }
				is_friend = ROOT
			}
			OR = {
				NOT = { reverse_opinion = { who = ROOT value = -5 } }
				ROOT = { trait = ruthless }
			}
			OR = {
				NOR = {
					is_close_relative = ROOT
					dynasty = ROOT
				}
				ROOT = { 
					OR = {
						trait = kinslayer
						trait = lunatic
						trait = arbitrary
					}	
				}
			}
		}
		OR = {
			trait = ruthless
			trait = ambitious
			trait = deceitful
		}
		NOR = {
			trait = honest
			trait = honorable
		}		
		NOT = { has_character_flag = regent_schemer }
	}
	
	mean_time_to_happen = {
		months = 250
		
		modifier = {
			factor = 3
			NOT = { trait = kinslayer }
			NOT = { trait = ruthless }
			NOT = { trait = arbitrary }
			NOT = { trait = lunatic }
			liege = {
				OR = {
					is_close_relative = ROOT
					dynasty = ROOT
				}
			}
		}
		modifier = {
			factor = 0.33
			trait = lunatic
		}
		modifier = {
			factor = 0.33
			trait = arbitrary
		}
		modifier = {
			factor = 0.33
			trait = envious
		}
		modifier = {
			factor = 0.33
			trait = deceitful
		}
		modifier = {
			factor = 0.33
			trait = ruthless
		}
		modifier = {
			factor = 0.33
			trait = ambitious
		}
		modifier = {
			factor = 0.5
			trait = cruel
		}	
		modifier = {
			factor = 3
			trait = just
		}		
		modifier = {
			factor = 3
			trait = kind
		}
		modifier = {
			factor = 3
			trait = content
		}
		modifier = {
			factor = 2
			opinion = { who = liege value = -25 }
		}
		modifier = {
			factor = 2
			opinion = { who = liege value = -50 }
		}	
		modifier = {
			factor = 0.5
			NOT = { opinion = { who = liege value = -75 } }
		}		
	}
	
	option = {
		name = EVTOPTA61190
		ai_chance = { factor = 100 }
		set_character_flag = regent_schemer
		liege = {
			character_event = {	id = 61191 tooltip = EVTTOOLTIP61191 }
		}
	}
	option = {
		name = EVTOPTB61190
		ai_chance = { factor = 0 }
		piety = 20
	}
}

## Ruler is sent to scrub roof.
character_event = {
	id = 61191
	desc = EVTDESC61191
	picture = GFX_evt_castle_construction
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61191
		random_list = {
			80 = {
				character_event = {	id = 61192 tooltip = EVTTOOLTIP61192 }
			}
			20 = {
				FROM_murder_red_god_resurrect_effect = yes #check for rhllor resurrection
				death = {
					death_reason = death_murder_unknown_fall
					killer = FROM
				}
			}
		}
	}
}

## Ruler scrubs roof successfully.
character_event = {
	id = 61192
	desc = EVTDESC61192
	picture = GFX_evt_castle_construction
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {
		name = EVTOPTA61192
		hidden_tooltip = {
			FROMFROM = {
				character_event = {
					id = 61195
					days = 2
				}
			}
		}
		piety = 20
	}
}

## Regent sends Ruler into forest.
character_event = {
	id = 61195
	desc = EVTDESC61195
	picture = GFX_evt_bandits
	
	is_triggered_only = yes

	trigger = {
		liege = { 
			regent = { character = ROOT } 
			character = FROM
		}
	}
	
	option = {
		name = EVTOPTA61195
		ai_chance = { factor = 100 }
		liege = {
			character_event = { id = 61196 tooltip = EVTTOOLTIP61191 }
		}
	}
	option = {
		name = EVTOPTB61195
		ai_chance = { factor = 0 }
		clr_character_flag = regent_schemer
		piety = 20
	}
}

## Ruler is sent to forest.
character_event = {
	id = 61196
	desc = EVTDESC61196
	picture = GFX_evt_bandits
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61196
		random_list = {
			80 = {
				character_event = { id = 61197 tooltip = EVTTOOLTIP61197 }
			}
			20 = {
				FROM_murder_red_god_resurrect_effect = yes #check for rhllor resurrection
				death = {
					death_reason = death_murder_unknown
					killer = FROM
				}
			}
		}
	}
}

## Ruler returns from forest.
character_event = {
	id = 61197
	desc = EVTDESC61197
	picture = GFX_evt_bandits
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {
		name = EVTOPTA61197
		hidden_tooltip = {
			FROMFROM = {
				character_event = {
					id = 61200
					days = 18
					random = 10
				}
			}
		}
		prestige = 20
	}
}

## Regent sends Ruler away by carriage.
character_event = {
	id = 61200
	desc = EVTDESC61200
	picture = GFX_evt_carriage
	
	is_triggered_only = yes

	trigger = {
		liege = { 
			regent = { character = ROOT } 
			character = FROM
		}
	}
	
	option = {
		name = EVTOPTA61200
		ai_chance = { factor = 100 }
		liege = {
			character_event = { id = 61201 tooltip = EVTTOOLTIP61191 }
		}
	}
	option = {
		name = EVTOPTB61200
		ai_chance = { factor = 0 }
		clr_character_flag = regent_schemer
		piety = 20
	}
}

## Ruler is sent away on the carriage.
character_event = {
	id = 61201
	desc = EVTDESC61201
	picture = GFX_evt_carriage
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61201
		random_list = {
			80 = {
				character_event = {	id = 61202 tooltip = EVTTOOLTIP61202 }
			}
			20 = {
				FROM_murder_red_god_resurrect_effect = yes #check for rhllor resurrection
				death = {
					death_reason = death_murder_unknown_fall
					killer = FROM
				}
			}
		}
	}
}

## Ruler survives the carriage ride.
character_event = {
	id = 61202
	desc = EVTDESC61202
	picture = GFX_evt_carriage
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {
		name = EVTOPTA61202
		hidden_tooltip = {
			FROMFROM = {
				character_event = {
					id = 61205
					days = 18
					random = 10
				}
			}
		}
		prestige = 20
	}
}

## Regent pushes guard on Ruler.
character_event = {
	id = 61205
	desc = EVTDESC61205
	picture = GFX_evt_large_army
	
	is_triggered_only = yes
	
	trigger = {
		liege = { 
			regent = { character = ROOT } 
			character = FROM
		}
	}

	option = {
		name = EVTOPTA61205
		ai_chance = { factor = 100 }
		liege = {
			character_event = { id = 61206 tooltip = EVTTOOLTIP61191 }
		}
	}
	option = {
		name = EVTOPTB61205
		ai_chance = { factor = 0 }
		clr_character_flag = regent_schemer
		piety = 20
	}
}

## Ruler has guard pushed on him.
character_event = {
	id = 61206
	desc = EVTDESC61206
	picture = GFX_evt_large_army
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61206
		random_list = {
			80 = {
				character_event = {	id = 61207 tooltip = EVTTOOLTIP61207 }
			}
			20 = {
				FROM_murder_red_god_resurrect_effect = yes #check for rhllor resurrection
				death = {
					death_reason = death_murder_unknown
					killer = FROM
				}
			}
		}
	}
}

## Ruler survives guard.
character_event = {
	id = 61207
	desc = EVTDESC61207
	picture = GFX_evt_large_army
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {
		name = EVTOPTA61207
		hidden_tooltip = {
			FROMFROM = {
				character_event = {
					id = 61210
					days = 1
				}
			}
		}
		prestige = 20
	}
}

## Regent storms Ruler's room with dagger.
character_event = {
	id = 61210
	desc = EVTDESC61210
	picture = GFX_evt_shadow
	
	is_triggered_only = yes
	
	trigger = {
		liege = { 
			regent = { character = ROOT } 
			character = FROM
		}
	}

	option = {
		name = EVTOPTA61210
		ai_chance = { factor = 100 }
		liege = {
			character_event = { id = 61211 tooltip = EVTTOOLTIP61211 }
		}
	}
	option = {
		name = EVTOPTB61210
		ai_chance = { factor = 0 }
		clr_character_flag = regent_schemer
		piety = 20
	}
}

## Ruler is attacked by Regent.
character_event = {
	id = 61211
	desc = EVTDESC61211
	picture = GFX_evt_shadow
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61211
		random_list = {
			80 = {
				character_event = {	id = 61212 tooltip = EVTTOOLTIP61212 }
			}
			20 = {
				save_event_target_as = target_victim
				FROM = {
					set_character_flag = murder_event_override
					hidden_tooltip = { character_event = { id = 10 } } #consequences	
				}
				clear_event_target = target_victim
				FROM_murder_red_god_resurrect_effect = yes #check for rhllor resurrection
				death = {
					death_reason = death_murder
					killer = FROM
				}
			}
		}
	}
}

## Ruler survives.
character_event = {
	id = 61212
	desc = EVTDESC61212
	picture = GFX_evt_shadow
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {
		name = EVTOPTA61212
		FROMFROM = {
			character_event = { id = 61213 tooltip = EVTTOOLTIP61213 }
			clr_character_flag = regent_schemer
		}
	}
}

## Regent is imprisoned.
character_event = {
	id = 61213
	desc = EVTDESC61213
	picture = GFX_evt_into_the_dungeon
	
	is_triggered_only = yes
	
	immediate = {
		imprison = FROM
	}
	
	option = {
		name = EVTOPTA61213
		tooltip = { imprison = FROM }
		random = {
			chance = 80
			add_trait = lunatic
			hidden_tooltip = {
				character_event = { id = 38304 } # notify lunatic
			}
		}
	}
}

## REGENCY SERIES, COURTIER WANTS TO REPLACE REGENT ##
## Chain edited for AGOT

## Courtier thinks he/she would do a better job than current Regent.
#now triggered by decision
# character_event = {
	# id = 61215
	# desc = EVTDESC61215
	# picture = GFX_evt_emissary
	
	# min_age = 16
	# prisoner = no
	# capable_only = yes
	# #only_men = yes
	
	# trigger = {
		# war = no
		# OR = {
			# liege = {
				# age = 1
				# NOT = { age = 14 }
			# }
			# liege = { trait = incapable }
		# }
		# OR = {
			# AND = {
				# is_female = no
				# host = { is_liege_of = ROOT }
			# }	
			# AND = {
				# higher_tier_than = BARON
				# diplomacy = 12
			# }	
			# trait = kingsguard
			# liege = { is_close_relative = ROOT }
		# }
		# in_command = no
		# NOT = { liege = { regent = { character = PREVPREV } } }	
		# is_ill = no
	# }
	
	# mean_time_to_happen = {
		# months = 480
		# modifier = {
			# factor = 0.25
			# trait = ambitious
		# }
		# modifier = {
			# factor = 0.5
			# trait = envious
		# }
		# modifier = {
			# factor = 2.0
			# trait = shy
		# }
		# modifier = {
			# factor = 2
			# is_female = yes
		# }
		# modifier = {
			# factor = 3.0
			# trait = slothful
		# }
		# modifier = {
			# factor = 4.0
			# trait = content
		# }
	# }
	
	# option = { # Challenge to duel
		# name = EVTOPTA61215
		# #tooltip_info = duelist
		# trigger = { 
			# NOT = { trait = wounded }
			# NOT = { is_maimed_trigger = yes }	
			# NOT = { trait = blinded }	
			# NOT = { trait = blinded_age }
			# NOT = { is_crippled_trigger = yes }
			# NOT = { trait = infirm }	
			# OR = {
				# trait = duelist 
				# trait = master_warrior
				# trait = skilled_warrior
			# }	
			# OR = {
				# is_female = no
				# trait = duelist 
				# is_strong_trigger = yes
				# culture_group = free_folk
				# culture_group = dornish
				# culture = ironborn
				# culture = kayakayanayan
				# culture = samyrianan
				# culture = bayasabhadi
			# }
			# liege = {
				# any_courtier = { 
					# liege = { regent = { character = PREVPREV } }
					# NOT = { is_maimed_trigger = yes }	
					# NOT = { trait = blinded }	
					# NOT = { trait = blinded_age }
					# NOT = { is_crippled_trigger = yes }
					# NOT = { trait = infirm }	
					# OR = {
						# is_female = no
						# trait = duelist 
						# culture_group = free_folk
						# culture_group = dornish
						# culture = ironborn
						# culture = kayakayanayan
						# culture = samyrianan
						# culture = bayasabhadi
					# }
				# }
			# }
		# }
		# ai_chance = { 
			# factor = 60 
			# modifier = {
				# factor = 0.5
				# trait = craven
			# }
			# modifier = {
				# factor = 0.5
				# is_weak_trigger = yes
			# }
			# modifier = {
				# factor = 2
				# trait = brave
			# }
			# modifier = {
				# factor = 2
				# is_strong_trigger = yes
			# }
			# modifier = {
				# factor = 0.25
				# NOT = { trait = master_warrior }
				# liege = {
					# any_courtier = { 
						# liege = { regent = { character = PREVPREV } }
						# trait = master_warrior
					# }
				# }
			# }
			# modifier = {
				# factor = 0.25
				# NOT = { trait = master_warrior }
				# NOT = { trait = skilled_warrior }
				# liege = {
					# any_courtier = { 
						# liege = { regent = { character = PREVPREV } }
						# trait = skilled_warrior
					# }
				# }
			# }
			# modifier = {
				# factor = 0.25
				# NOT = { trait = master_warrior }
				# NOT = { trait = skilled_warrior }
				# NOT = { trait = trained_warrior }
				# liege = {
					# any_courtier = { 
						# liege = { regent = { character = PREVPREV } }
						# trait = trained_warrior
					# }
				# }
			# }
			# modifier = {
				# factor = 0.25
				# NOT = { trait = master_warrior }
				# NOT = { trait = skilled_warrior }
				# NOT = { trait = trained_warrior }
				# NOT = { trait = poor_warrior }
				# liege = {
					# any_courtier = { 
						# liege = { regent = { character = PREVPREV } }
						# trait = poor_warrior
					# }
				# }
			# }			
		# }
		# liege = {
			# random_courtier = {
				# limit = { liege = { regent = { character = PREVPREV } } }
				# character_event = {	
					# id = 61221 
					# tooltip = EVTTOOLTIP61221
					# days = 2
				# }
			# }
		# }
	# }
	# option = { # Try to grab Regency
		# name = EVTOPTB61215
		# ai_chance = { factor = 30 }
		# liege = {
			# random_courtier = {
				# limit = { liege = { regent = { character = PREVPREV } } }
				# character_event = {	id = 61216 tooltip = EVTTOOLTIP61216 }
			# }
		# }
	# }
	# option = { # Never mind
		# name = EVTOPTC61215
		# ai_chance = { factor = 10 }
		# liege = {
			# random_courtier = {
				# limit = { liege = { regent = { character = PREVPREV } } }
				# opinion = {
					# who = ROOT
					# modifier = opinion_glad
					# years = 2
				# }
			# }
		# }
	# }
# }

## Regent is informed that Courtier is trying to plead case at court.
character_event = {
	id = 61216
	desc = EVTDESC61216
	picture = GFX_evt_emissary
	
	is_triggered_only = yes
	
	trigger = {
		FROM = { 
			has_plot = plot_replace_regent
			plot_target_char = { 
				character = ROOT
				liege = { regent = { character = PREVPREV } }
			}
		}	
	}
	
	option = {
		name = EVTOPTA61216
		#tooltip_info = duelist
		trigger = { 
			NOT = { trait = wounded }
			NOT = { has_severe_disability_trigger = yes }
			OR = {
				trait = duelist 
				trait = master_warrior
				trait = skilled_warrior
			}
			OR = {
				is_female = no
				trait = duelist 
				is_strong_trigger = yes
				culture_group = free_folk
				culture_group = dornish
				culture = ironborn
				culture = kayakayanayan
				culture = samyrianan
				culture = bayasabhadi
			}
			FROM = {
				NOT = { has_severe_disability_trigger = yes }	
				OR = {
					is_female = no
					trait = duelist 
					culture_group = free_folk
					culture_group = dornish
					culture = ironborn
					culture = kayakayanayan
					culture = samyrianan
					culture = bayasabhadi
				}
			}
		}
		ai_chance = {
			factor = 60
			modifier = {
				factor = 0.5
				trait = craven
			}
			modifier = {
				factor = 0.5
				is_weak_trigger = yes
			}
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 2
				is_strong_trigger = yes
			}
			modifier = {
				factor = 0.25
				NOT = { trait = master_warrior }
				NOT = { trait = skilled_warrior }
				NOT = { trait = trained_warrior }
				NOT = { trait = poor_warrior }
				FROM = { trait = poor_warrior }
			}
			modifier = {
				factor = 0.25
				NOT = { trait = master_warrior }
				NOT = { trait = skilled_warrior }
				NOT = { trait = trained_warrior }
				FROM = { trait = trained_warrior }
			}	
			modifier = {
				factor = 0.25
				NOT = { trait = master_warrior }
				NOT = { trait = skilled_warrior }
				FROM = { trait = skilled_warrior }
			}	
			modifier = {
				factor = 0.25
				NOT = { trait = master_warrior }
				FROM = { trait = master_warrior }
			}
		}
		FROM = {
			character_event = {	id = 61222 tooltip = EVTTOOLTIP61221 }
		}
	}
	option = {
		name = EVTOPTB61216
		ai_chance = {
			factor = 20
		}
		if = { # % chance depends on challeneger's plot ower
			limit = { 
				FROM = { 
					NOT = { plot_power = 0.75 }
				}	
			}
			random_list = {
				90 = { # Remains Regent
					character_event = {	id = 61219 tooltip = EVTTOOLTIP61219 }
					hidden_tooltip = {
						FROM = {
							character_event = { id = 61218 }
						}
					}
				}
				10 = { # Loses Regency
					character_event = {	id = 61220 tooltip = EVTTOOLTIP61220 }
					hidden_tooltip = {
						FROM = {
							character_event = { id = 61217 }
						}
					}
				}
			}
		}
		if = {
			limit = { 
				FROM = { 
					plot_power = 0.75
					NOT = { plot_power = 1 }
				}	
			}
			random_list = {
				70 = { # Remains Regent
					character_event = {	id = 61219 tooltip = EVTTOOLTIP61219 }
					hidden_tooltip = {
						FROM = {
							character_event = { id = 61218 }
						}
					}
				}
				30 = { # Loses Regency
					character_event = {	id = 61220 tooltip = EVTTOOLTIP61220 }
					hidden_tooltip = {
						FROM = {
							character_event = { id = 61217 }
						}
					}
				}
			}
		}
		if = {
			limit = { 
				FROM = { 
					plot_power = 1
					NOT = { plot_power = 1.75 }
				}	
			}
			random_list = {
				50 = { # Remains Regent
					character_event = {	id = 61219 tooltip = EVTTOOLTIP61219 }
					hidden_tooltip = {
						FROM = {
							character_event = { id = 61218 }
						}
					}
				}
				50 = { # Loses Regency
					character_event = {	id = 61220 tooltip = EVTTOOLTIP61220 }
					hidden_tooltip = {
						FROM = {
							character_event = { id = 61217 }
						}
					}
				}
			}
		}
		if = {
			limit = { 
				FROM = { 
					plot_power = 1.75
					NOT = { plot_power = 2.5 }
				}	
			}
			random_list = {
				30 = { # Remains Regent
					character_event = {	id = 61219 tooltip = EVTTOOLTIP61219 }
					hidden_tooltip = {
						FROM = {
							character_event = { id = 61218 }
						}
					}
				}
				70 = { # Loses Regency
					character_event = {	id = 61220 tooltip = EVTTOOLTIP61220 }
					hidden_tooltip = {
						FROM = {
							character_event = { id = 61217 }
						}
					}
				}
			}
		}	
		if = {
			limit = { 
				FROM = { 
					plot_power = 2.5
				}	
			}
			random_list = {
				10 = { # Remains Regent
					character_event = {	id = 61219 tooltip = EVTTOOLTIP61219 }
					hidden_tooltip = {
						FROM = {
							character_event = { id = 61218 }
						}
					}
				}
				90 = { # Loses Regency
					character_event = {	id = 61220 tooltip = EVTTOOLTIP61220 }
					hidden_tooltip = {
						FROM = {
							character_event = { id = 61217 }
						}
					}
				}
			}
		}
	}
	option = {
		name = EVTOPTC61216
		ai_chance = {
			factor = 0
		}
		FROM = {
			character_event = {	id = 61217 tooltip = EVTTOOLTIP61217 }
		}
	}
}

## Courtier informed he/she won the case and is now new regent.	
character_event = {
	id = 61217
	desc = EVTDESC61217
	picture = GFX_evt_throne_room
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61217
		gain_regency_effect = yes
		hidden_tooltip = {
			liege = {
				character_event = { id = 61236 }
			}
			clr_character_flag = flag_plot_replace_regent_decision
		}
	}
}

## Courtier informed he/she lost the case at court.	
character_event = {
	id = 61218
	desc = EVTDESC61218
	picture = GFX_evt_throne_room
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61218
		prestige = -40
		liege = {
			random_courtier = {
				limit = { liege = { regent = { character = PREVPREV } } }
				opinion = {
					who = ROOT
					modifier = opinion_angry
					years = 3
				}
			}
		}
		set_character_flag = flag_job_petition_rejected
		set_character_flag = failed_regency_plot
	}
}

## Regent informed he/she won the case and remains regent.
character_event = {
	id = 61219
	desc = EVTDESC61219
	picture = GFX_evt_throne_room
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61219
		prestige = 40
	}
}

## Regent informed he/she lost the case and has been replaced.
character_event = {
	id = 61220
	desc = EVTDESC61220
	picture = GFX_evt_throne_room
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61220
		prestige = -30
	}
}

## Regent informed courtier has challenged him to duel over regency.
character_event = {
	id = 61221
	desc = EVTDESC61221
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	trigger = {
		FROM = { 
			has_plot = plot_replace_regent
			plot_target_char = { 
				character = ROOT
				liege = { regent = { character = PREVPREV } }
			}
		}	
	}
	
	option = { # Accept
		name = EVTOPTA61221
		ai_chance = { 
			factor = 60 
			modifier = {
				factor = 2
				trait = master_warrior
			}
			modifier = {
				factor = 1.5
				trait = skilled_warrior
			}
			modifier = {
				factor = 1.25
				trait = honorable
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 0.5
				trait = craven
			}
			modifier = {
				factor = 0.25
				is_weak_trigger = yes
			}
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 2
				is_strong_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { trait = master_warrior }
				NOT = { trait = skilled_warrior }
				NOT = { trait = trained_warrior }
				NOT = { trait = poor_warrior }
				FROM = { trait = poor_warrior }
			}
			modifier = {
				factor = 0.1
				NOT = { trait = master_warrior }
				NOT = { trait = skilled_warrior }
				NOT = { trait = trained_warrior }
				FROM = { trait = trained_warrior }
			}	
			modifier = {
				factor = 0.1
				NOT = { trait = master_warrior }
				NOT = { trait = skilled_warrior }
				FROM = { trait = skilled_warrior }
			}	
			modifier = {
				factor = 0.1
				NOT = { trait = master_warrior }
				FROM = { trait = master_warrior }
			}
		}
		set_character_flag = duelist_regent
		FROM = {
			character_event = {	id = 61223 tooltip = EVTTOOLTIP61223 }
			set_character_flag = duelist_courtier
		}
	}
	option = { # Refuse
		name = EVTOPTB61221
		ai_chance = { 
			factor = 15
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0
				trait = honorable
			}
			modifier = {
				factor = 0
				trait = proud
			}
		}
		prestige = -60
		liege = {
			any_courtier = {
				limit = {
					NOT = { character = ROOT }
					age = 12
				}
				opinion = {
					who = ROOT
					modifier = opinion_coward
					years = 1
				}
			}
		}
		hidden_tooltip = {
			FROM = {
				character_event = {	id = 61245 }
			}
		}
	}
	option = { # Surrender regency
		name = EVTOPTC61221
		ai_chance = { 
			factor = 20 
			modifier = {
				factor = 1.5
				trait = humble
			}
			modifier = {
				factor = 1.5
				trait = content
			}
		}
		prestige = -20
		tooltip = { FROM = { give_minor_title = title_regent } }
		hidden_tooltip = {
			FROM = {
				character_event = { id = 61246 }
			}
		}
	}
}

## Courtier informed Regent challenges to duel.	
character_event = {
	id = 61222
	desc = EVTDESC61222
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61222
		ai_chance = { 
			factor = 80 
			modifier = {
				factor = 2
				trait = master_warrior
			}
			modifier = {
				factor = 1.5
				trait = skilled_warrior
			}
			modifier = {
				factor = 1.25
				trait = honorable
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 0.5
				trait = craven
			}
			modifier = {
				factor = 0.25
				is_weak_trigger = yes
			}
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 2
				is_strong_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { trait = master_warrior }
				NOT = { trait = skilled_warrior }
				NOT = { trait = trained_warrior }
				NOT = { trait = poor_warrior }
				FROM = { trait = poor_warrior }
			}
			modifier = {
				factor = 0.1
				NOT = { trait = master_warrior }
				NOT = { trait = skilled_warrior }
				NOT = { trait = trained_warrior }
				FROM = { trait = trained_warrior }
			}	
			modifier = {
				factor = 0.1
				NOT = { trait = master_warrior }
				NOT = { trait = skilled_warrior }
				FROM = { trait = skilled_warrior }
			}	
			modifier = {
				factor = 0.1
				NOT = { trait = master_warrior }
				FROM = { trait = master_warrior }
			}
		}
		set_character_flag = duelist_courtier
		liege = {
			random_courtier = {
				limit = { liege = { regent = { character = PREVPREV } } }
				set_character_flag = duelist_regent
				character_event = {	
					id = 61224 
					tooltip = EVTTOOLTIP61223
					days = 2
				}
			}
		}
	}
	option = {
		name = EVTOPTB61222
		ai_chance = { factor = 20 }
		prestige = -40
		clr_character_flag = flag_plot_replace_regent_decision
	}
}

## Courtier informed Regent accepts duel, they fight!
character_event = {
	id = 61223
	desc = EVTDESC61223
	picture = GFX_evt_melee
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61224
		ai_chance = { factor = 80 }
		hidden_tooltip = { e_rebels = { holder_scope = { character_event = { id = duel.0 } } } }
	}
	option = {
		name = EVTOPTB61223
		ai_chance = { factor = 20 }
		clr_character_flag = duelist_courtier
		FROM = {
			character_event = {	id = 61231 tooltip = EVTTOOLTIP61231 }
			clr_character_flag = duelist_regent
		}
	}
}

## Regent informed courtier accepts duel, they fight!	
character_event = {
	id = 61224
	desc = EVTDESC61224
	picture = GFX_evt_melee
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61224
		ai_chance = { factor = 80 }
		hidden_tooltip = { e_rebels = { holder_scope = { character_event = { id = duel.0 } } } }
	}
	option = {
		name = EVTOPTB61224
		ai_chance = { factor = 20 }
		clr_character_flag = duelist_regent
		FROM = {
			character_event = {	id = 61231 tooltip = EVTTOOLTIP61231 }
			clr_character_flag = duelist_courtier
		}
	}
}

## Regent informed he wins.
character_event = {
	id = 61225
	desc = EVTDESC61225
	picture = GFX_evt_bloody_man
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61225
		prestige = 20
	}
}

## Regent informed he wins, courtier maimed.
character_event = {
	id = 61226
	desc = EVTDESC61226
	picture = GFX_evt_bloody_man
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61226 #Spare opponent
		ai_chance = { factor = 50 }
		liege = {
			random_realm_character = {
				limit = { same_liege = ROOT has_character_flag = duelist_courtier }
				character_event = {	id = 61230 tooltip = EVTTOOLTIP61230 }
				clr_character_flag = duelist_courtier
			}
		}
		piety = 40
	}
	option = {
		name = EVTOPTB61226 #Imprison
		ai_chance = { factor = 50 }
		liege = {
			random_realm_character = {
				limit = { same_liege = ROOT has_character_flag = duelist_courtier }
				character_event = {	id = 61232 tooltip = EVTTOOLTIP61232 }
				clr_character_flag = duelist_courtier
			}
		}
		prestige = 20
	}
}

## Regent loses, is maimed.
character_event = {
	id = 61227
	desc = EVTDESC61227
	picture = GFX_evt_bloody_man
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61227
		prestige = -20
	}
}

## Courtier informed he wins.
character_event = {
	id = 61228
	desc = EVTDESC61225
	picture = GFX_evt_bloody_man
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61228
		hidden_tooltip = {
			liege = {
				character_event = {	id = 61235 }
			}
		}
		gain_regency_effect = yes
		clr_character_flag = duelist_courtier
		prestige = 20
	}
}

## Courtier informed he wins, regent maimed.
character_event = {
	id = 61229
	desc = EVTDESC61226
	picture = GFX_evt_bloody_man
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61229 #Spare opponent
		ai_chance = { factor = 50 }
		liege = {
			random_courtier = {
				limit = { liege = { regent = { character = PREVPREV } } }
				clr_character_flag = duelist_regent
				character_event = {	id = 61227 tooltip = EVTTOOLTIP61230 }
			}
		}
		hidden_tooltip = {
			liege = {
				character_event = {	id = 61235 }
			}
		}
		gain_regency_effect = yes
		clr_character_flag = duelist_courtier
		piety = 40
	}
	option = {
		name = EVTOPTB61229 #Imprison
		ai_chance = { factor = 50 }
		liege = {
			random_courtier = {
				limit = { liege = { regent = { character = PREVPREV } } }
				clr_character_flag = duelist_regent
				character_event = {	id = 61232 tooltip = EVTTOOLTIP61232 }
			}
		}
		hidden_tooltip = {
			liege = {
				character_event = {	id = 61235 }
			}
		}
		gain_regency_effect = yes
		clr_character_flag = duelist_courtier
		prestige = 20
	}
}

## Courtier loses, is released
character_event = {
	id = 61230
	desc = EVTDESC61230
	picture = GFX_evt_bloody_man
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61230
		prestige = -20
		set_character_flag = flag_job_petition_rejected
		set_character_flag = failed_regency_plot
		clr_character_flag = duelist_courtier
		clr_character_flag = flag_plot_replace_regent_decision
	}
}

## Opponent doesn't show up for duel.
character_event = {
	id = 61231
	desc = EVTDESC61231
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61231
		prestige = 20
		clr_character_flag = flag_plot_replace_regent_decision
	}
}

## Is killed in duel.
character_event = {
	id = 61232
	desc = EVTDESC61232
	picture = GFX_evt_bloody_man
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61232
		liege = {
			ROOT = { imprison = PREV }
		}
		set_character_flag = flag_job_petition_rejected
		set_character_flag = failed_regency_plot
		clr_character_flag = duelist_courtier
	}
}

## Ruler informed about the new Regent after duel.
character_event = {
	id = 61235
	desc = EVTDESC61235
	picture = GFX_evt_melee
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA4017
		tooltip = { FROM = { give_minor_title = title_regent } }
	}
}

## Ruler informed about the new Regent after intrigue.
character_event = {
	id = 61236
	desc = EVTDESC61236
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA4017
		tooltip = { FROM = { give_minor_title = title_regent } }
	}
}

## Courtier informed Regent refuses challenge.
character_event = {
	id = 61245
	desc = EVTDESC61245
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61245
		prestige = 20
		clr_character_flag = flag_plot_replace_regent_decision
	}
}

## Courtier informed Regent voluntarily abdicates title.
character_event = {
	id = 61246
	desc = EVTDESC61246
	picture = GFX_evt_shadowy_cabal
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA61246
		gain_regency_effect = yes
		prestige = 20
		clr_character_flag = flag_plot_replace_regent_decision
	}
}

# ## Queen or Queen Mother takes over Regency ##

# ## Queen takes over regency.
# character_event = {
	# id = 61237
	# desc = EVTDESC61237
	# picture = GFX_evt_courtiers_talking
	
	# min_age = 16
	# prisoner = no
	# capable_only = yes
	# only_women = yes
	
	# trigger = {
		# NOT = { liege = { regent = { character = PREVPREV } } }
		# has_minor_title = title_ruler_consort
		# is_married = yes
		# spouse = {
			# prisoner = no
			# is_alive = yes
			# is_abroad = no
			# is_ruler = yes
			# is_liege_of = ROOT
			# OR = {
				# NOT = { age = 15 }
				# trait = incapable
			# }
		# }
	# }
	
	# mean_time_to_happen = {
		# months = 240
		# modifier = {
			# factor = 0.25
			# trait = ambitious
		# }
		# modifier = {
			# factor = 0.5
			# trait = diligent
		# }
		# modifier = {
			# factor = 3.0
			# trait = slothful
		# }
		# modifier = {
			# factor = 5.0
			# trait = content
		# }
	# }
	
	# option = {
		# name = EVTOPTA61237
		# if = {
			# limit = { 
				# is_ruler = yes
				# is_councillor = no
			# }
			# liege = {
				# job_spymaster = { remove_title = job_spymaster }
				# give_job_title = job_spymaster
			# }			
		# }
		# give_minor_title = title_regent
		# hidden_tooltip = {
			# spouse = {
				# character_event = { id = 61239 }
			# }
		# }
	# }
# }

# ## Queen Mother takes over regency.
# character_event = {
	# id = 61238
	# desc = EVTDESC61238
	# picture = GFX_evt_courtiers_talking
	
	# min_age = 16
	# prisoner = no
	# capable_only = yes
	# only_women = yes
	
	# trigger = {
		# NOT = { liege = { regent = { character = PREVPREV } } }
		# has_minor_title = title_queen_mother
		# liege = {
			# OR = {
				# NOT = { age = 15 }
				# trait = incapable
			# }
		# }
	# }

	# mean_time_to_happen = {
		# months = 240
		# modifier = {
			# factor = 0.25
			# trait = ambitious
		# }
		# modifier = {
			# factor = 0.5
			# trait = diligent
		# }
		# modifier = {
			# factor = 3.0
			# trait = slothful
		# }
		# modifier = {
			# factor = 5.0
			# trait = content
		# }
	# }
	
	# option = {
		# name = EVTOPTA61238
		# if = {
			# limit = { 
				# is_ruler = yes
				# is_councillor = no
			# }
			# liege = {
				# job_spymaster = { remove_title = job_spymaster }
				# give_job_title = job_spymaster
			# }			
		# }
		# give_minor_title = title_regent
		# hidden_tooltip = {
			# liege = {
				# character_event = { id = 61240 }
			# }
		# }
	# }
# }

# ## Ruler informed that Queen takes over regency.
# character_event = {
	# id = 61239
	# desc = EVTDESC61239
	# picture = GFX_evt_courtiers_talking
	
	# is_triggered_only = yes
	
	# option = {
		# name = EVTOPTB61239
	# }
# }

# ## Ruler informed that Queen Mother is taking over regency.
# character_event = {
	# id = 61240
	# desc = EVTDESC61240
	# picture = GFX_evt_courtiers_talking
	
	# is_triggered_only = yes
	
	# option = {
		# name = OK
	# }
# }

# ## The Regent Lowers Crown Authority in a Kingdom  #now a targetted decision
# character_event = {
	# id = 61300
	# desc = EVTDESC61300
	# picture = GFX_evt_courtiers_talking
	
	# min_age = 16
	# prisoner = no
	# capable_only = yes
	# only_playable = yes # Only titled Regents do this
	
	# trigger = {
		# NOT = { has_dlc = "Zeus" }
		# is_landed = yes
		# liege = { regent = { character = PREVPREV } }
		# NOT = { trait = content }
		# liege = {
			# higher_tier_than = DUKE
			# NOT = { has_character_flag = regent_lowered_CA }
			# NOT = { current_heir = { character = ROOT } }
			# any_demesne_title = {
				# OR = {
					# tier = EMPEROR
					# AND = {
						# tier = KING
						# NOT = { check_variable = { which = "de_facto_empire" value = 1 } }
					# }
				# }	
				# OR = {
					# has_law = centralization_1
					# has_law = centralization_2
					# has_law = centralization_3
					# has_law = centralization_4
				# }
				# ROOT = {
					# primary_title = {
						# OR = {
							# kingdom = { title = PREVPREVPREV }
							# empire = { title = PREVPREVPREV }
						# }	
					# }
				# }
			# }
		# }
	# }

	# mean_time_to_happen = {
		# months = 120
		# modifier = {
			# factor = 0.25
			# trait = ambitious
		# }
		# modifier = {
			# factor = 0.25
			# trait = greedy
		# }
		# modifier = {
			# factor = 0.5
			# trait = arbitrary
		# }
		# modifier = {
			# factor = 2.0
			# trait = charitable
		# }
		# modifier = {
			# factor = 3.0
			# trait = just
		# }
	# }
	
	# option = {
		# name = EVTOPTA61300
		# ai_chance = { factor = 100 }
		# liege = {
			# random_demesne_title = {
				# limit = {
					# OR = {
						# tier = EMPEROR
						# AND = {
							# tier = KING
							# NOT = { check_variable = { which = "de_facto_empire" value = 1 } }
						# }
					# }
					# OR = {
						# has_law = centralization_1
						# has_law = centralization_2
						# has_law = centralization_3
						# has_law = centralization_4
					# }
					# ROOT = {
						# primary_title = {
							# OR = {
								# kingdom = { title = PREVPREVPREV }
								# empire = { title = PREVPREVPREV }
							# }	
						# }
					# }
				# }
				# if = {
					# limit = { has_law = centralization_1 }
					# add_law = centralization_0
				# }
				# if = {
					# limit = { has_law = centralization_2 }
					# add_law = centralization_1
				# }
				# if = {
					# limit = { has_law = centralization_3 }
					# add_law = centralization_2
				# }
				# if = {
					# limit = { has_law = centralization_4 }
					# add_law = centralization_3
				# }
			# }
			# opinion = {
				# who = ROOT
				# modifier = opinion_regent_lowered_CA
			# }
			# hidden_tooltip = {
				# character_event = { id = 61301 }
				# set_character_flag = regent_lowered_CA
			# }
		# }
	# }
	
	# option = {
		# name = EVTOPTB61300
		# ai_chance = { factor = 0 }
	# }
# }

## Ruler informed that Regent has Lowered CA in a Kingdom
character_event = {
	id = 61301
	desc = EVTDESC61301
	picture = GFX_evt_courtiers_talking
	
	is_triggered_only = yes
	
	trigger = { has_regent = yes }
	
	immediate = {
		any_realm_lord = {
			limit = { ai = no }
			letter_event = { id = regency.700 }
		}
	}
	
	option = {
		name = EVTOPTA61301		
	}
}
letter_event = { #inform realm
	id = regency.700
	desc = EVTDESCregent.700
	
	is_triggered_only = yes
	show_from_from = yes
	
	trigger = { NOT = { character = FROM } }
	
	option = {
		name = EVTOPTAregent.700
		trigger = {	
			OR = { 
				leads_faction = faction_lower_crown_authority
				in_faction = faction_lower_crown_authority 
			}
		}		
	}
	
	option = {
		name = OK
		trigger = {	
			NOT = { in_faction = faction_lower_crown_authority }
			NOT = { leads_faction = faction_lower_crown_authority }
		}		
	}
}

# ## The Regent Lowers Crown Authority in an Empire
# character_event = {
	# id = 61302
	# desc = EVTDESC61302
	# picture = GFX_evt_courtiers_talking
	
	# min_age = 16
	# prisoner = no
	# capable_only = yes
	# only_playable = yes # Only titled Regents do this
	
	# trigger = {
		# NOT = { has_dlc = "Zeus" }
		# is_landed = yes
		# liege = { regent = { character = PREVPREV } }
		# NOT = { trait = content }
		# liege = {
			# higher_tier_than = DUKE
			# NOT = { has_character_flag = regent_lowered_CA }
			# any_demesne_title = {
				# tier = EMPEROR
				# OR = {
					# has_law = centralization_1
					# has_law = centralization_2
					# has_law = centralization_3
					# has_law = centralization_4
				# }
				# ROOT = {
					# primary_title = {
						# empire = {
							# title = PREVPREVPREV
						# }
					# }
				# }
			# }
		# }
	# }

	# mean_time_to_happen = {
		# months = 120
		# modifier = {
			# factor = 0.25
			# trait = ambitious
		# }
		# modifier = {
			# factor = 0.25
			# trait = greedy
		# }
		# modifier = {
			# factor = 0.5
			# trait = arbitrary
		# }
		# modifier = {
			# factor = 2.0
			# trait = charitable
		# }
		# modifier = {
			# factor = 3.0
			# trait = just
		# }
	# }
	
	# option = {
		# name = EVTOPTA61300
		# ai_chance = { factor = 100 }
		# liege = {
			# random_demesne_title = {
				# limit = {
					# tier = EMPEROR
					# OR = {
						# has_law = centralization_1
						# has_law = centralization_2
						# has_law = centralization_3
						# has_law = centralization_4
					# }
					# ROOT = {
						# primary_title = {
							# empire= {
								# title = PREVPREVPREV
							# }
						# }
					# }
				# }
				# if = {
					# limit = { has_law = centralization_1 }
					# add_law = centralization_0
				# }
				# if = {
					# limit = { has_law = centralization_2 }
					# add_law = centralization_1
				# }
				# if = {
					# limit = { has_law = centralization_3 }
					# add_law = centralization_2
				# }
				# if = {
					# limit = { has_law = centralization_4 }
					# add_law = centralization_3
				# }
			# }
			# hidden_tooltip = {
				# character_event = { id = 61303 }
				# set_character_flag = regent_lowered_CA
			# }
		# }
	# }
	
	# option = {
		# name = EVTOPTB61300
		# ai_chance = { factor = 0 }
	# }
# }

# ## Ruler informed that Regent has Lowered CA in an Empire
# character_event = {
	# id = 61303
	# desc = EVTDESC61303
	# picture = GFX_evt_courtiers_talking
	
	# is_triggered_only = yes
	
	# option = {
		# name = EVTOPTA61301
		# opinion = {
			# who = FROM
			# modifier = opinion_regent_lowered_CA
		# }
	# }
# }
## Regent appointed, check for events that can trigger
character_event = {
	id = regency.1
	
	is_triggered_only = yes
	hide_window = yes
	
	immediate = {
		FROM = {
			if = {
				limit = { trait = dragon }
				ROOT = { 
					character_event = { id = regency.2 } 
					any_realm_lord = {
						limit = { 
							ai = no 
							NOT = { character = ROOT }
						}
						letter_event = { id = regency.3 } 
					}
				}
			}
			# if = {
				# limit = { trait = slave }
				# ROOT = { 
					# character_event = { id = regency.4 } 
					# any_realm_lord = {
						# limit = { 
							# NOT = { tier = BARON } 
							# NOT = { character = ROOT }
						# }
						# letter_event = { id = regency.5 days = 2 } 
					# }
					# any_courtier = {
						# limit = { 
							# is_ruler = no
							# is_adult = yes
							# NOT = { trait = slave }
							# NOT = { trait = dragon }
							# NOT = { character = ROOT }
						# }
						# letter_event = { id = regency.5 days = 2 } 
					# }
				# }
			# }
			# if = {
				# limit = { is_consort = yes }
				# ROOT = { 
					# character_event = { id = regency.6 } 
					# any_realm_lord = {
						# limit = { 
							# NOT = { tier = BARON } 
							# NOT = { character = ROOT }
						# }
						# letter_event = { id = regency.7 days = 2 } 
					# }
					# any_courtier = {
						# limit = { 
							# is_ruler = no
							# is_adult = yes
							# NOT = { trait = slave }
							# NOT = { trait = dragon }
							# NOT = { character = ROOT }
						# }
						# letter_event = { id = regency.7 days = 2 } 
					# }
				# }
			# }
		}	
	}
	
	option = {
		name = OK
	}
}
##  Dragon appointed regent
character_event = {
	id = regency.2
	desc = EVTDESCregency.2
	picture = GFX_evt_courtiers_talking
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAregency.2
		prestige = -100
		custom_tooltip = { text = TOOLTIPregency.2 }
	}
}
letter_event = { #inform realm
	id = regency.3
	desc = EVTDESCregency.3
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAregency.3
		FROMFROM = { tooltip = { } }
	}
}
# ##  Slave appointed regent
# character_event = {
	# id = regency.4
	# desc = EVTDESCregency.4
	# picture = GFX_evt_courtiers_talking
	
	# is_triggered_only = yes
	
	# option = {
		# name = EVTOPTAregency.4
		# prestige = -50
		# custom_tooltip = { text = TOOLTIPregency.4 }
	# }
# }
# letter_event = { #inform realm
	# id = regency.5
	# desc = EVTDESCregency.5
	
	# is_triggered_only = yes
	# capable_only = yes

	# option = {
		# name = EVTOPTAregency.5
		# FROMFROM = { tooltip = { } }
		# opinion = {
			# who = FROM
			# modifier = opinion_regent_slave
			# years = 5
		# }
	# }
	
	# option = {
		# name = EVTOPTBregency.5
		# FROMFROM = { tooltip = { } }
	# }
# }
##  Consort appointed regent
# character_event = {
	# id = regency.6
	# desc = EVTDESCregency.6
	# picture = GFX_evt_courtiers_talking
	
	# is_triggered_only = yes
	
	# option = {
		# name = EVTOPTAregency.6
		# prestige = -50
		# custom_tooltip = { text = TOOLTIPregency.6 }
		# any_spouse = {
			# limit = { is_ruler = no }
			# opinion = {
				# who = ROOT
				# modifier = opinion_regent_consort
				# years = 5
				# multiplier = 2
			# }
		# }
	# }
# }
# letter_event = { #inform realm
	# id = regency.7
	# desc = EVTDESCregency.7
	
	# is_triggered_only = yes
	# capable_only = yes
	
	# option = {
		# name = EVTOPTAregency.7
		# FROMFROM = { tooltip = { } }
		# opinion = {
			# who = FROM
			# modifier = opinion_regent_consort
			# years = 5
		# }
	# }
	
	# option = {
		# name = EVTOPTBregency.7
		# FROMFROM = { tooltip = { } }
	# }
# }

# REGENT NOMINATION REPLACE PETITION
letter_event = {
	id = regency.8
	desc = "EVTDESCregency.8"
	is_triggered_only = yes
	
	option = {
		if = {
			limit = {
				FROM = { any_plot_backer = { character = ROOT } }
				custom_tooltip = { text = CONFIRM_PLOT }
			}
		}
		
		name = "EVTOPTAregency.8"
		
		# Supporters
		FROM = {
			opinion = {
				who = ROOT
				modifier = opinion_ambition_fulfilled
				months = 120
			}
			hidden_tooltip = { letter_event = { id = regency.9 } }
			any_plot_backer = {
				opinion = { who = ROOT modifier = opinion_approved_council_candidate }
				hidden_tooltip = { character_event = { id = regency.10 } }
			}
			plot_target_char = { # Show opponents
				set_character_flag = flag_replaced_by_plot_event
				opinion = { who = ROOT modifier = opinion_removed_designated_regent }
				hidden_tooltip = { letter_event = { id = regency.11 } }
				any_realm_character = {
					limit = { reverse_has_opinion_modifier = { who = PREV modifier = opinion_council_sponsor } }
					remove_opinion = { who = ROOT modifier = opinion_approved_council_candidate }
					opinion = { who = ROOT modifier = opinion_replaced_council_candidate }
					hidden_tooltip = { character_event = { id = regency.12 } }
				}
				remove_title = title_appointed_regent
			}
		}
			
		# Actually make the change
		FROM = { give_minor_title = title_appointed_regent }
		
		ai_chance = {
			factor = 100
				
			# Comparative Skill Effects
			modifier = {
				factor = 0.5
				trait = just
				FROM = {
					plot_target_char = {
						OR = {
							stewardship = PREV
							martial = PREV
							diplomacy = PREV
						}	
						reverse_opinion = { who = ROOT value = -49 }
					}
				}	
			}
			modifier = {
				factor = 2
				FROM = {
					plot_target_char = {
						OR = {
							NOT = { stewardship = PREV }
							NOT = { martial = PREV }
							NOT = { diplomacy = PREV }
						}	
					}
				}
			}
			
			# Personal Opinion Effects
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 100 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 90 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 80 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 70 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 60 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 50 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 40 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 30 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 20 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 10 }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -9 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -19 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -29 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -39 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -49 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -59 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -69 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -79 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -89 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -99 } }
			}
			
			# Power Effects
			modifier = {
				factor = 1.5
				FROM = { 
					OR = {
						is_voter = yes
						is_councillor = yes
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.1 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.2 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.3 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.4 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.5 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.6 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.7 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.8 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.9 }
			}
			
			# Influence Effects
			modifier = {
				factor = 1.5
				is_married = FROM
			}
			modifier = {
				factor = 1.5
				is_lover = FROM
			}
			modifier = {
				factor = 1.5
				is_close_relative = FROM
			}
			modifier = {
				factor = 0.1
				FROM = {
					OR = {
						trait = slave
						is_consort = yes
					}
				}
			}
			modifier = {
				factor = 0.75
				NOT = { culture_group = FROM }
			}
			modifier = {
				factor = 0.75
				NOT = { religion = FROM }
			}
			
			# Supporter Power Effects
			modifier = {
				factor = 1.5
				any_vassal = {
					any_backed_character = { character = FROM }
					relative_power_to_liege = 0.1
				}
			}
			modifier = {
				factor = 1.5
				any_vassal = {
					any_backed_character = { character = FROM }
					relative_power_to_liege = 0.2
				}
			}
			modifier = {
				factor = 1.5
				any_vassal = {
					any_backed_character = { character = FROM }
					relative_power_to_liege = 0.3
				}
			}
			modifier = {
				factor = 1.5
				any_vassal = {
					any_backed_character = { character = FROM }
					relative_power_to_liege = 0.4
				}
			}
			modifier = {
				factor = 1.5
				any_vassal = {
					any_backed_character = { character = FROM }
					relative_power_to_liege = 0.5
				}
			}
			modifier = {
				factor = 1.5
				any_vassal = {
					any_backed_character = { character = FROM }
					relative_power_to_liege = 0.6
				}
			}
			modifier = {
				factor = 1.5
				any_vassal = {
					any_backed_character = { character = FROM }
					relative_power_to_liege = 0.7
				}
			}
			modifier = {
				factor = 1.5
				any_vassal = {
					any_backed_character = { character = FROM }
					relative_power_to_liege = 0.8
				}
			}
			modifier = {
				factor = 1.5
				any_vassal = {
					any_backed_character = { character = FROM }
					relative_power_to_liege = 0.9
				}
			}
			
			# Supporter Influence Effects
			modifier = {
				factor = 1.25
				job_castellan = { any_backed_character = { character = FROM } }
			}
			modifier = {
				factor = 1.25
				job_marshal = { any_backed_character = { character = FROM } }
			}
			modifier = {
				factor = 1.25
				job_chancellor = { any_backed_character = { character = FROM } }
			}
			modifier = {
				factor = 1.25
				job_treasurer = { any_backed_character = { character = FROM } }
			}
			modifier = {
				factor = 1.25
				job_spymaster = { any_backed_character = { character = FROM } }
			}
			modifier = {
				factor = 1.25
				job_spiritual = { any_backed_character = { character = FROM } }
			}
			modifier = {
				factor = 1.25
				spouse = { any_backed_character = { character = FROM } }
			}
			modifier = {
				factor = 1.25
				any_lover = { any_backed_character = { character = FROM } }
			}
			modifier = {
				factor = 1.25
				father = { any_backed_character = { character = FROM } }
			}
			modifier = {
				factor = 1.25
				mother = { any_backed_character = { character = FROM } }
			}
			modifier = {
				factor = 1.25
				any_child = { any_backed_character = { character = FROM } }
			}
			modifier = {
				factor = 1.25
				any_sibling = { any_backed_character = { character = FROM } }
			}
			
			# Plot Power Effects
			modifier = {
				factor = 2
				FROM = { plot_power = 0.5 }
			}
			modifier = {
				factor = 2
				FROM = { plot_power = 1.0 }
			}
			modifier = {
				factor = 2
				FROM = { plot_power = 1.5 }
			}
			modifier = {
				factor = 2
				FROM = { plot_power = 2.0 }
			}
		}
	}
	
	option = {
		trigger = { # If the regent or the ruler is the plotter or a plot backer, the plot MUST go through
			NOT = { any_backed_character = { character = FROM } }
		}		
		name = "EVTOPTBregency.8"
			
		FROM = {
			# Supporters
			plot_target_char = {
				opinion = { who = ROOT modifier = opinion_rejected_rival_council_candidate }
				hidden_tooltip = { letter_event = { id = regency.15 } }
				any_realm_character = {
					limit = { reverse_has_opinion_modifier = { who = PREV modifier = opinion_council_sponsor } }
					hidden_tooltip = { character_event = { id = regency.16 } }
					opinion = { who = ROOT modifier = opinion_rejected_rival_council_candidate }
				}
			}
			# Opponents
			opinion = { who = ROOT modifier = opinion_refused_regent }
			hidden_tooltip = { letter_event = { id = regency.13 } }
			any_plot_backer = {
				opinion = { who = ROOT modifier = opinion_rejected_council_candidate }
				hidden_tooltip = { character_event = { id = regency.14 } }
			}
		}

		ai_chance = {
			factor = 400
					
			# Personal Opinion Effects
			modifier = {
				factor = 1.25
				FROM = {  plot_target_char = { reverse_opinion = { who = ROOT value = 100 } } }
			}
			modifier = {
				factor = 1.25
				FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = 90 } } }
			}
			modifier = {
				factor = 1.25
				FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = 80 } } }
			}
			modifier = {
				factor = 1.25
				FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = 70 } } }
			}
			modifier = {
				factor = 1.25
				FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = 60 } } }
			}
			modifier = {
				factor = 1.25
				FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = 50 } } }
			}
			modifier = {
				factor = 1.25
				FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = 40 } } }
			}
			modifier = {
				factor = 1.25
				FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = 30 } } }
			}
			modifier = {
				factor = 1.25
				FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = 20 } } }
			}
			modifier = {
				factor = 1.25
				FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = 10 } } }
			}
			modifier = {
				factor = 0.8
				NOT = { FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = -9 } } } }
			}
			modifier = {
				factor = 0.8
				NOT = { FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = -19 } } } }
			}
			modifier = {
				factor = 0.8
				NOT = { FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = -29 } } } }
			}
			modifier = {
				factor = 0.8
				NOT = { FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = -39 } } } }
			}
			modifier = {
				factor = 0.8
				NOT = { FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = -49 } } } }
			}
			modifier = {
				factor = 0.8
				NOT = { FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = -59 } } } }
			}
			modifier = {
				factor = 0.8
				NOT = { FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = -69 } } } }
			}
			modifier = {
				factor = 0.8
				NOT = { FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = -79 } } } }
			}
			modifier = {
				factor = 0.8
				NOT = { FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = -89 } } } }
			}
			modifier = {
				factor = 0.8
				NOT = { FROM = { plot_target_char = { reverse_opinion = { who = ROOT value = -99 } } } }
			}
			
			# Power Effects
			modifier = {
				factor = 1.5
				FROM = { 
					plot_target_char = { 
						OR = {
							is_voter = yes
							is_councillor = yes
						}
					} 
				}
			}
			modifier = {
				factor = 1.5
				FROM = { plot_target_char = { relative_power_to_liege = 0.1 } }
			}
			modifier = {
				factor = 1.5
				FROM = { plot_target_char = { relative_power_to_liege = 0.2 } }
			}
			modifier = {
				factor = 1.5
				FROM = { plot_target_char = { relative_power_to_liege = 0.3 } }
			}
			modifier = {
				factor = 1.5
				FROM = { plot_target_char = { relative_power_to_liege = 0.4 } }
			}
			modifier = {
				factor = 1.5
				FROM = { plot_target_char = { relative_power_to_liege = 0.5 } }
			}
			modifier = {
				factor = 1.5
				FROM = { plot_target_char = { relative_power_to_liege = 0.6 } }
			}
			modifier = {
				factor = 1.5
				FROM = { plot_target_char = { relative_power_to_liege = 0.7 } }
			}
			modifier = {
				factor = 1.5
				FROM = { plot_target_char = { relative_power_to_liege = 0.8 } }
			}
			modifier = {
				factor = 1.5
				FROM = { plot_target_char = { relative_power_to_liege = 0.9 } }
			}
			
			# Influence Effects
			modifier = {
				factor = 1.25
				FROM = { plot_target_char = { is_married = ROOT } }
			}
			modifier = {
				factor = 1.25
				FROM = { plot_target_char = { is_lover = ROOT } }
			}
			modifier = {
				factor = 1.25
				FROM = { plot_target_char = { is_close_relative = ROOT } }
			}
			
			# Supporter Power Effects
			modifier = {
				factor = 1.5
				FROM = { 
					plot_target_char = {
						ROOT = {
							any_vassal = {
								has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor }
								relative_power_to_liege = 0.1
							}
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { 
					plot_target_char = {
						ROOT = {
							any_vassal = {
								has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor }
								relative_power_to_liege = 0.2
							}
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { 
					plot_target_char = {
						ROOT = {
							any_vassal = {
								has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor }
								relative_power_to_liege = 0.3
							}
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { 
					plot_target_char = {
						ROOT = {
							any_vassal = {
								has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor }
								relative_power_to_liege = 0.4
							}
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { 
					plot_target_char = {
						ROOT = {
							any_vassal = {
								has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor }
								relative_power_to_liege = 0.5
							}
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { 
					plot_target_char = {
						ROOT = {
							any_vassal = {
								has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor }
								relative_power_to_liege = 0.6
							}
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { 
					plot_target_char = {
						ROOT = {
							any_vassal = {
								has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor }
								relative_power_to_liege = 0.7
							}
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { 
					plot_target_char = {
						ROOT = {
							any_vassal = {
								has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor }
								relative_power_to_liege = 0.8
							}
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { 
					plot_target_char = {
						ROOT = {
							any_vassal = {
								has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor }
								relative_power_to_liege = 0.9
							}
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { 
					plot_target_char = {
						ROOT = {
							any_vassal = {
								has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor }
								relative_power_to_liege = 1
							}
						}
					}
				}
			}
			# Supporter Influence Effects
			modifier = {
				factor = 1.25
				job_castellan = { ROOT = { FROM = { plot_target_char = { has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor } } } } }
			}
			modifier = {
				factor = 1.25
				job_marshal = { ROOT = { FROM = { plot_target_char = { has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor } } }	} }
			}
			modifier = {
				factor = 1.25
				job_chancellor = { ROOT = { FROM = { plot_target_char = { has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor } } } } }
			}
			modifier = {
				factor = 1.25
				job_treasurer = { ROOT = { FROM = { plot_target_char = { has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor } } } } }
			}
			modifier = {
				factor = 1.25
				job_spymaster = { ROOT = { FROM = { plot_target_char = { has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor } } } } }
			}
			modifier = {
				factor = 1.25
				job_spiritual = { ROOT = { FROM = { plot_target_char = { has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor } } } } }
			}
			modifier = {
				factor = 1.25
				spouse = { ROOT = { FROM = { plot_target_char = { has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor } } } } }
			}
			modifier = {
				factor = 1.25
				any_lover = { ROOT = { FROM = { plot_target_char = { has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor } } } } }
			}
			modifier = {
				factor = 1.25
				father = { ROOT = { FROM = { plot_target_char = { has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor } } } } }
			}
			modifier = {
				factor = 1.25
				mother = { ROOT = { FROM = { plot_target_char = { has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor } } } } }
			}
			modifier = {
				factor = 1.25
				any_child = { ROOT = { FROM = { plot_target_char = { has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor } } } } }
			}
			modifier = {
				factor = 1.25
				any_sibling = { ROOT = { FROM = { plot_target_char = { has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor } } } } }
			}
		}
	}
}

letter_event = {
	id = regency.9
	desc = "EVTDESCregency.9"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTACOUNCILPLOT2"
		clr_character_flag = flag_plot_replace_regent_decision
	}
}

character_event = {
	id = regency.10
	desc = "EVTDESCregency.10"
	picture = GFX_evt_spymaster
	show_from_from = yes
	is_triggered_only = yes
	
	option = { name = "EVTOPTACOUNCILPLOT3" }
}

letter_event = {
	id = regency.11
	desc = "EVTDESCregency.11"
	show_from_from = yes
	is_triggered_only = yes
	
	option = { name = "EVTOPTACOUNCILPLOT4" }
}

character_event = {
	id = regency.12
	desc = "EVTDESCregency.12"
	picture = GFX_evt_spymaster
	show_from_from = yes
	is_triggered_only = yes
	
	option = { name = "EVTOPTACOUNCILPLOT5" }
}

letter_event = {
	id = regency.13
	desc = "EVTDESCregency.13"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTACOUNCILPLOT6"
		clr_character_flag = flag_plot_replace_regent_decision
		set_character_flag = flag_job_petition_rejected
	}
}

character_event = {
	id = regency.14
	desc = "EVTDESCregency.14"
	picture = GFX_evt_spymaster
	show_from_from = yes
	is_triggered_only = yes
	
	option = { name = "EVTOPTACOUNCILPLOT6" }
}

letter_event = {
	id = regency.15
	desc = "EVTDESCregency.15"
	show_from_from = yes
	is_triggered_only = yes
	
	option = { name = "EVTOPTACOUNCILPLOT8" }
}

character_event = {
	id = regency.16
	desc = "EVTDESCregency.16"
	picture = GFX_evt_spymaster
	show_from_from = yes
	is_triggered_only = yes
	
	option = { name = "EVTOPTACOUNCILPLOT9" }
}
# REGENT NOMINATION PETITION
letter_event = {
	id = regency.17
	desc = "EVTDESCregency.17"
	is_triggered_only = yes
	
	trigger = { 
		FROM = {
			liege = { character = ROOT }
			NOT = { has_minor_title = title_appointed_regent }
		}
	}	
	
	option = {	
		name = "EVTOPTAregency.17"
		ai_chance = {
			factor = 100
				
			# Comparative Skill Effects
			modifier = {
				factor = 0.75
				FROM = { NOT = { stewardship = 5 } }	
			}
			modifier = {
				factor = 0.75
				FROM = { NOT = { stewardship = 8 } }	
			}
			modifier = {
				factor = 0.75
				FROM = { NOT = { diplomacy = 5 } }	
			}
			modifier = {
				factor = 0.75
				FROM = { NOT = { diplomacy = 8 } }	
			}
			modifier = {
				factor = 0.75
				FROM = { NOT = { martial = 5 } }	
			}
			modifier = {
				factor = 0.75
				FROM = { NOT = { martial = 8 } }	
			}
			modifier = {
				factor = 1.33
				FROM = { stewardship = 12 } 
			}
			modifier = {
				factor = 1.33
				FROM = { stewardship = 15 } 
			}
			modifier = {
				factor = 1.33
				FROM = { diplomacy = 12 } 
			}
			modifier = {
				factor = 1.33
				FROM = { diplomacy = 15 } 
			}
			modifier = {
				factor = 1.33
				FROM = { martial = 12 } 
			}
			modifier = {
				factor = 1.33
				FROM = { martial = 15 } 
			}
			
			# Personal Opinion Effects
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 100 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 90 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 80 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 70 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 60 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 50 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 40 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 30 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 20 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 10 }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -9 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -19 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -29 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -39 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -49 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -59 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -69 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -79 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -89 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -99 } }
			}
			
			# Power Effects
			modifier = {
				factor = 1.5
				FROM = { 
					OR = {
						is_voter = yes
						is_councillor = yes
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.1 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.2 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.3 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.4 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.5 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.6 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.7 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.8 }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power_to_liege = 0.9 }
			}
			
			# Influence Effects
			modifier = {
				factor = 1.5
				is_married = FROM
			}
			modifier = {
				factor = 1.5
				is_lover = FROM
			}
			modifier = {
				factor = 1.5
				is_close_relative = FROM
			}
			modifier = {
				factor = 0.1
				FROM = {
					OR = {
						trait = slave
						is_consort = yes
					}
				}
			}
			modifier = {
				factor = 0.75
				NOT = { culture_group = FROM }
			}
			modifier = {
				factor = 0.75
				NOT = { religion = FROM }
			}		
		}
		FROM = {
			give_minor_title = title_appointed_regent
			opinion = {
				who = ROOT
				modifier = opinion_ambition_fulfilled
				months = 120
			}
			hidden_tooltip = { letter_event = { id = regency.18 } }
		}			
	}
	
	option = {	
		name = "EVTOPTBregency.17"
		ai_chance = {
			factor = 400
		}
		FROM = {
			# Opponents
			opinion = { who = ROOT modifier = opinion_refused_regent }
			hidden_tooltip = { letter_event = { id = regency.19 } }
		}		
	}
}
letter_event = {
	id = regency.18
	desc = "EVTDESCregency.18"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAregency.18"
		clr_character_flag = flag_plot_replace_regent_decision
	}
}
letter_event = {
	id = regency.19
	desc = "EVTDESCregency.19"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAregency.19"
		prestige = -30
	}
}

# REGENT MILITARY ULTIMATUM
letter_event = {
	id = regency.20
	desc = EVTDESCregency.20
	
	is_triggered_only = yes
	
	trigger = {
		FROM = { 
			has_plot = plot_replace_regent
			plot_target_char = { 
				character = ROOT
				liege = { regent = { character = PREVPREV } }
			}
		}	
	}
	
	option = { 
		name = EVTOPTAregency.20 #concede
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 1.25
				is_weak_trigger = yes
			}
			modifier = {
				factor = 1.25
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = humble
			}
			modifier = {
				factor = 1.25
				trait = kind
			}
			modifier = {
				factor = 1.25
				trait = charitable
			}
			modifier = {
				factor = 1.25
				trait = patient
			}
			modifier = {
				factor = 1.25
				trait = content
			}
		}
		hidden_tooltip = { 
			liege = { 
				character_event = { id = regency.22 } 
				any_realm_lord = {
					limit = {
						ai = no
						NOT = { character = ROOT }
						NOT = { character = FROM }
					}
					letter_event = { id = regency.23 }
				}
			} 
		}
		FROM = {
			letter_event = { id = regency.21 tooltip = EVTTOOLTIPregency.21 }
			any_plot_backer = { tooltip = { } }			
		}	
		prestige = -100
	}
	option = {
		name = EVTOPTBregency.20 #never
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.25
				is_strong_trigger = yes
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = envious
			}
			modifier = {
				factor = 1.25
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = wroth
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			# Account for relative faction power
			modifier = {
				factor = 2
				FROM = { 
					NOT = { 
						OR = {
							relative_power_to_liege = 0.05
							any_plot_backer = { relative_power_to_liege = 0.05 }
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { 
					NOT = { 
						OR = {
							relative_power_to_liege = 0.1
							any_plot_backer = { relative_power_to_liege = 0.1 }
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = { 
					NOT = { 
						OR = {
							relative_power_to_liege = 0.2
							any_plot_backer = { relative_power_to_liege = 0.2 }
						}
					}
				}
			}
			modifier = {
				factor = 0.75
				FROM = { 
					OR = {
						relative_power_to_liege = 0.33
						any_plot_backer = { relative_power_to_liege = 0.33 }
					}
				}
			}
			modifier = {
				factor = 0.75
				FROM = { 
					OR = {
						relative_power_to_liege = 0.5
						any_plot_backer = { relative_power_to_liege = 0.5 }
					}
				}
			}
			modifier = {
				factor = 1.5
				relative_power_to_liege = 0.1
			}
			modifier = {
				factor = 1.5
				relative_power_to_liege = 0.2
			}
			modifier = {
				factor = 1.5
				relative_power_to_liege = 0.33
			}
			modifier = {
				factor = 1.5
				relative_power_to_liege = 0.5
			}
			
			modifier = {
				factor = 1.25
				liege = {
					tier = EMPEROR
					any_vassal = { faction_power = { faction = faction_crown_loyalist power = 0.5 } }
				}	
			}
			modifier = {
				factor = 1.25
				liege = {
					tier = EMPEROR
					any_vassal = { faction_power = { faction = faction_crown_loyalist power = 0.75 } }
				}	
			}
			modifier = {
				factor = 1.25
				liege = {
					tier = EMPEROR
					any_vassal = { faction_power = { faction = faction_crown_loyalist power = 1.0 } }
				}	
			}
			modifier = {
				factor = 1.25
				liege = {
					tier = EMPEROR
					any_vassal = { faction_power = { faction = faction_crown_loyalist power = 1.25 } }
				}	
			}
			modifier = {
				factor = 1.25
				liege = {
					tier = EMPEROR
					any_vassal = { faction_power = { faction = faction_crown_loyalist power = 1.5 } }
				}	
			}
			modifier = {
				factor = 1.25
				liege = {
					tier = EMPEROR
					any_vassal = { faction_power = { faction = faction_crown_loyalist power = 1.75 } }
				}	
			}
			modifier = {
				factor = 1.25
				liege = {
					tier = EMPEROR
					any_vassal = { faction_power = { faction = faction_crown_loyalist power = 2 } }
				}	
			}
			
			modifier = {
				factor = 1.25
				liege = {
					NOT = { tier = EMPEROR }
					any_vassal = { faction_power = { faction = faction_liege_loyalist power = 0.5 } }
				}	
			}
			modifier = {
				factor = 1.25
				liege = {
					NOT = { tier = EMPEROR }
					any_vassal = { faction_power = { faction = faction_liege_loyalist power = 0.75 } }
				}	
			}
			modifier = {
				factor = 1.25
				liege = {
					NOT = { tier = EMPEROR }
					any_vassal = { faction_power = { faction = faction_liege_loyalist power = 1.0 } }
				}	
			}
			modifier = {
				factor = 1.25
				liege = {
					NOT = { tier = EMPEROR }
					any_vassal = { faction_power = { faction = faction_liege_loyalist power = 1.25 } }
				}	
			}
			modifier = {
				factor = 1.25
				liege = {
					NOT = { tier = EMPEROR }
					any_vassal = { faction_power = { faction = faction_liege_loyalist power = 1.5 } }
				}	
			}
			modifier = {
				factor = 1.25
				liege = {
					NOT = { tier = EMPEROR }
					any_vassal = { faction_power = { faction = faction_liege_loyalist power = 1.75 } }
				}	
			}
			modifier = {
				factor = 1.25
				liege = {
					NOT = { tier = EMPEROR }
					any_vassal = { faction_power = { faction = faction_liege_loyalist power = 2.0 } }
				}	
			}
			
			modifier = {
				factor = 4
				trait = dragon_rider
			}
			modifier = {
				factor = 2 #Liege likes me
				liege = {
					liege = {
						NOT = { character = PREV }
						OR = {
							opinion = {
								who = PREV
								value = 40
							}
							dynasty = PREV
						}
					}	
				}
			}
		}
		if = { #will be split in a mega war
			limit = { 
				tier = KING
				liege = { tier = EMPEROR }
			}
			liege = { set_character_flag = regent_war_mega_war }
			set_character_flag = flag_crown_loyalist
		}
		set_character_flag = regent_war_target
		liege = { 
			character_event = { id = regency.24 tooltip = EVTTOOLTIPregency.24 } 
			hidden_tooltip = {
				any_realm_lord = {
					limit = {
						ai = no
						NOT = { character = ROOT }
						NOT = { character = FROM }
						NOT = { character = PREV }
					}
					character_event = { id = regency.26 }
				}
			}	
		}
	}
}
letter_event = { #inform conceded
	id = regency.21
	desc = EVTDESCregency.21
	
	is_triggered_only = yes
	
	option = { 
		name = EVTOPTAregency.21 
		gain_regency_effect = yes	
	}
}
character_event = { #Inform ruler
	id = regency.22
	desc = EVTDESCregency.22
	picture = GFX_evt_emissary
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {
		name = EVTOPTAregency.22
	}
}
letter_event = { #Inform realm
	id = regency.23
	desc = EVTDESCregency.23
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {
		name = EVTOPTAregency.23
		trigger = { any_backed_character = { character = FROMFROM } }
	}
	option = {
		name = EVTOPTBregency.23
		trigger = { NOT = { any_backed_character = { character = FROMFROM } } }
	}
}
#Inform ruler regent refused
character_event = { 
	id = regency.24
	desc = EVTDESCregency.24
	picture = GFX_evt_emissary
	
	is_triggered_only = yes
	show_from_from = yes
	
	immediate = { 
		FROMFROM = { 
			hidden_tooltip = { letter_event = { id = regency.25 } } 
		}
	}
	
	option = {
		name = EVTOPTAregency.24
		reverse_war = {
			target = FROMFROM
			casus_belli = plot_replace_regent_cb
			plot_backers = yes
		}	
	}
}
letter_event = { #Inform plotter
	id = regency.25
	desc = EVTDESCregency.25
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {
		name = EVTOPTAregency.25
	}
}
character_event = { #Inform realm
	id = regency.26
	desc = EVTDESCregency.26
	picture = GFX_evt_emissary
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {
		name = EVTOPTAregency.26
		trigger = { any_backed_character = { character = FROMFROM } }
	}
	option = {
		name = EVTOPTBregency.26
		trigger = { NOT = { any_backed_character = { character = FROMFROM } } }
	}
}
character_event = { #wins regency after war
	id = regency.269
	
	is_triggered_only = yes
	hide_window = yes
	
	trigger = { is_ruler = yes }
	
	immediate = { 
		set_defacto_liege = FROMFROM 
		gain_regency_effect = yes
	}
	
	option = {
		name = OK	
	}
}
# Ruler is declared incapable
character_event = {
	id = regency.27
	desc = "EVTDESCregency.27"
	picture = GFX_evt_lunatic
	
	is_triggered_only = yes
	
	immediate = {
		hidden_tooltip = {
			any_realm_lord = {
				limit = { 
					ai = no
					NOT = { character = FROM }
					NOT = { any_backed_character = { character = FROM } }
				}
				letter_event = { id = regency.30 }
			}
		}
	}
	
	option = {	
		name = "EVTOPTAregency.27"
		tooltip = { add_trait = declared_incapable }
		# Supporters
		FROM = {
			hidden_tooltip = { character_event = { id = regency.28 } }
			any_plot_backer = {
				tooltip = { }
				hidden_tooltip = { character_event = { id = regency.29 } }
			}
			tooltip = {
				give_minor_title = title_regent
			}	
		}
		if = {
			limit = { tier = EMPEROR }
			prestige = -250
		}
		if = {
			limit = { tier = KING }
			prestige = -125
		}
		if = {
			limit = { tier = DUKE }
			prestige = -60
		}
		if = {
			limit = { tier = COUNT }
			prestige = -30
		}
	}
}	
# Inform plotter
character_event = {
	id = regency.28
	desc = "EVTDESCregency.28"
	picture = GFX_evt_emissary
	
	is_triggered_only = yes
	
	option = {	
		name = "EVTOPTAregency.28"
		FROM = { add_trait = declared_incapable }
		set_character_flag = declared_ruler_insane
		gain_regency_effect = yes
		any_plot_backer = {
			tooltip = { }
		}
		if = {
			limit = { FROM = { tier = EMPEROR } }
			prestige = 100
		}
		if = {
			limit = { FROM = { tier = KING } }
			prestige = 50
		}
		if = {
			limit = { FROM = { tier = DUKE } }
			prestige = 25
		}
		if = {
			limit = { FROM = { tier = COUNT } }
			prestige = 10
		}
		FROM = {
			opinion = {
				modifier = declared_me_insane
				who = ROOT
				years = 10
			}
			any_courtier = {
				limit = {
					NOT = { character = PREV }
					NOT = { character = ROOT }
					NOT = { any_plot_backer = { character = ROOT } }
					OR = {
						is_close_relative = PREV
						dynasty = PREV
					}
					OR = {
						ROOT = { 
							NOT = {
								OR = {
									is_close_relative = PREVPREV
									dynasty = PREVPREV
								}
							}
						}	
						NOT = { opinion = { who = ROOT value = 0 } }
					}
				}
				opinion = {
					modifier = declared_relative_insane
					who = ROOT
					years = 10
				}
			}
		}
	}
}
# Inform backer
character_event = {
	id = regency.29
	desc = "EVTDESCregency.29"
	picture = GFX_evt_emissary
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {	
		name = "EVTOPTAregency.29"
		tooltip = { FROM = { add_trait = declared_incapable } }
	}
}	
# Inform realm
letter_event = {
	id = regency.30
	desc = "EVTDESCregency.30"
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {	
		name = OK
		tooltip = { FROM = { add_trait = declared_incapable } }
	}
}

# ##Regent Imprison##
# character_event = {
	# id = regency.31
	# desc = "EVTDESCregency.31"
	# picture = GFX_evt_emissary
	
	# is_triggered_only = yes
	# hide_window = yes
	
	# trigger = { liege = { regent = { character = PREVPREV } } }
	
	# immediate = {
		# if = {
			# limit = { has_character_flag = successful_imprison }
			# liege = {
				# character_event = { id = regency.33 }
				# FROM = { 
					# imprison = PREV 
					# character_event = { id = regency.32 }
				# } 
			# }
			# character_event = { id = regency.31 }
			# clr_character_flag = successful_imprison
			# break = yes
		# }
	# }
	
	# option = {	
		# name = OK
	# }
# }

# Fired from council by regent
letter_event = {
	id = regency.50
	desc = "EVTDESCregency.50"
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {	
		name = "EVTOPTAregency.50"
	}
}
character_event = { # Inform liege
	id = regency.51
	desc = "EVTDESCregency.51"
	picture = GFX_evt_emissary
	
	is_triggered_only = yes
	
	option = {	
		name = "EVTOPTAregency.51"
		FROM = { opinion = { who = ROOT modifier = opinion_fired_from_council } }
	}
}	
# Appointed to council by regent
letter_event = {
	id = regency.52
	desc = "EVTDESCregency.52"
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {	
		name = "EVTOPTAregency.52"
	}
}
character_event = { # Inform liege
	id = regency.53
	desc = "EVTDESCregency.53"
	picture = GFX_evt_emissary
	
	is_triggered_only = yes
	
	option = {	
		name = "EVTOPTAregency.53"
	}
}	
# Designated Regent assumes rgency upon liege's death
character_event = {
	id = regency.54
	desc = "EVTDESCregency.54"
	picture = GFX_evt_throne_room
	
	is_triggered_only = yes
	prisoner = no
	capable_only = yes
	
	trigger = {
		age = 16
		liege = { has_regent = yes }
	}
	
	option = {	
		name = "EVTOPTAregency.54"
		if = {
			limit = { liege = { NOT = { regent = { character = ROOT } } } }
			gain_regency_effect = yes
		}	
		hidden_tooltip = { remove_title = title_appointed_regent }
	}
}
# Character becomes regent upon successfully pressing claim of another person
character_event = {
	id = regency.55
	desc = "EVTDESCregency.55"
	picture = GFX_evt_throne_room
	
	is_triggered_only = yes
	only_rulers = yes
	prisoner = no
	capable_only = yes
	min_age = 16
	
	trigger = {
		liege = {
			has_regent = yes 
		}
		has_regent = no
	}
	
	option = {	
		name = "EVTOPTAregency.55"
		if = {
			limit = { liege = { NOT = { regent = { character = ROOT } } } }
			gain_regency_effect = yes
		}	
	}
}
#Player veto war option
character_event = { # Check war, ROOT defender
	id = regency.60

	is_triggered_only = yes
	hide_window = yes
	
	trigger = {
		FROM = {
			has_regent = yes
			regent = { ai = no }
			NOT = { government = triarch_merchant_republic_government } #triarchs get veto
			OR = {
				NOT = { age = 16 }
				prisoner = yes
				is_incapable = yes
			}
		}
	}
	
	immediate = {
		FROM = { regent = { character_event = { id = regency.61 } } }
	}
	
	option = {	
		name = OK
	}
}	
character_event = { 
	id = regency.61
	desc = "EVTDESCregency.61"
	picture = GFX_evt_council
	
	is_triggered_only = yes
	show_from_from = yes
	ai = no
	
	trigger = { 
		OR = {
			independent = yes #split via mega war
			has_minor_title = title_regent 
		}	
	}
	
	option = {	
		name = "EVTOPTAregency.61" #Allow
		FROM = { tooltip = { } }
	}
	
	option = {	
		name = "EVTOPTBregency.61" #Veto
		FROM = {
			hidden_tooltip = {
				character_event = { id = regency.62 }
			}
			any_war = {
				limit = {
					defender = { character = PREVPREV }
					attacker = { character = ROOT_FROMFROM }
				}				
				attacker = {
					hidden_tooltip = {
						character_event = { id = regency.63 }
						#reverse_opinion = { modifier = opinion_enforced_truce who = PREVPREV months = 24 }
						reverse_remove_opinion = { modifier = declared_war who = PREVPREV }
						if = {
							limit = { tier = EMPEROR }
							character_event = { id = mega_wars.8 }
							if = {
								limit = { ROOT = { independent = yes } }
								set_character_flag = mega_war_regent
							}
						}
					}
					set_truce = { who = ROOT_FROM years = 2 }
				}	
				end_war = invalid
			}
		}
	}
}	
character_event = { 
	id = regency.62
	desc = "EVTDESCregency.62"
	picture = GFX_evt_council
	
	is_triggered_only = yes

	option = {	
		name = "EVTOPTAregency.62" 
	}
}	
character_event = { 
	id = regency.63
	desc = "EVTDESCregency.63"
	picture = GFX_evt_council
	
	is_triggered_only = yes

	option = {	
		name = "EVTOPTAregency.63" 
	}
}	
##Regent Declares War##
character_event = { #Inform regent declared war
	id = regency.64
	desc = "EVTDESCregency.64"
	picture = GFX_evt_council
	
	is_triggered_only = yes
	show_from_from = yes

	option = {	
		name = "EVTOPTAregency.64" 
		event_target:regent_war_title = {
			if = {
				limit = { holder_scope = { NOT = { is_liege_of = ROOT } } }
				reverse_war = {
					target = FROMFROM
					casus_belli = other_claim
					thirdparty = ROOT
				}
			}	
			if = {
				limit = { holder_scope = { is_liege_of = ROOT } }
				reverse_war = {
					target = FROMFROM
					casus_belli = other_claim_on_liege
					thirdparty = ROOT
				}
			}	
		}	
		# if = {
			# limit = { FROM = { has_strong_claim = PREV } }
			# reverse_war = {
				# target = event_target:regent_war_liege
				# casus_belli = other_claim
				# thirdparty = FROM
			# }
			# break = yes
		# }
		# if = {
			# limit = { FROM = { liege = { has_strong_claim = PREV } } }
			# reverse_war = {
				# target = event_target:regent_war_liege
				# casus_belli = claim
			# }
			# break = yes
		# }
		# if = {
			# limit = { FROM = { has_claim = PREV } }
			# reverse_war = {
				# target = event_target:regent_war_liege
				# casus_belli = other_claim
				# thirdparty = FROM
			# }
			# break = yes
		# }
		# if = {
			# limit = { FROM = { liege = { has_claim = PREV } } }
			# reverse_war = {
				# target = event_target:regent_war_liege
				# casus_belli = claim
			# }
			# break = yes
		# }	
	}
}