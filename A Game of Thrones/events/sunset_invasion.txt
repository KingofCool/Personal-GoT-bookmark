###################################
#
# SUNSET INVASION
# - The Fantasy Menace
#
###################################

# Written by Henrik Fåhraeus and Henrik Eklund

namespace = SSI

# First Contact - Beads and Feathers
province_event = {
	id = SSI.1
	desc = EVTDESC_SSI_001
	
	picture = GFX_evt_aztec_explorers
	border = GFX_event_normal_frame_war
	
	has_dlc = "Sunset Invasion"
	
	trigger = {	
		total_years_played = 75
		e_iron_throne = {
			OR = {
				has_holder = no
				holder_scope = { war = no }
			}
		}	
		NOR = {
			has_global_flag = aztec_explorers 
			has_game_rule = {
				name = aztec_invasion
				value = off
			}
		}
		OR = {
			province_id = 40 # Stony Shore
			province_id = 72 # Cape Kraken
			province_id = 76 # Cape of Eagles
			province_id = 151 # Sealskin Point
			province_id = 163 # Banefort
			province_id = 168 # Feastfires
			province_id = 235 # Old Oak
			province_id = 285 # Blackcrown
		}
	}
	
	immediate = {
		set_global_flag = aztec_explorers
		set_province_flag = aztec_explorers
		activate_title = { title = e_mexikha status = yes }

		c_the_citadel = {
			holder_scope = {		
				random_list = {
					50 = {
						create_random_soldier = {
							dynasty = 1035000 # Acatl
							random_traits = yes
							culture = nahuatl
							religion = aztec
							historical = yes
						}
					}	
					50 = {
						create_random_soldier = {
							dynasty = 59 #Stark
							random_traits = yes
							culture = northman
							religion = aztec
							historical = yes
						}
					}	
				}	
				new_character = {
					random_list = {
						25 = { add_trait = master_warrior }
						40 = { add_trait = skilled_warrior }
						35 = { add_trait = trained_warrior }
					}
					e_mexikha = {
						grant_title = PREV
					}
					set_government_type = feudal_government
					e_mexikha = {
						add_law = succ_primogeniture
						add_law = agnatic_succession
						add_law = centralization_1
					}
					set_defacto_liege = THIS
					if = {
						limit = { culture = northman }
						set_character_flag = descendant_of_brandon_the_shipwright
					}
					narrative_event = { id = SSI.2 }
				}
			}
		}
	}
	
	mean_time_to_happen = {
		months = 720
		modifier = {
			factor = 0.5
			year = 8500
		}
	}
	
	option = {
		name = EVTOPTA_SSI_001
	}
}

# Rumors of people from across the Atlantic
narrative_event = {
	id = SSI.2
	title = EVTNAME_SSI_002
	major = yes
	
	picture = GFX_evt_aztec_explorers
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	desc = {
		text = EVTDESC_SSI_002
		trigger = {
			NOT = { e_mexikha = { holder_scope = { has_character_flag = descendant_of_brandon_the_shipwright } } }
		}
	}
	desc = {
		text = EVTDESC_SSI_002B
		trigger = {
			e_mexikha = { holder_scope = { has_character_flag = descendant_of_brandon_the_shipwright } }
		}
	}
	
	major_trigger = {
		FROM = { owner = { NOT = { character = PREVPREV } } }
	}
	
	immediate = {
		e_mexikha = {
			holder_scope = {
				character_event = { id = CM.10018 }  # Chronicle
			}
		}
		if = {
			limit = { 
				dynasty = 59 
				has_landed_title = e_mexikha
			}
			culture = nahuatl
			has_missing = { #link to brandon the shipwright
				limit = { character = 875059 }
				ROOT = { set_father = PREV }
			}
			random = {
				chance = 50
				add_trait = greensight
				random_list = {
					1 = { add_trait = wolf }
					1 = { add_trait = crow }
					1 = { add_trait = eagle }
					1 = { add_trait = shadowcat }
				}
				random = { #second animal
					chance = 50
					random_list = {
						1 = { add_trait = wolf }
						1 = { add_trait = crow }
						1 = { add_trait = eagle }
						1 = { add_trait = shadowcat }
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SSI_002		
	}
}

# First Landing of the Aztecs
province_event = {
	id = SSI.3
	desc = EVTDESC_SSI_003
	
	picture = GFX_evt_battle_mesoamerican
	border = GFX_event_normal_frame_war
	
	trigger = {
		total_years_played = 75
		NOT = { has_global_flag = aztec_arrival }
		had_province_flag = { flag = aztec_explorers days = 730 }
	}
	
	immediate = {
		set_global_flag = aztec_arrival
		culture = nahuatl
		religion = aztec
		e_mexikha = {
			holder_scope = {
				narrative_event = { id = SSI.4 }
			}
		}
	}
	
	mean_time_to_happen = {
		months = 6
	}
	
	option = {
		name = EVTOPTA_SSI_003
	}
}
#Give aztec a dragon
character_event = {
	id = SSI.989
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		dragon = {
			limit = { has_character_flag = aztec_dragon_father }
			ROOT = {
				create_character = {
					dynasty = none
					age = 75
					culture = dragon
					religion = dragon_rel
					historical = yes
				}
				new_character = {
					add_trait = dragon
					change_martial = 35
					add_friend = ROOT
					set_father = PREVPREV
					dynasty = PREVPREV
					random = {
						chance = 5
						add_trait = fair
					}
					random = {
						chance = 5
						if = {
							limit = { NOT = { trait = fair } }
							add_trait = ugly
						}	
					}
					random_list = {
						1 = { add_trait = dragon_1 }
						1 = { add_trait = dragon_2 }
						1 = { add_trait = dragon_3 }
						1 = { add_trait = dragon_4 }
						1 = { add_trait = dragon_5 }
						1 = { add_trait = dragon_6 }
						1 = { add_trait = dragon_7 }
						1 = { add_trait = dragon_8 }
						1 = { add_trait = dragon_9 }
						1 = { add_trait = dragon_10 }
						1 = { add_trait = dragon_11 }
						1 = { add_trait = dragon_12 }
						1 = { add_trait = dragon_13 }
						1 = { add_trait = dragon_14 }
						1 = { add_trait = dragon_15 }
						1 = { add_trait = dragon_16 }
						1 = { add_trait = dragon_17 }
						1 = { add_trait = dragon_18 }
						1 = { add_trait = dragon_19 }
						1 = { add_trait = dragon_20 }
						1 = { add_trait = dragon_21 }
						1 = { add_trait = dragon_22 }
						1 = { add_trait = dragon_23 }
						1 = { add_trait = dragon_24 }
						1 = { add_trait = dragon_25 }
						1 = { add_trait = dragon_26 }
					}
				}
			}	
		}	
	}
	
	option = {
		name = OK
	}
}	
# First Landing of the Aztecs
narrative_event = {
	id = SSI.4
	title = EVTNAME_SSI_004
	desc = EVTDESC_SSI_004
	major = yes
	hide_new = yes
	
	picture = GFX_evt_battle_mesoamerican
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	major_trigger = {
		FROM = { owner = { NOT = { character = PREVPREV } } }
	}
	
	immediate = {
		event_target:chronicle_player = {
			chronicle = {
				entry = CHRONICLE_AZTEC_INVASION
				portrait = [Root.GetID]
			}
		}
	
		wealth = 10000
		FROM = {
			kingdom = {
				ROOT = {
					war = {
						casus_belli = tribal_invasion
						target = PREVPREV # The top liege of the province owner
						thirdparty_title = PREV # The de jure kingdom
					}
				}
			}
		}
		
		if = {
			limit = {
				e_iron_throne = {
					holder_scope = {
						any_friend = {
							trait = dragon
							is_alive = yes
						}
					}
				}
			}
			set_character_flag = dragon_aztecs
			add_trait = dragon_rider
			create_character = {
				dynasty = culture
				age = 162
				culture = dragon
				religion = dragon_rel
				historical = yes
			}
			new_character = {
				add_trait = dragon
				change_martial = 80
				add_friend = ROOT
				add_trait = fair
				set_character_flag = aztec_dragon_father
				character_event = { id = dragon.8 days = 2 }
				random_list = {
					1 = { add_trait = dragon_1 }
					1 = { add_trait = dragon_2 }
					1 = { add_trait = dragon_3 }
					1 = { add_trait = dragon_4 }
					1 = { add_trait = dragon_5 }
					1 = { add_trait = dragon_6 }
					1 = { add_trait = dragon_7 }
					1 = { add_trait = dragon_8 }
					1 = { add_trait = dragon_9 }
					1 = { add_trait = dragon_10 }
					1 = { add_trait = dragon_11 }
					1 = { add_trait = dragon_12 }
					1 = { add_trait = dragon_13 }
					1 = { add_trait = dragon_14 }
					1 = { add_trait = dragon_15 }
					1 = { add_trait = dragon_16 }
					1 = { add_trait = dragon_17 }
					1 = { add_trait = dragon_18 }
					1 = { add_trait = dragon_19 }
					1 = { add_trait = dragon_20 }
					1 = { add_trait = dragon_21 }
					1 = { add_trait = dragon_22 }
					1 = { add_trait = dragon_23 }
					1 = { add_trait = dragon_24 }
					1 = { add_trait = dragon_25 }
					1 = { add_trait = dragon_26 }
				}
			}
		}
		random_list = {
			10 = { add_trait = master_warrior }
			30 = { add_trait = skilled_warrior }
			60 = { add_trait = trained_warrior }
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 30
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3334 3334 }
					light_infantry = { 1667 1667 }
					archers = { 1667 1667 }
				}
			}
			if = {
				limit = {
					ROOT = { has_character_flag = dragon_aztecs }
				}
				add_trait = dragon_rider
				character_event = { id = SSI.989 }
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 25
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			if = {
				limit = {
					ROOT = { has_character_flag = dragon_aztecs }
				}
				add_trait = dragon_rider
				character_event = { id = SSI.989 }
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 22
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			if = {
				limit = {
					ROOT = { has_character_flag = dragon_aztecs }
				}
				add_trait = dragon_rider
				character_event = { id = SSI.989 }
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 31
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3334 3334 }
					light_infantry = { 1667 1667 }
					archers = { 1667 1667 }
				}
			}
			if = {
				limit = {
					ROOT = { has_character_flag = dragon_aztecs }
				}
				add_trait = dragon_rider
				character_event = { id = SSI.989 }
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 24
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			if = {
				limit = {
					ROOT = { has_character_flag = dragon_aztecs }
				}
				add_trait = dragon_rider
				character_event = { id = SSI.989 }
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 23
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			if = {
				limit = {
					ROOT = { has_character_flag = dragon_aztecs }
				}
				add_trait = dragon_rider
				character_event = { id = SSI.989 }
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 30
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3334 3334 }
					light_infantry = { 1667 1667 }
					archers = { 1667 1667 }
				}
			}
			if = {
				limit = {
					ROOT = { has_character_flag = dragon_aztecs }
				}
				add_trait = dragon_rider
				character_event = { id = SSI.989 }
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 25
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			if = {
				limit = {
					ROOT = { has_character_flag = dragon_aztecs }
				}
				add_trait = dragon_rider
				character_event = { id = SSI.989 }
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 22
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			if = {
				limit = {
					ROOT = { has_character_flag = dragon_aztecs }
				}
				add_trait = dragon_rider
				character_event = { id = SSI.989 }
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 18
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3334 3334 }
					light_infantry = { 1667 1667 }
					archers = { 1667 1667 }
				}
			}
			if = {
				limit = {
					ROOT = { has_character_flag = dragon_aztecs }
				}
				add_trait = dragon_rider
				character_event = { id = SSI.989 }
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 28
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			if = {
				limit = {
					ROOT = { has_character_flag = dragon_aztecs }
				}
				add_trait = dragon_rider
				character_event = { id = SSI.989 }
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 29
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			if = {
				limit = {
					ROOT = { has_character_flag = dragon_aztecs }
				}
				add_trait = dragon_rider
				character_event = { id = SSI.989 }
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		
		random = {
			chance = 50
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 30
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3334 3334 }
						light_infantry = { 1667 1667 }
						archers = { 1667 1667 }
					}
				}
				if = {
					limit = {
						ROOT = { has_character_flag = dragon_aztecs }
					}
					add_trait = dragon_rider
					character_event = { id = SSI.989 }
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 25
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3333 3333 }
						light_infantry = { 1666 1666 }
						archers = { 1666 1666 }
					}
				}
				if = {
					limit = {
						ROOT = { has_character_flag = dragon_aztecs }
					}
					add_trait = dragon_rider
					character_event = { id = SSI.989 }
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 22
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3333 3333 }
						light_infantry = { 1666 1666 }
						archers = { 1666 1666 }
					}
				}
				if = {
					limit = {
						ROOT = { has_character_flag = dragon_aztecs }
					}
					add_trait = dragon_rider
					character_event = { id = SSI.989 }
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
		}
		
		random = {
			chance = 50
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 30
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3334 3334 }
						light_infantry = { 1667 1667 }
						archers = { 1667 1667 }
					}
				}
				if = {
					limit = {
						ROOT = { has_character_flag = dragon_aztecs }
					}
					add_trait = dragon_rider
					character_event = { id = SSI.989 }
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 25
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3333 3333 }
						light_infantry = { 1666 1666 }
						archers = { 1666 1666 }
					}
				}
				if = {
					limit = {
						ROOT = { has_character_flag = dragon_aztecs }
					}
					add_trait = dragon_rider
					character_event = { id = SSI.989 }
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 22
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3333 3333 }
						light_infantry = { 1666 1666 }
						archers = { 1666 1666 }
					}
				}
				if = {
					limit = {
						ROOT = { has_character_flag = dragon_aztecs }
					}
					add_trait = dragon_rider
					character_event = { id = SSI.989 }
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
		}
		
		random = {
			chance = 50
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 30
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3334 3334 }
						light_infantry = { 1667 1667 }
						archers = { 1667 1667 }
					}
				}
				if = {
					limit = {
						ROOT = { has_character_flag = dragon_aztecs }
					}
					add_trait = dragon_rider
					character_event = { id = SSI.989 }
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 25
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3333 3333 }
						light_infantry = { 1666 1666 }
						archers = { 1666 1666 }
					}
				}
				if = {
					limit = {
						ROOT = { has_character_flag = dragon_aztecs }
					}
					add_trait = dragon_rider
					character_event = { id = SSI.989 }
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 22
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3333 3333 }
						light_infantry = { 1666 1666 }
						archers = { 1666 1666 }
					}
				}
				if = {
					limit = {
						ROOT = { has_character_flag = dragon_aztecs }
					}
					add_trait = dragon_rider
					character_event = { id = SSI.989 }
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
		}
		
		# Ships
		if = {
			limit = {
				FROM = { 
					province_id = 151 # Sealskin Point
				}
			}
			FROM = {
				sea_zone = {
					ROOT = {
						spawn_unit = {
							province = PREV
							home = FROM
							owner = ROOT
							earmark = aztec_invasion_fleet
							troops =
							{
								galleys = { 1000 1000 }
							}
						}
					}
				}
			}
		}
		
		# Some extra courtiers
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 16
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 18
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 18
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 20
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 25
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 26
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 28
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 16
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 17
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 18
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 16
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = yes
			age = 16
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = yes
			age = 17
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = yes
			age = 18
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = yes
			age = 18
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = yes
			age = 20
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = yes
			age = 16
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = yes
			age = 16
		}
	}
	
	option = {
		name = EVTOPTA_SSI_004
	}
}

# Second Landing of the Aztecs
province_event = {
	id = SSI.5
	desc = EVTDESC_SSI_005
	
	picture = GFX_evt_aztec_arrival
	border = GFX_event_normal_frame_war
	
	has_global_flag = aztec_arrival
	
	trigger = {
		total_years_played = 75	
		NOT = { has_global_flag = aztec_arrival_2 }
		OR = {
			province_id = 40 # Stony Shore
			province_id = 72 # Cape Kraken
			province_id = 76 # Cape of Eagles
			province_id = 151 # Sealskin Point
			province_id = 163 # Banefort
			province_id = 168 # Feastfires
			province_id = 235 # Old Oak
			province_id = 285 # Blackcrown
		}
		owner = {
			NOT = { religion = aztec }
		}
	}
	
	immediate = {
		set_global_flag = aztec_arrival_2
		set_province_flag = aztec_second_wave
#		culture = nahuatl
#		religion = aztec
		e_mexikha = {
			holder_scope = {
				narrative_event = { id = SSI.6 }
			}
		}
	}
	
	mean_time_to_happen = {
		months = 24
	}
	
	option = {
		name = EVTOPTA_SSI_005
	}
}

# Second Landing of the Aztecs
narrative_event = {
	id = SSI.6
	title = EVTNAME_SSI_006
	desc = EVTDESC_SSI_006
	major = yes
	hide_new = yes
	
	picture = GFX_evt_aztec_arrival
	border = GFX_event_narrative_frame_war
	
	is_triggered_only = yes
	
	major_trigger = {
		FROM = { owner = { NOT = { character = PREVPREV } } }
	}
	
	immediate = {
		FROM = {
			kingdom = {
				ROOT = {
					war = {
						casus_belli = tribal_invasion
						target = PREVPREV # The top liege of the province owner
						thirdparty_title = PREV # The de jure kingdom
					}
				}
			}
		}
		
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 30
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3334 3334 }
					light_infantry = { 1667 1667 }
					archers = { 1667 1667 }
				}
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 25
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 22
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 30
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3334 3334 }
					light_infantry = { 1667 1667 }
					archers = { 1667 1667 }
				}
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 25
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 22
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 30
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3334 3334 }
					light_infantry = { 1667 1667 }
					archers = { 1667 1667 }
				}
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 25
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 22
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 30
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3334 3334 }
					light_infantry = { 1667 1667 }
					archers = { 1667 1667 }
				}
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 25
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		create_character = {
			random_traits = yes
			dynasty = random
			religion = aztec
			culture = nahuatl
			female = no
			age = 22
			attributes = {
				martial = 12
			}
			trait = brilliant_strategist
		}
		new_character = {
			spawn_unit = {
				province = FROM
				home = FROM
				troops =
				{
					heavy_infantry = { 3333 3333 }
					light_infantry = { 1666 1666 }
					archers = { 1666 1666 }
				}
			}
			random_list = {
				10 = { add_trait = master_warrior }
				30 = { add_trait = skilled_warrior }
				60 = { add_trait = trained_warrior }
			}
		}
		
		random = {
			chance = 50
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 30
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3334 3334 }
						light_infantry = { 1667 1667 }
						archers = { 1667 1667 }
					}
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 25
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3333 3333 }
						light_infantry = { 1666 1666 }
						archers = { 1666 1666 }
					}
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 22
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3333 3333 }
						light_infantry = { 1666 1666 }
						archers = { 1666 1666 }
					}
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
		}
		
		random = {
			chance = 50
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 30
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3334 3334 }
						light_infantry = { 1667 1667 }
						archers = { 1667 1667 }
					}
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 25
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3333 3333 }
						light_infantry = { 1666 1666 }
						archers = { 1666 1666 }
					}
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 22
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3333 3333 }
						light_infantry = { 1666 1666 }
						archers = { 1666 1666 }
					}
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
		}
		
		random = {
			chance = 50
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 30
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3334 3334 }
						light_infantry = { 1667 1667 }
						archers = { 1667 1667 }
					}
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 25
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3333 3333 }
						light_infantry = { 1666 1666 }
						archers = { 1666 1666 }
					}
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
			create_character = {
				random_traits = yes
				dynasty = random
				religion = aztec
				culture = nahuatl
				female = no
				age = 22
				attributes = {
					martial = 12
				}
				trait = brilliant_strategist
			}
			new_character = {
				spawn_unit = {
					province = FROM
					home = FROM
					troops =
					{
						heavy_infantry = { 3333 3333 }
						light_infantry = { 1666 1666 }
						archers = { 1666 1666 }
					}
				}
				random_list = {
					10 = { add_trait = master_warrior }
					30 = { add_trait = skilled_warrior }
					60 = { add_trait = trained_warrior }
				}
			}
		}
		
		# Ships
		if = {
			limit = {
				FROM = { 
					province_id = 151 # Sealskin Point
				}
			}
			FROM = {
				sea_zone = {
					ROOT = {
						spawn_unit = {
							province = PREV
							home = FROM
							owner = ROOT
							earmark = aztec_invasion_fleet
							troops =
							{
								galleys = { 1000 1000 }
							}
						}
					}
				}
			}
		}
	}
	
	option = {
		name = EVTOPTA_SSI_006
	}
}

# Aztec Invasion Fleets disband
character_event = {
	id = SSI.100
	hide_window = yes
	only_independent = yes
	
	only_playable = yes
	has_global_flag = aztec_arrival
	
	trigger = {
		has_landed_title = e_mexikha
		NOT = { has_global_flag = aztec_invasion_fleet_disbanded }
		had_global_flag = { flag = aztec_arrival days = 18250 }
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	immediate = {
		disband_event_forces = aztec_invasion_fleet
		set_global_flag = aztec_invasion_fleet_disbanded
	}
	
	option = {
		name = OK
	}
}

# Aztecs Thrown Back Into the Sea
narrative_event = {
	id = SSI.105
	title = EVTNAME_SSI_105
	desc = EVTDESC_SSI_105
	
	picture = GFX_evt_aztec_arrival
	border = GFX_event_narrative_frame_war
	
	major = yes
	only_independent = yes
	has_global_flag = aztec_arrival_2
	
	trigger = {
		has_landed_title = e_mexikha
		has_earmarked_regiments = 0
		is_landed = no
	}
	
	major_trigger = {
		ai = no
	}
	
	immediate = {
		activate_title = { title = e_mexikha status = no }
		set_global_flag = aztecs_defeated
	}
	
	option = {
		name = EVTOPTA_SSI_105
	}
}

# Aztecs Fight Incas
narrative_event = {
	id = SSI.30
	title = EVTNAME_SSI_030
	desc = EVTDESC_SSI_030
	
	picture = GFX_evt_throne_room_mesoamerican
	border = GFX_event_narrative_frame_war
	
	major = yes
	only_independent = yes
	has_global_flag = aztec_arrival
	
	trigger = {
		has_landed_title = e_mexikha
		NOT = { has_global_flag = aztec_incas }
		NOT = { has_global_flag = aztecs_defeated }
	}
	
	major_trigger = {
		ai = no
	}	
	
	mean_time_to_happen = {
		months = 220
	}
	
	immediate = {
		set_global_flag = aztec_incas
	}
	
	option = {
		name = EVTOPTA_SSI_030
		trigger = {
			NOT = { has_landed_title = e_mexikha }
		}
	}
	option = {
		name = EVTOPTB_SSI_030
		trigger = {
			has_landed_title = e_mexikha
		}
	}
}

# Aztecs Pacify Northern Plains
narrative_event = {
	id = SSI.31
	title = EVTNAME_SSI_031
	desc = EVTDESC_SSI_031
	
	picture = GFX_evt_throne_room_mesoamerican
	border = GFX_event_narrative_frame_war
	
	major = yes
	only_independent = yes
	has_global_flag = aztec_arrival
	
	trigger = {
		has_landed_title = e_mexikha
		NOT = { has_global_flag = aztec_plains }
		NOT = { has_global_flag = aztecs_defeated }
	}
	
	major_trigger = {
		ai = no
	}	
	
	mean_time_to_happen = {
		months = 220
	}
	
	immediate = {
		set_global_flag = aztec_plains
	}
	
	option = {
		name = EVTOPTA_SSI_031
		trigger = {
			NOT = { has_landed_title = e_mexikha }
		}
	}
	option = {
		name = EVTOPTB_SSI_031
		trigger = {
			has_landed_title = e_mexikha
		}
	}
}

# Food From the Americas
narrative_event = {
	id = SSI.35
	title = EVTNAME_SSI_035
	desc = EVTDESC_SSI_035
	
	picture = GFX_evt_aztec_explorers
	border = GFX_event_narrative_frame_war
	
	major = yes
	only_independent = yes
	has_global_flag = aztec_arrival
	
	trigger = {
		has_landed_title = e_mexikha
		NOT = { has_global_flag = aztec_food }
		NOT = { has_global_flag = aztecs_defeated }
	}
	
	major_trigger = {
		ai = no
	}	
	
	mean_time_to_happen = {
		months = 220
	}
	
	immediate = {
		set_global_flag = aztec_food
	}
	
	option = {
		name = EVTOPTA_SSI_035
		trigger = {
			NOT = { has_landed_title = e_mexikha }
		}
	}
	option = {
		name = EVTOPTB_SSI_035
		trigger = {
			has_landed_title = e_mexikha
		}
	}
}

# Aztecs Hold Iceland
#character_event = {
#	id = SSI.40
#	desc = EVTDESC_SSI_040
#	
#	picture = GFX_evt_aztec_court
#	border = GFX_event_normal_frame_war
#	
#	major = yes
#	
#	trigger = {
#		has_global_flag = aztec_arrival
#		has_landed_title = e_mexikha
#		completely_controls = d_iceland
#		NOT = { has_global_flag = aztec_iceland }
#	}
#	
#	major_trigger = {
#		ai = no
#	}	
#		
#	immediate = {
#		set_global_flag = aztec_iceland
#	}
#	
#	option = {
#		name = EVTOPTA_SSI_040
#	}
#}
#
## Aztecs Hold Ireland
#character_event = {
#	id = SSI.41
#	desc = EVTDESC_SSI_041
#	
#	picture = GFX_evt_aztec_court
#	border = GFX_event_normal_frame_war
#	
#	major = yes
#	
#	trigger = {
#		has_global_flag = aztec_arrival
#		has_landed_title = e_mexikha
#		completely_controls = d_ulster
#		completely_controls = d_connacht
#		completely_controls = d_meath
#		completely_controls = d_leinster
#		completely_controls = d_munster
#		NOT = { has_global_flag = aztec_ireland }
#	}
#	
#	major_trigger = {
#		ai = no
#	}	
#		
#	immediate = {
#		set_global_flag = aztec_ireland
#	}
#	
#	option = {
#		name = EVTOPTA_SSI_041
#	}
#}
#
## Aztecs Hold Britain
#character_event = {
#	id = SSI.42
#	desc = EVTDESC_SSI_042
#	
#	picture = GFX_evt_aztec_court
#	border = GFX_event_normal_frame_war
#	
#	major = yes
#	
#	trigger = {
#		has_global_flag = aztec_arrival
#		has_landed_title = e_mexikha
#		completely_controls = d_northumberland
#		completely_controls = d_lancaster
#		completely_controls = d_york
#		completely_controls = d_norfolk
#		completely_controls = d_oxford
#		completely_controls = d_bedford
#		completely_controls = d_hereford
#		completely_controls = d_gloucester
#		completely_controls = d_canterbury
#		completely_controls = d_somerset
#		completely_controls = d_gwynedd
#		completely_controls = d_cornwall
#		completely_controls = d_galloway
#		completely_controls = d_western_isles
#		completely_controls = d_lothian
#		completely_controls = d_albany
#		NOT = { has_global_flag = aztec_britain }
#	}
#	
#	major_trigger = {
#		ai = no
#	}	
#		
#	immediate = {
#		set_global_flag = aztec_britain
#	}
#	
#	option = {
#		name = EVTOPTA_SSI_042
#	}
#}
#
## Aztecs Hold London
#character_event = {
#	id = SSI.43
#	desc = EVTDESC_SSI_043
#	
#	picture = GFX_evt_aztec_court
#	border = GFX_event_normal_frame_war
#	
#	major = yes
#	
#	trigger = {
#		has_global_flag = aztec_arrival
#		has_landed_title = e_mexikha
#		completely_controls = c_middlesex
#		NOT = { has_global_flag = aztec_london }
#	}
#	
#	major_trigger = {
#		ai = no
#	}	
#		
#	immediate = {
#		set_global_flag = aztec_london
#	}
#	
#	option = {
#		name = EVTOPTA_SSI_043
#	}
#}
#
## Aztecs Hold Paris
#character_event = {
#	id = SSI.44
#	desc = EVTDESC_SSI_044
#	
#	picture = GFX_evt_aztec_court
#	border = GFX_event_normal_frame_war
#	
#	major = yes
#	
#	trigger = {
#		has_global_flag = aztec_arrival
#		has_landed_title = e_mexikha
#		completely_controls = c_ile_de_france
#		NOT = { has_global_flag = aztec_paris }
#	}
#	
#	major_trigger = {
#		ai = no
#	}	
#		
#	immediate = {
#		set_global_flag = aztec_paris
#	}
#	
#	option = {
#		name = EVTOPTA_SSI_043
#	}
#}
#
## Aztecs Hold Rome
#character_event = {
#	id = SSI.45
#	desc = EVTDESC_SSI_045
#	
#	picture = GFX_evt_aztec_court
#	border = GFX_event_normal_frame_war
#	
#	major = yes
#	
#	trigger = {
#		has_global_flag = aztec_arrival
#		has_landed_title = e_mexikha
#		completely_controls = c_roma
#		NOT = { has_global_flag = aztec_rome }
#	}
#	
#	major_trigger = {
#		ai = no
#	}	
#		
#	immediate = {
#		set_global_flag = aztec_rome
#	}
#	
#	option = {
#		name = EVTOPTA_SSI_043
#	}
#}
#
## Aztecs Hold Constantinople
#character_event = {
#	id = SSI.46
#	desc = EVTDESC_SSI_046
#	
#	picture = GFX_evt_aztec_court
#	border = GFX_event_normal_frame_war
#	
#	major = yes
#	
#	trigger = {
#		has_global_flag = aztec_arrival
#		has_landed_title = e_mexikha
#		completely_controls = c_byzantion
#		NOT = { has_global_flag = aztec_constantinople }
#	}
#	
#	major_trigger = {
#		ai = no
#	}	
#		
#	immediate = {
#		set_global_flag = aztec_constantinople
#	}
#	
#	option = {
#		name = EVTOPTA_SSI_043
#	}
#}
#
## Aztecs Hold Cordoba
#character_event = {
#	id = SSI.47
#	desc = EVTDESC_SSI_047
#	
#	picture = GFX_evt_aztec_court
#	border = GFX_event_normal_frame_war
#	
#	major = yes
#	
#	trigger = {
#		has_global_flag = aztec_arrival
#		has_landed_title = e_mexikha
#		completely_controls = c_cordoba
#		NOT = { has_global_flag = aztec_cordoba }
#	}
#	
#	major_trigger = {
#		ai = no
#	}	
#		
#	immediate = {
#		set_global_flag = aztec_cordoba
#	}
#	
#	option = {
#		name = EVTOPTA_SSI_043
#	}
#}
#
## Aztecs Hold Cairo
#character_event = {
#	id = SSI.48
#	desc = EVTDESC_SSI_048
#	
#	picture = GFX_evt_aztec_court
#	border = GFX_event_normal_frame_war
#	
#	major = yes
#	
#	trigger = {
#		has_global_flag = aztec_arrival
#		has_landed_title = e_mexikha
#		completely_controls = c_cairo
#		NOT = { has_global_flag = aztec_cairo }
#	}
#	
#	major_trigger = {
#		ai = no
#	}	
#		
#	immediate = {
#		set_global_flag = aztec_cairo
#	}
#	
#	option = {
#		name = EVTOPTA_SSI_043
#	}
#}

# Aztecs Sacrifice Prisoner
character_event = {
	id = SSI.60
	desc = EVTDESC_SSI_060
	
	picture = GFX_evt_bishop_aztec
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SSI_060
	}
}

# Aztecs Sacrifice Occupied Province Character
character_event = {
	id = SSI.61
	hide_window = yes
	
	ai = yes
	
	is_triggered_only = yes
	
	trigger = {
		in_command = no
		prisoner = no
		age = 16
		NOT = { religion = aztec }
		NOT = {
			any_liege = {
				has_landed_title = e_mexikha
			}
		}
		new_character = {
			OR = {
				religion = aztec
				religion = aztec_reformed
			}
		}
	}
	
	immediate = {
		liege = {
			character_event = { id = SSI.62 }
		}
		death = { death_reason = death_sacrificed }
	}
	
	option = {
		name = OK
	}
}

# Liege Informed of Sacrifice
character_event = {
	id = SSI.62
	desc = EVTDESC_SSI_060
	
	picture = GFX_evt_bishop_aztec
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SSI_060
	}
}

# Aztecs Bring Syphilis
narrative_event = {
	id = SSI.70
	title = EVTNAME_SSI_070
	desc = EVTDESC_SSI_070
	
	picture = GFX_evt_aztec_explorers
	border = GFX_event_narrative_frame_war
	
	only_independent = yes
	has_global_flag = aztec_arrival
	
	trigger = {
		has_landed_title = e_mexikha
		NOT = { has_global_flag = aztec_syphilis }
		NOT = { has_global_flag = aztecs_defeated }
	}
	
	major_trigger = {
		ai = no
	}	
	
	mean_time_to_happen = {
		months = 150
	}
	
	immediate = {
		set_global_flag = aztec_syphilis
		activate_disease = syphilis
	}
	
	option = {
		name = EVTOPTA_SSI_070
		trigger = {
			NOT = { has_landed_title = e_mexikha }
		}
	}
	option = {
		name = EVTOPTB_SSI_070
		trigger = {
			has_landed_title = e_mexikha
		}
	}
}

# Aztecs Struck by Smallpox
narrative_event = {
	id = SSI.71
	title = EVTNAME_SSI_071
	desc = EVTDESC_SSI_071
	
	picture = GFX_evt_throne_room_mesoamerican
	border = GFX_event_narrative_frame_war
	
	major = yes
	only_independent = yes
	has_global_flag = aztec_arrival
	
	trigger = {
		has_global_flag = aztec_syphilis
		has_landed_title = e_mexikha
		NOT = { has_global_flag = aztecs_defeated }
		NOT = { has_global_flag = aztec_smallpox }
	}
	
	major_trigger = {
		ai = no
	}	
	
	mean_time_to_happen = {
		months = 150
	}
	
	immediate = {
		set_global_flag = aztec_smallpox
	}
	
	option = {
		name = EVTOPTA_SSI_071
		trigger = {
			NOT = { has_landed_title = e_mexikha }
		}
	}
	option = {
		name = EVTOPTB_SSI_071
		trigger = {
			has_landed_title = e_mexikha
		}
	}
}

# Aztecs Sacrifice Prisoner (Aztec perspective)
character_event = {
	id = SSI.72
	desc = EVTDESC_SSI_072
	
	picture = GFX_evt_bishop_aztec
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = EVTOPTA_SSI_072
	}
}

