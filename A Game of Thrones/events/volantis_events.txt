
namespace = volantis

### Volantis-Triarch Events ###
#Freeborn Landholder chooses party
character_event = {
	id = volantis.300
	desc = "EVTDESCvolantis.300" 
	picture = GFX_evt_volantis
	
	hide_from = yes
	min_age = 15	
	is_triggered_only = yes
	
	trigger = {
		OR = {
			demesne_size = 1
			AND = {
				is_patrician = yes
				is_ruler = yes
			}
			has_minor_title = title_freeholder
		}
		OR = { #Must either be of valyrian blood or inhabit the republic's primary kingdom
			culture = high_valyrian
			culture = western_valyrian
			culture = eastern_valyrian
			capital_scope = { 
				kingdom = { 
					FROM = { capital_scope = { kingdom = { title = PREVPREVPREV } } }
				} 
			}
			AND = {
				is_ruler = no
				liege = { 
					capital_scope = { 
						kingdom = { 
							FROM = { capital_scope = { kingdom = { title = PREVPREVPREV } } }
						} 
					} 
				}
			}
		}
		is_theocracy = no
		NOT = { trait = elephant }
		NOT = { trait = tiger }
		NOT = { trait = former_slave }
		can_press_claims_trigger = yes
	}
	
	option = {
		name = "EVTOPTAvolantis.300" #Elephant
		ai_chance = {
			factor = 50
			
			modifier = { #Always pick tiger
				factor = 0
				martial = 10
				OR = {
					trait = tough_soldier
					trait = skilled_tactician
					trait = brilliant_strategist
					combat_rating = 6
					trait = ambitious
					trait = zealous
				}
				NOR = {
					liege = { 
						trait = elephant 
						reverse_opinion = { who = ROOT value = -20 }
						OR = {
							reverse_has_opinion_modifier = { who = ROOT modifier = opinion_granted_barony }
							reverse_has_opinion_modifier = { who = ROOT modifier = opinion_granted_county }
						}	
					}
					father_even_if_dead = { trait = elephant }
					AND = {
						is_ruler = yes
						OR = {
							is_patrician = yes
							is_republic = yes
						}
					}
					trait = indulgent_wastrel
					trait = thrifty_clerk
					trait = fortune_builder
					trait = midas_touched
					stewardship = 10
					trait = content
					trait = cynical
				}					
			}
			modifier = {
				factor = 2.5
				liege = { 
					trait = elephant 
					reverse_opinion = { who = ROOT value = -20 }
					OR = {
						reverse_has_opinion_modifier = { who = ROOT modifier = opinion_granted_barony }
						reverse_has_opinion_modifier = { who = ROOT modifier = opinion_granted_county }
					}	
				}
			}
			modifier = {
				factor = 2.5
				father_even_if_dead = { trait = elephant }
			}
			modifier = {
				factor = 1.5
				any_sibling = { trait = elephant }
			}
			modifier = {
				factor = 1.75
				is_ruler = yes
				OR = {
					is_patrician = yes
					is_republic = yes
				}				
			}
			modifier = {
				factor = 1.5
				is_ruler = no
				liege = {
					dynasty = PREV
					OR = {
						is_patrician = yes
						is_republic = yes
					}	
				}	
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 2
				trait = patient
			}
			modifier = {
				factor = 2
				trait = content
			}
			modifier = {
				factor = 2
				trait = cynical
			}
			modifier = {
				factor = 3
				OR = {
					trait = indulgent_wastrel
					trait = thrifty_clerk
					trait = fortune_builder
					trait = midas_touched
				}
			}
			modifier = {
				factor = 1.5
				stewardship = 10
			}
			modifier = {
				factor = 1.5
				stewardship = 13
			}
			modifier = {
				factor = 1.5
				stewardship = 16
			}
			modifier = {
				factor = 1.5
				stewardship = 19
			}
			modifier = {
				factor = 1.5
				stewardship = 22
			}
		}
		add_trait = elephant
	}
	
	option = {
		name = "EVTOPTBvolantis.300" #Tiger
		ai_chance = {
			factor = 50
			
			modifier = { #Always pick elephant
				factor = 0
				stewardship = 10
				OR = {
					trait = thrifty_clerk
					trait = fortune_builder
					trait = midas_touched
					trait = content
					trait = cynical
				}
				NOR = {
					liege = { 
						trait = tiger
						reverse_opinion = { who = ROOT value = -20 }
						OR = {
							reverse_has_opinion_modifier = { who = ROOT modifier = opinion_granted_barony }
							reverse_has_opinion_modifier = { who = ROOT modifier = opinion_granted_county }
						}	
					}
					father_even_if_dead = { trait =tiger }
					AND = {
						is_ruler = yes
						is_feudal = yes
					}
					trait = misguided_warrior
					trait = tough_soldier
					trait = skilled_tactician
					trait = brilliant_strategist
					martial = 10
					trait = ambitious
					trait = zealous
				}					
			}
			modifier = {
				factor = 2.5
				liege = { 
					trait = tiger 
					reverse_opinion = { who = ROOT value = -20 }
					OR = {
						reverse_has_opinion_modifier = { who = ROOT modifier = opinion_granted_barony }
						reverse_has_opinion_modifier = { who = ROOT modifier = opinion_granted_county }
					}	
				}
			}
			modifier = {
				factor = 2.5
				father_even_if_dead = { trait = tiger }
			}
			modifier = {
				factor = 1.5
				any_sibling = { trait = tiger }
			}
			modifier = {
				factor = 1.75
				is_ruler = yes
				is_feudal = yes
			}
			modifier = {
				factor = 1.5
				is_ruler = no
				liege = {
					dynasty = PREV
					is_feudal = yes	
				}	
			}
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 2
				trait = wroth
			}
			modifier = {
				factor = 2
				trait = ambitious
			}
			modifier = {
				factor = 2
				trait = zealous
			}
			modifier = {
				factor = 3
				OR = {
					trait = misguided_warrior
					trait = tough_soldier
					trait = skilled_tactician
					trait = brilliant_strategist
				}
			}
			modifier = {
				factor = 1.5
				martial = 10
			}
			modifier = {
				factor = 1.5
				martial = 13
			}
			modifier = {
				factor = 1.5
				martial = 16
			}
			modifier = {
				factor = 1.5
				martial = 19
			}
			modifier = {
				factor = 1.5
				martial = 22
			}
		}
		add_trait = tiger
	}
}
#Special first time event version
character_event = {
	id = volantis.301
	desc = "EVTDESCvolantis.300" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	hide_from = yes
	
	trigger = {
		government = triarch_merchant_republic_government		
	}
	
	immediate = { any_realm_lord = { character_event = { id = volantis.300 } } }
	
	option = {
		name = "EVTOPTAvolantis.300" #Elephant
		trigger = {
			NOT = { trait = elephant }
			NOT = { trait = tiger }
		}	
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2.5
				father_even_if_dead = { trait = elephant }
			}
			modifier = {
				factor = 1.5
				any_sibling = { trait = elephant }
			}
			modifier = {
				factor = 1.5
				is_ruler = yes
				is_patrician = yes
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 2
				trait = patient
			}
			modifier = {
				factor = 2
				trait = content
			}
			modifier = {
				factor = 2
				trait = cynical
			}
			modifier = {
				factor = 3
				OR = {
					trait = indulgent_wastrel
					trait = thrifty_clerk
					trait = fortune_builder
					trait = midas_touched
				}
			}
			modifier = {
				factor = 1.5
				stewardship = 10
			}
			modifier = {
				factor = 1.5
				stewardship = 13
			}
			modifier = {
				factor = 1.5
				stewardship = 16
			}
			modifier = {
				factor = 1.5
				stewardship = 19
			}
			modifier = {
				factor = 1.5
				stewardship = 22
			}
		}
		custom_tooltip = { text = TOOLTIPTRIARCHY }
		add_trait = elephant
	}
	
	option = {
		name = "EVTOPTBvolantis.300" #Tiger
		trigger = {
			NOT = { trait = elephant }
			NOT = { trait = tiger }
		}	
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2.5
				father_even_if_dead = { trait = tiger }
			}
			modifier = {
				factor = 1.5
				any_sibling = { trait = tiger }
			}
			modifier = {
				factor = 1.5
				is_ruler = yes
				is_feudal = yes
			}
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 2
				trait = wroth
			}
			modifier = {
				factor = 2
				trait = ambitious
			}
			modifier = {
				factor = 2
				trait = zealous
			}
			modifier = {
				factor = 3
				OR = {
					trait = misguided_warrior
					trait = tough_soldier
					trait = skilled_tactician
					trait = brilliant_strategist
				}
			}
			modifier = {
				factor = 1.5
				martial = 10
			}
			modifier = {
				factor = 1.5
				martial = 13
			}
			modifier = {
				factor = 1.5
				martial = 16
			}
			modifier = {
				factor = 1.5
				martial = 19
			}
			modifier = {
				factor = 1.5
				martial = 22
			}
		}
		custom_tooltip = { text = TOOLTIPTRIARCHY }
		add_trait = tiger
	}
	option = {
		name = "EVTOPTCvolantis.300" 
		trigger = {
			OR = {
				trait = elephant
				trait = tiger
			}	
		}
		custom_tooltip = { text = TOOLTIPTRIARCHY }
	}	
}
###Election	
#Post war election check , event needs to be delayed
character_event = {
	id = volantis.350
	
	is_triggered_only = yes
	hide_window = yes
	only_playable = yes
	
	trigger = {
		OR = {
			government = triarch_merchant_republic_government	
			FROM = { government = triarch_merchant_republic_government }
		}		
	}
	
	immediate = { 
		if = { #check if mega wars can end
			limit = {
				tier = EMPEROR
				trait = civil_war
			}
			character_event = { id = mega_wars.8 days = 2 } 
		}	
		character_event = { id = volantis.1 days = 6 } 
		FROM = { 
			if = { #check if mega wars can end
				limit = {
					tier = EMPEROR
					trait = civil_war
				}
				character_event = { id = mega_wars.8 days = 2 } 
			}	
			character_event = { id = volantis.1 days = 6 } 
		}
	} 
	
	option = {
		name = OK
	}	
}
character_event = {
	id = volantis.1
	desc = "EVTDESCvolantis.1" 
	picture = GFX_evt_volantis
	
	only_playable = yes
	is_triggered_only = yes
	
	trigger = {
		government = triarch_merchant_republic_government	
		#Elections are suspended in times of defensive war or if the capital is occupied
		NOT = { is_primary_war_defender = yes }
		capital_holding = { controller = { character = ROOT } }
		
		OR = {
			NOT = { has_character_flag = volantene_election }
			had_character_flag = { flag = volantene_election days = 300 }
		}	
		OR = {
			NOT = { has_character_flag = triarch_half_term }
			had_character_flag = { flag = triarch_half_term days = 180 }
		}		
	}
	
	immediate = {
		hidden_tooltip = {
			#clear triarchs seperated by mega war
			if = {
				limit = {
					tier = EMPEROR
					trait = civil_war
				}
				any_independent_ruler = {
					limit = {
						primary_title = { 					
							ROOT = {
								any_demesne_title = {
									tier = EMPEROR
									is_variable_equal = { which = "de_facto_empire" which = PREVPREV }
								}
							}
							check_variable = { which = "de_facto_empire" value = 0.9 }
						}
					}
					if = {
						limit = { has_character_flag = triarch }
						clr_character_flag = triarch
						remove_title = title_triarch
					}
					any_realm_character = {
						limit = { has_character_flag = triarch }
						clr_character_flag = triarch
						remove_title = title_triarch
					}
				}
			}
			any_realm_character = { #eligible characters buy freehold
				limit = {
					is_ruler = no	
					is_adult = yes
					wealth = 100
					NOT = { has_character_flag = title_freeholder }
					can_press_claims_trigger = yes
					prisoner = no
					NOT = { is_inaccessible_trigger = yes }
					NOT = { has_character_modifier = planning_claimant_adventure }
					OR = { #Must either be of valyrian blood or inhabit the republic's primary kingdom
						culture = high_valyrian
						culture = western_valyrian
						culture = eastern_valyrian
						capital_scope = { 
							kingdom = { 
								ROOT = { capital_scope = { kingdom = { title = PREVPREVPREV } } }
							} 
						}
						AND = {
							is_ruler = no
							liege = { 
								capital_scope = { 
									kingdom = { 
										ROOT = { capital_scope = { kingdom = { title = PREVPREVPREV } } }
									} 
								} 
							}
						}
					}
				}
				wealth = -100
				set_character_flag = title_freeholder
				give_minor_title = title_freeholder
			}
			any_realm_character = { #Pick Party
				limit = {
					OR = {
						demesne_size = 1
						AND = {
							is_patrician = yes
							is_ruler = yes
						}
						has_character_flag = title_freeholder
					}
					NOT = { trait = elephant }
					NOT = { trait = tiger }
				}
				character_event = { id = volantis.300 } 
			}
		}
		clr_character_flag = volantene_election
		set_character_flag = volantene_election
		clr_character_flag = election_candidate
		clr_character_flag = main_triarch
		clr_character_flag = candidates_found
		clr_character_flag = ignore_election 
		clr_character_flag = triarch
		clr_character_flag = triarch_half_term
		clr_character_flag = candidate_number_found
		if = { #Full election only occurs if player is present
			limit = {
				NOR = {
					ai = no
					any_realm_lord = { ai = no }
				}
			}
			character_event = { id = volantis.250 }
			break = yes
		}
		#Count candidates
		set_variable = { which = "election_candidates" value = 0 }				
		set_character_flag = finding_candidates		
		character_event = { id = volantis.3 days = 4 }
		if = {
			limit = {
				prisoner = no
				NOT = { trait = incapable }
				age = 14
				primary_title = { NOT = { has_law = republic_triarch_for_life } }
			}
			set_character_flag = election_candidate
		}
		hidden_tooltip = {	
			any_realm_character = {
				limit = {
					OR = {
						demesne_size = 1
						AND = {
							is_patrician = yes
							is_ruler = yes
						}
						has_character_flag = title_freeholder
					}
				}				
				character_event = { id = volantis.2 days = 2 }
			}
		}
	}
	
	option = {
		name = "EVTOPTAvolantis.1" 
		trigger = { primary_title = { NOT = { has_law = republic_triarch_for_life } } }
		ai_chance = {
			factor = 1000
			modifier  = {
				factor = 0.001
				is_inaccessible_trigger = yes
			}
		}
		custom_tooltip = { text = TOOLTIPvolantis.3C } 	
		custom_tooltip = { text = TOOLTIPTRIARCHY }
	}
	
	option = {
		name = "EVTOPTCvolantis.2" #No Thanks
		trigger = { primary_title = { NOT = { has_law = republic_triarch_for_life } } }
		ai_chance = {
			factor = 1
		}
		custom_tooltip = { text = TOOLTIPvolantis.3 }
		hidden_tooltip = { character_event = { id = volantis.3 days = 4 } }
		clr_character_flag = election_candidate
		if = {
			limit = { trait = in_hiding }
			remove_trait = in_hiding
			add_character_modifier = {
				name = went_out_of_hiding_timer
				duration = 180
				hidden = yes
			}
			hidden_tooltip = { character_event = { id = CM.6400 } } # Notify plotters and family
		}
		clr_character_flag = election_candidate_contesting_1st
		clr_character_flag = election_candidate_contesting_2nd
		clr_character_flag = election_candidate_contesting_3rd
		clr_character_flag = candidate_number_found
		clr_character_flag = large_gift
		clr_character_flag = regular_gift
		clr_character_flag = small_gift
		clr_character_flag = no_gift
		clr_character_flag = threats
		clr_character_flag = election_1st
		clr_character_flag = election_2nd
		clr_character_flag = election_3rd
	}
	
	option = {
		name = "EVTOPTBvolantis.1" 
		trigger = { primary_title = { has_law = republic_triarch_for_life } } 
		custom_tooltip = { text = TOOLTIPvolantis.3D }
		custom_tooltip = { text = TOOLTIPTRIARCHY }
		clr_character_flag = election_candidate_contesting_1st
		clr_character_flag = election_candidate_contesting_2nd
		clr_character_flag = election_candidate_contesting_3rd
		clr_character_flag = candidate_number_found
		clr_character_flag = large_gift
		clr_character_flag = regular_gift
		clr_character_flag = small_gift
		clr_character_flag = no_gift
		clr_character_flag = threats
		clr_character_flag = election_1st
		clr_character_flag = election_2nd
		clr_character_flag = election_3rd
	}
}	
#Inform Realm
character_event = {
	id = volantis.2
	desc = "EVTDESCvolantis.2" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = ignore_election
		clr_character_flag = main_triarch	
		if = {
			limit = { 
				has_character_flag = title_freeholder
				is_ruler = no
				NOT = { has_minor_title = title_freeholder }
			}	
			give_minor_title = title_freeholder
		}
		#check triarch for life status
		if = {
			limit = { has_minor_title = title_triarch_for_life }	
			remove_title = title_triarch_for_life
		}
		if = {
			limit = { 
				has_character_flag = title_triarch_for_life
				has_character_flag = triarch
				FROM = {
					is_merchant_republic = yes
					government = triarch_merchant_republic_government	
					primary_title = { has_law = republic_triarch_for_life }		
					dynasty = ROOT
				}
			}	
			give_minor_title = title_triarch_for_life
		}
		#Check if eligible for election
		if = {
			limit = {
				eligible_triarch_trigger = yes
				NOT = { is_inaccessible_trigger = yes }
				NOT = { has_minor_title = title_triarch_for_life }
			}
			set_character_flag = eligible_for_election
		}
	}
	
	option = {
		name = {
			text = "EVTOPTAvolantis.2" #Cannot participate	
			trigger = { NOT = { has_minor_title = title_triarch_for_life } }
		}	
		name = {
			text = "EVTOPTBvolantis.1" #Triarch for life
			trigger = { has_minor_title = title_triarch_for_life }
		}
		trigger = { 
			NOT = { has_character_flag = eligible_for_election } 		
		}
		clr_character_flag = election_candidate
		custom_tooltip = { text = TOOLTIPvolantis.3D }
		custom_tooltip = { text = TOOLTIPTRIARCHY }
		clr_character_flag = election_candidate_contesting_1st
		clr_character_flag = election_candidate_contesting_2nd
		clr_character_flag = election_candidate_contesting_3rd
		clr_character_flag = election_1st
		clr_character_flag = election_2nd
		clr_character_flag = election_3rd
	}
	option = {
		name = "EVTOPTBvolantis.2" #I Put myself forward!
		trigger = { has_character_flag = eligible_for_election }
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				is_patrician = yes
			}
			modifier = {
				factor = 5
				has_character_flag = triarch
			}
			modifier = {
				factor = 5
				trait = ambitious
			}
			modifier = {
				factor = 3
				trait = ruthless
			}
			modifier = {
				factor = 2
				tier = COUNT
			}
			modifier = {
				factor = 3
				tier = DUKE
			}
			modifier = {
				factor = 4
				tier = KING
			}
			modifier = {
				factor = 10
				trait = dragon_rider
			}
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 2
				trait = diligent
			}
			modifier = {
				factor = 3
				intrigue = 15
			}
			modifier = {
				factor = 3
				diplomacy = 15
			}
			modifier = {
				factor = 3
				stewardship = 15
			}
			modifier = {
				factor = 3
				martial = 15
			}
			modifier = {
				factor = 2
				prestige = 500
			}
		}
		custom_tooltip = { text = TOOLTIPEVTOPTBvolantis.2 }
		clr_character_flag = eligible_for_election
		set_character_flag = election_candidate
		
		clr_character_flag = main_triarch
		clr_character_flag = election_candidate_contesting_1st
		clr_character_flag = election_candidate_contesting_2nd
		clr_character_flag = election_candidate_contesting_3rd
		#clr_character_flag = volantis.16
		clr_character_flag = candidate_number_found
		clr_character_flag = large_gift
		clr_character_flag = regular_gift
		clr_character_flag = small_gift
		clr_character_flag = no_gift
		clr_character_flag = threats
		clr_character_flag = election_1st
		clr_character_flag = election_2nd
		clr_character_flag = election_3rd
		custom_tooltip = { text = TOOLTIPTRIARCHY }
	}
	
	option = {
		name = "EVTOPTCvolantis.2" #No Thanks
		trigger = { has_character_flag = eligible_for_election }
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 0
				trait = ambitious
				NOR = {
					dynasty = 0
					trait = slothful
					is_ill = yes
					NOT = { prestige = 50 }
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_character_flag = triarch
					is_patrician = yes
				}
				NOR = {
					trait = content
					trait = slothful
					trait = craven
				}
			}
			modifier = {
				factor = 5
				trait = content
			}
			modifier = {
				factor = 3
				trait = shy
			}
			modifier = {
				factor = 2
				dynasty = 0
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 2
				trait = slothful
			}
			modifier = {
				factor = 2
				NOT = { intrigue = 3 }
			}
			modifier = {
				factor = 2
				NOT = { diplomacy = 3 }
			}
			modifier = {
				factor = 2
				NOT = { prestige = 50 }
			}
			modifier = {
				factor = 3
				is_weak_trigger = yes
			}
			modifier = {
				factor = 3
				trait = infirm
			}
		}
		custom_tooltip = { text = TOOLTIPvolantis.3 }
		clr_character_flag = eligible_for_election	
		clr_character_flag = council_candidate
		clr_character_flag = election_candidate
		
		clr_character_flag = election_candidate_contesting_1st
		clr_character_flag = election_candidate_contesting_2nd
		clr_character_flag = election_candidate_contesting_3rd
		clr_character_flag = election_1st
		clr_character_flag = election_2nd
		clr_character_flag = election_3rd
	}
	
	option = {
		name = "EVTOPTDvolantis.2" #Human ignore election
		trigger = { ai = no }
		custom_tooltip = { text = TOOLTIPvolantis.3b }
		clr_character_flag = eligible_for_election	
		clr_character_flag = council_candidate
		clr_character_flag = election_candidate
		set_character_flag = ignore_election
		
		clr_character_flag = election_candidate_contesting_1st
		clr_character_flag = election_candidate_contesting_2nd
		clr_character_flag = election_candidate_contesting_3rd
		clr_character_flag = election_1st
		clr_character_flag = election_2nd
		clr_character_flag = election_3rd
	}
}	
#Whittle down candiates to 6
character_event = {
	id = volantis.3
	
	is_triggered_only = yes
	
	hide_window = yes
	
	immediate = {	
		#Add self if eligible
		if = {
			limit = { has_character_flag = election_candidate }
			change_variable = { which = "election_candidates" value = 1 }
		}
		#Count rest
		any_realm_character = {
			limit = { has_character_flag = election_candidate }	
			ROOT = { change_variable = { which = "election_candidates" value = 1 } }
		}
		character_event = { id = volantis.4 days = 1 }
	}
	
	option = {
		name = OK		
	}
}		
character_event = {
	id = volantis.4
	
	is_triggered_only = yes
	
	hide_window = yes
	
	immediate = {	
		#If 6 or less proceed to the election
		if = {
			limit = { 
				NOT = { check_variable = { which = "election_candidates" value = 6.1 } } 	
			}
			#If less than 6 try to add incumbents
			if = {
				limit = { 
					NOT = { is_variable_equal = { which = "election_candidates" value = 6 } }
					ai = yes
					eligible_triarch_trigger = yes
					NOT = { has_character_flag = election_candidate }
				}
				set_character_flag = election_candidate
				change_variable = { which = "election_candidates" value = 1 }
			}	
			if = {
				limit = { NOT = { is_variable_equal = { which = "election_candidates" value = 6 } } }
				random_realm_character = {
					limit = {
						has_character_flag = triarch
						ai = yes
						eligible_triarch_trigger = yes
						NOT = { has_character_flag = election_candidate }
					}
					set_character_flag = election_candidate
				}				
				change_variable = { which = "election_candidates" value = 1 }
			}
			if = {
				limit = { NOT = { is_variable_equal = { which = "election_candidates" value = 6 } } }
				random_realm_character = {
					limit = {
						has_character_flag = triarch
						ai = yes
						eligible_triarch_trigger = yes
						NOT = { has_character_flag = election_candidate }
					}
					set_character_flag = election_candidate
				}				
				change_variable = { which = "election_candidates" value = 1 }
			}
			set_variable = { which = "election_candidates" value = 0 }
			set_character_flag = candidates_found
			clr_character_flag = finding_candidates
			character_event = { id = volantis.8 days = 1 } 		
			break = yes
		}	
		#if more than 6 randomly remove candidates
		if = {
			limit = { has_character_flag = election_candidate }
			character_event = { id = volantis.5 days = 2 random = 1 }
		}	
		any_realm_character = {
			limit = { has_character_flag = election_candidate }	
			character_event = { id = volantis.5 days = 2 random = 1 }
		}
		#set_variable = { which = "election_candidates" value = 0 }
		character_event = { id = volantis.4 days = 4 } 
	}
	
	option = {
		name = OK	
	}
}	
#Candidate is randomly removed from candidacy
character_event = {
	id = volantis.5
	
	is_triggered_only = yes
	
	hide_window = yes
	
	trigger = {
		FROM = {
			NOT = { has_character_flag = candidates_found }
			check_variable = { which = "election_candidates" value = 6.1 } 
		}
	}
	
	immediate = {
		c_the_citadel = {
			holder_scope = {
				character_event = { id = volantis.6 } 
			}
		}
	}
	
	option = {
		name = OK
	}
}	
character_event = {
	id = volantis.6
	desc = "AI only volantis event 6" 
	
	is_triggered_only = yes
	
	option = { #Survive
		name = OK
		ai_chance = { 
			factor = 50
			modifier = {
				factor = 0.5
				FROMFROM = { had_character_flag = { flag = finding_candidates days = 20 } }
			}
			modifier = {
				factor = 0.5
				FROMFROM = { had_character_flag = { flag = finding_candidates days = 40 } }
			}
			#Incumbent Triarch
			modifier = {
				factor = 3
				FROM = { is_merchant_republic = yes }
			}
			modifier = {
				factor = 3
				FROM = { has_minor_title = title_triarch }
			}
			#Incumbent Party
			modifier = { 
				factor = 1.5
				FROM = {
					trait = tiger
					any_liege = { is_merchant_republic = yes trait = tiger }
				}	
			}
			modifier = {
				factor = 1.5
				FROM = {
					trait = elephant
					any_liege = { is_merchant_republic = yes trait = elephant }
				}	
			}
			#Status	
			modifier = {
				factor = 3
				FROM = { is_patrician = yes }
			}
			modifier = {
				factor = 2
				FROM = { higher_tier_than = COUNT }
			}
			modifier = {
				factor = 10
				FROM = { trait = dragon_rider }
			}
			#Stats
			modifier = {
				factor = 1.6
				FROM = { 
					trait = tiger
					martial = 11 
				}				
			}
			modifier = {
				factor = 1.6
				FROM = { 
					trait = tiger
					martial = 15
				}			
			}
			modifier = {
				factor = 1.6
				FROM = { 
					trait = tiger
					martial = 19
				}				
			}
			modifier = {
				factor = 1.6
				FROM = { 
					trait = elephant
					stewardship = 11 
				}				
			}
			modifier = {
				factor = 1.6
				FROM = { 
					trait = elephant
					stewardship = 15 
				}				
			}
			modifier = {
				factor = 1.6
				FROM = { 
					trait = elephant
					stewardship = 19
				}				
			}
			modifier = {
				factor = 1.6
				FROM = { diplomacy = 11 }
			}
			modifier = {
				factor = 1.6
				FROM = { diplomacy = 15 }
			}
			modifier = {
				factor = 1.6
				FROM = { diplomacy = 19 }
			}
			modifier = {
				factor = 1.6
				FROM = { diplomacy = 24 }
			}
			modifier = {
				factor = 1.6
				FROM = { intrigue = 11 }
			}
			modifier = {
				factor = 1.6
				FROM = { intrigue = 15 }
			}
			modifier = {
				factor = 1.6
				FROM = { intrigue = 19 }
			}
			modifier = {
				factor = 1.6
				FROM = { intrigue = 24 }
			}
			#Prestige
			modifier = {
				factor = 1.25
				FROM = { prestige = 100 }
			}
			modifier = {
				factor = 1.25
				FROM = { prestige = 150 }
			}
			modifier = {
				factor = 1.25
				FROM = { prestige = 300 }
			}
			modifier = {
				factor = 1.25
				FROM = { prestige = 450 }
			}
			modifier = {
				factor = 1.25
				FROM = { prestige = 600 }
			}
			modifier = {
				factor = 1.25
				FROM = { prestige = 750 }
			}
			modifier = {
				factor = 1.5
				FROM = { prestige = 1000 }
			}
			modifier = {
				factor = 2
				FROM = { prestige = 1500 }
			}
			modifier = {
				factor = 3
				FROM = { prestige = 2000 }
			}
			modifier = {
				factor = 4
				FROM = { prestige = 3000 }
			}
		}	
	}
	
	option = { #Remove
		name = OK
		ai_chance = { 
			factor = 15
			modifier = {
				factor = 0
				FROM = { #Always want a patrician candidate 
					is_patrician = yes
					top_liege = { 
						NOT = { 
							any_realm_character = {
								is_patrician = yes
								NOT = { character = FROM }
								has_character_flag = election_candidate
							}
						}
					}	
				}
			}
			modifier = {
				factor = 0
				FROM = { 
					is_merchant_republic = yes
					NOT = { 
						any_realm_character = {
							is_patrician = yes
							NOT = { character = FROM }
							has_character_flag = election_candidate
						}
					}	
				}
			}
			#Status
			modifier = {
				factor = 3.5
				FROM = { 
					OR = {
						dynasty = 0
						NOT = { father_even_if_dead = { always = yes } } 
					}	
				}
			}
			modifier = {
				factor = 2
				FROM = { is_female = yes }
			}
			#Stats
			modifier = {
				factor = 1.6
				FROM = { 
					trait = tiger
					NOT = { martial = 7 }
				}				
			}
			modifier = {
				factor = 1.6
				FROM = { 
					trait = tiger
					NOT = { martial = 3 }
				}				
			}
			modifier = {
				factor = 1.6
				FROM = { 
					trait = elephant
					NOT = { stewardship = 7 }
				}				
			}
			modifier = {
				factor = 1.6
				FROM = { 
					trait = elephant
					NOT = { stewardship = 3 }
				}				
			}
			modifier = {
				factor = 1.6
				FROM = { NOT = { diplomacy = 7 } }
			}
			modifier = {
				factor = 1.6
				FROM = { NOT = { diplomacy = 3 } }
			}
			modifier = {
				factor = 1.6
				FROM = { NOT = { intrigue = 7 } }
			}
			modifier = {
				factor = 1.6
				FROM = { NOT = { intrigue = 3 } }
			}
			modifier = {
				factor = 2
				FROM = { NOT = { prestige = 0 } }
			}	
			#Tyranny/dishonour
			modifier = {
				factor = 2
				FROM = { trait = kinslayer }
			}
			modifier = {
				factor = 2
				FROM = { check_variable = { which = "tyrant" value = 4.9 } }
			}		
			modifier = {
				factor = 3
				FROM = { check_variable = { which = "tyrant" value = 24.9 } }
			}	
			modifier = {
				factor = 4
				FROM = { check_variable = { which = "tyrant" value = 44.9 } }
			}	
			modifier = {
				factor = 2
				FROM = { check_variable = { which = "dishonorable" value = 9.9 } }
			}		
			modifier = {
				factor = 3
				FROM = { check_variable = { which = "dishonorable" value = 29.9 } }
			}	
			modifier = {
				factor = 4
				FROM = { check_variable = { which = "dishonorable" value = 49.9 } }
			}			
		}	
		FROM = {
			clr_character_flag = election_candidate
			character_event = { id = volantis.7 } 
		}
		FROM = { FROM = { change_variable = { which = "election_candidates" value = -1 } } }
	}
}	
#Inform lost candidacy
character_event = {
	id = volantis.7
	desc = "EVTDESCvolantis.7" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {
		name = "EVTOPTAvolantis.7" #Cannot participate	
		prestige = -30
	}
}	
###6 Candidates chosen, inform King###
character_event = {
	id = volantis.8
	desc = "EVTDESCvolantis.8" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	
	immediate = {
	}
	
	option = {
		name = "EVTOPTAvolantis.8" 
		trigger = {
			any_realm_character = { has_character_flag = election_candidate } 
		}
		# clr_character_flag = election_counting_3rd
		# clr_character_flag = election_counting_2nd
		# set_character_flag = election_counting_1st
		hidden_tooltip = { character_event = { id = volantis.13 days = 6 } }
		if = { #if candidate select gift
			limit = { has_character_flag = election_candidate }
			character_event = { id = volantis.9 tooltip = TOOLTIPvolantis.9A }		
		}				
		hidden_tooltip = {
			random_realm_character = {
				limit = { 	
					ROOT = { NOT = { has_character_flag = election_candidate } }
					has_character_flag = election_candidate 
					NOT = { has_character_flag = election_candidate_contesting }
				}
				set_character_flag = candidate_number_found
				save_event_target_as = candidate_1
			}
			random_realm_character = {
				limit = { 					
					has_character_flag = election_candidate 
					NOT = { has_character_flag = election_candidate_contesting }
					NOT = { has_character_flag = candidate_number_found }
				}
				set_character_flag = candidate_number_found
				save_event_target_as = candidate_2			
			}
			random_realm_character = {
				limit = { 
					has_character_flag = election_candidate 
					NOT = { has_character_flag = election_candidate_contesting }
					NOT = { has_character_flag = candidate_number_found }
				}
				set_character_flag = candidate_number_found
				save_event_target_as = candidate_3
			}
			random_realm_character = {
				limit = { 
					has_character_flag = election_candidate 
					NOT = { has_character_flag = election_candidate_contesting }
					NOT = { has_character_flag = candidate_number_found }
				}
				set_character_flag = candidate_number_found
				save_event_target_as = candidate_4
			}
			random_realm_character = {
				limit = { 
					has_character_flag = election_candidate 
					NOT = { has_character_flag = election_candidate_contesting }
					NOT = { has_character_flag = candidate_number_found }
				}
				set_character_flag = candidate_number_found
				save_event_target_as = candidate_5
			}
			random_realm_character = {
				limit = { 
					has_character_flag = election_candidate 
					NOT = { has_character_flag = election_candidate_contesting }
					NOT = { has_character_flag = candidate_number_found }
				}
				set_character_flag = candidate_number_found
				save_event_target_as = candidate_6
			}
			set_variable = { which = number_of_voters value = 0 }
			any_realm_character = {
				limit = { 
					OR = {
						trait = elephant
						trait = tiger
					}
					NOT = { has_character_flag = election_candidate } 
				}
				character_event = { id = volantis.10 days = 3 random = 2 }
				ROOT = { change_variable = { which = number_of_voters value = 1 } }
			}
		}
		any_realm_character = {
			limit = { has_character_flag = election_candidate }
			character_event = { id = volantis.9 tooltip = TOOLTIPvolantis.9 }
		}
		if = { #If not a candidate cast a vote instead
			limit = { 
				NOT = { has_character_flag = election_candidate } 
				primary_title = { NOT = { has_law = republic_triarch_for_life } }
			}
			hidden_tooltip = { 
				change_variable = { which = number_of_voters value = 1 } 
				character_event = { id = volantis.10 days = 3 } 
			}	
		}
		clr_character_flag = candidates_found
		set_character_flag = counting_votes
	}

	option = {
		name = "EVTOPTBvolantis.8" #Unopposed
		trigger = {
			NOT = { any_realm_character = { has_character_flag = election_candidate } }
		}
		clr_character_flag = candidates_found
	}
}	
###Canidate chooses tribute
character_event = {
	id = volantis.9
	desc = "EVTDESCvolantis.9" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	
	trigger = { NOT = { has_character_flag = election_candidate_contesting } }
	
	immediate = {
		set_character_flag = election_candidate_contesting_1st
		set_character_flag = election_candidate_contesting_2nd
		set_character_flag = election_candidate_contesting_3rd
		clr_character_flag = large_gift
		clr_character_flag = regular_gift
		clr_character_flag = small_gift
		clr_character_flag = no_gift
		clr_character_flag = threats
		set_variable = { which = "election_votes" value = 0 }	
	}
	
	option = { #Large Gifts
		name = "EVTOPTAvolantis.9" 
		trigger = { 
			OR = {
				wealth = 800 
				yearly_income = 200
			}	
		}
		ai_chance = { 
			factor = 3
			modifier = {
				factor = 0.33 
				trait = greedy
			}
		}	
		custom_tooltip = { text = TOOLTIPvolantis.9large_gift }
		set_character_flag = large_gift
	}
	
	option = { #Regular Gifts
		name = "EVTOPTBvolantis.9" 
		trigger = { 
			OR = {
				wealth = 400
				yearly_income = 100
			}
		}
		ai_chance = { 
			factor = 6
			modifier = {
				factor = 0.66
				trait = greedy
			}
		}	
		custom_tooltip = { text = TOOLTIPvolantis.9regular_gift }
		set_character_flag = regular_gift
	}
	
	option = { #Small Gifts
		name = "EVTOPTCvolantis.9" 
		trigger = { 
			OR = {
				wealth = 100
				yearly_income = 50
			}
		}
		ai_chance = { 
			factor = 3
			modifier = {
				factor = 1.5
				trait = greedy
			}
		}	
		custom_tooltip = { text = TOOLTIPvolantis.9small_gift }
		set_character_flag = small_gift
	}
	
	option = { #Nothing
		name = "EVTOPTDvolantis.9" 
		ai_chance = { 
			factor = 1 
			modifier = {
				factor = 6
				trait = greedy
			}
		}
		set_character_flag = no_gift
	}
	
	option = { #Threaten
		name = "EVTOPTFvolantis.9" 
		trigger = { 
			OR = {
				higher_tier_than = BARON
				is_patrician = yes
			}	
			OR = {
				trait = lunatic
				trait = wroth
			}
			NOT = { trait = patient }			
			NOT = { trait = kind }
			NOT = { trait = honorable }
			NOT = { trait = just }		
			NOT = { trait = gregarious }			
		}
		ai_chance = { factor = 1.5 }
		set_character_flag = threats
	}
}	
###Realm Votes
character_event = {
	id = volantis.10
	desc = "EVTDESCvolantis.10" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	capable_only = yes
	prisoner = no
	min_age = 15
	
	trigger = {
		FROM = { is_alive = yes }
		can_press_claims_trigger = yes
		NOT = { trait = former_slave }
		NOT = { has_character_flag = ignore_election }	 	
	}
	
	immediate = {
		#Set gift level
		if = {
			limit = { higher_tier_than = DUKE }
			set_character_flag = gift_1
			break = yes
		}
		if = {
			limit = { 
				OR = {
					tier = DUKE
					any_dynasty_member = {
						is_close_relative = ROOT
						OR = {
							trait = elephant
							trait = tiger
						}
						higher_tier_than = DUKE
					}
				}
			}
			set_character_flag = gift_2
			break = yes
		}
		if = {
			limit = { 
				OR = {
					tier = COUNT
					is_patrician = yes
					any_dynasty_member = {
						is_close_relative = ROOT
						OR = {
							trait = elephant
							trait = tiger
						}
						tier = DUKE
					}
				}
			}
			set_character_flag = gift_3
			break = yes
		}
		if = {
			limit = { 
				OR = {
					tier = BARON
					any_dynasty_member = {
						is_close_relative = ROOT
						OR = {
							trait = elephant
							trait = tiger
						}
						OR = {
							is_patrician = yes
							tier = COUNT
						}	
					}
				}
			}
			set_character_flag = gift_4
			break = yes
		}
		set_character_flag = gift_5
	}
	
	option = {
		name = "EVTOPTAvolantis.10" 
		trigger = { 
			OR = {
				ai = yes
				NOT = { has_character_flag = more }
			}
			FROM = { has_character_flag = election_candidate } 
		}
		ai_chance = { 
			factor = 87
			
			#Voter Fatigue
			modifier = {
				factor = 0.8
				ruled_years = 4
			}
			modifier = {
				factor = 0.8
				ruled_years = 7
			}
			modifier = {
				factor = 0.8
				ruled_years = 10
			}
			
			modifier = {
				factor = 5
				trait = elephant
				FROM = { trait = elephant }
			}
			modifier = {
				factor = 5
				trait = tiger
				FROM = { trait = tiger }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				FROM = { stewardship = 12 }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				FROM = { stewardship = 16 }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				FROM = { stewardship = 20 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				FROM = { martial = 12 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				FROM = { martial = 16 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				FROM = { martial = 20 }
			}
			modifier = {
				factor = 2
				trait = greedy
				FROM = { has_character_flag = large_gift }
			}
			modifier = {
				factor = 1.5
				FROM = { has_character_flag = large_gift }
			}
			modifier = {
				factor = 0.8
				FROM = { has_character_flag = small_gift }
			}
			modifier = {
				factor = 0.66
				FROM = { 
					OR = {
						has_character_flag = no_gift 
						has_character_flag = threats
					}	
				}
			}
			modifier = {
				factor = 2.5
				trait = craven
				FROM = { has_character_flag = threats }
			}
			modifier = {
				factor = 2
				NOT = { trait = proud }
				NOT = { trait = brave }
				FROM = { 
					has_character_flag = threats
					OR = {
						martial = 20
						trait = authoritative
					}					
				}
			}
			modifier = {
				factor = 0.75
				FROM = { trait = infirm }
			}
			modifier = {
				factor = 0.75
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.8
				FROM = { NOT = { age = 19 } }
			}
			modifier = {
				factor = 0.4
				FROM = { NOT = { reverse_opinion = { who = ROOT value = -99 } } }
			}
			modifier = {
				factor = 0.5
				FROM = { NOT = { reverse_opinion = { who = ROOT value = -79 } } }
			}
			modifier = {
				factor = 0.66
				FROM = { NOT = { reverse_opinion = { who = ROOT value = -59 } } }
			}
			modifier = {
				factor = 0.66
				FROM = { NOT = { reverse_opinion = { who = ROOT value = -39 } } }
			}
			modifier = {
				factor = 0.66
				FROM = { NOT = { reverse_opinion = { who = ROOT value = -19 } } }
			}
			modifier = {
				factor = 1.5
				FROM = { reverse_opinion = { who = ROOT value = 20 } }
			}
			modifier = {
				factor = 1.5
				FROM = { reverse_opinion = { who = ROOT value = 40 } }
			}
			modifier = {
				factor = 1.5
				FROM = { reverse_opinion = { who = ROOT value = 60 } }
			}
			modifier = {
				factor = 2
				FROM = { reverse_opinion = { who = ROOT value = 80 } }
			}
			modifier = {
				factor = 2.5
				FROM = { reverse_opinion = { who = ROOT value = 100 } }
			}
			modifier = {
				factor = 0.6
				is_female = no
				FROM = { is_female = yes }
			}
			modifier = {
				factor = 3
				FROM = { dynasty = ROOT }
			}
			modifier = {
				factor = 2
				FROM = { is_close_relative = ROOT }
			}
			modifier = {
				factor = 2
				FROM = { is_liege_of = ROOT }
			}
			modifier = {
				factor = 10
				FROM = { trait = dragon_rider }
			}
			modifier = {
				factor = 100
				FROM = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_loyalty_bought } }
			}
			modifier = {
				factor = 0.3
				FROM = { 
					OR = {
						dynasty = 0
						NOT = { father_even_if_dead = { always = yes } }
					}	
				}
			}
		}
		FROM = { 
			tooltip = { } 
			hidden_tooltip = { change_variable = { which = "election_votes" value = 1 } }
			if = {
				limit = {
					ROOT = {
						NOT = { dynasty = 0 }
						OR = {
							is_ruler = yes
							dynasty = PREV
						}
					}
				}
				opinion = { who = ROOT modifier = opinion_election_champion }
			}		
			if = {
				limit = { has_character_flag = threats }
				custom_tooltip = { text = volantis.10threats }
			}	
			if = {
				limit = { has_character_flag = large_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -100 }
						wealth = 100
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -50 }
						wealth = 50
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -6 }
						wealth = 6
					}
				}
			}
			if = {
				limit = { has_character_flag = regular_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -50 }
						wealth = 50
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -6 }
						wealth = 6
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -3 }
						wealth = 3
					}
				}
			}
			if = {
				limit = { has_character_flag = small_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -6 }
						wealth = 6
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -3 }
						wealth = 3
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -1 }
						wealth = 1
					}
				}
			}
		}	
		clr_character_flag = gift_1
		clr_character_flag = gift_2
		clr_character_flag = gift_3
		clr_character_flag = gift_4
		clr_character_flag = gift_5
	}
	
	option = {
		name = "EVTOPTAvolantis.10" 
		trigger = { 
			OR = {
				ai = yes
				NOT = { has_character_flag = more }
			}
			event_target:candidate_1 = { is_alive = yes }
		}
		ai_chance = { 
			factor = 50
			modifier = {
				factor = 1.75
				event_target:candidate_1 = { has_minor_title = title_triarch }
			}
			modifier = {
				factor = 5
				trait = elephant
				event_target:candidate_1 = { trait = elephant }
			}
			modifier = {
				factor = 5
				trait = tiger
				event_target:candidate_1 = { trait = tiger }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_1 = { stewardship = 12 }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_1 = { stewardship = 16 }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_1 = { stewardship = 20 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_1 = { martial = 12 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_1 = { martial = 16 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_1 = { martial = 20 }
			}
			modifier = {
				factor = 2
				trait = greedy
				event_target:candidate_1 = { has_character_flag = large_gift }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_1 = { has_character_flag = large_gift }
			}
			modifier = {
				factor = 0.8
				event_target:candidate_1 = { has_character_flag = small_gift }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_1 = {
					OR = {
						has_character_flag = no_gift 
						has_character_flag = threats
					}
				}
			}
			modifier = {
				factor = 2.5
				trait = craven
				event_target:candidate_1 = { has_character_flag = threats }
			}
			modifier = {
				factor = 2
				NOT = { trait = proud }
				NOT = { trait = brave }
				event_target:candidate_1 = {
					has_character_flag = threats
					OR = {
						martial = 20
						trait = authoritative
					}
				}
			}
			modifier = {
				factor = 0.75
				event_target:candidate_1 = { trait = infirm }
			}
			modifier = {
				factor = 0.75
				event_target:candidate_1 = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.8
				event_target:candidate_1 = { NOT = { age = 19 } }
			}
			modifier = {
				factor = 0.4
				event_target:candidate_1 = { NOT = { reverse_opinion = { who = ROOT value = -99 } } }
			}
			modifier = {
				factor = 0.5
				event_target:candidate_1 = { NOT = { reverse_opinion = { who = ROOT value = -79 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_1 = { NOT = { reverse_opinion = { who = ROOT value = -59 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_1 = { NOT = { reverse_opinion = { who = ROOT value = -39 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_1 = { NOT = { reverse_opinion = { who = ROOT value = -19 } } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_1 = { reverse_opinion = { who = ROOT value = 20 } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_1 = { reverse_opinion = { who = ROOT value = 40 } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_1 = { reverse_opinion = { who = ROOT value = 60 } }
			}
			modifier = {
				factor = 2
				event_target:candidate_1 = { reverse_opinion = { who = ROOT value = 80 } }
			}
			modifier = {
				factor = 2.5
				event_target:candidate_1 = { reverse_opinion = { who = ROOT value = 100 } }
			}
			modifier = {
				factor = 0.6
				is_female = no
				event_target:candidate_1 = { is_female = yes }
			}
			modifier = {
				factor = 3
				NOT = { dynasty = 0 }
				event_target:candidate_1 = { dynasty = ROOT }
			}
			modifier = {
				factor = 2
				event_target:candidate_1 = { is_close_relative = ROOT }
			}
			modifier = {
				factor = 2
				event_target:candidate_1 = { is_liege_of = ROOT }
			}
			modifier = {
				factor = 10
				event_target:candidate_1 = { trait = dragon_rider }
			}
			modifier = {
				factor = 100
				event_target:candidate_1 = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_loyalty_bought } }
			}
			modifier = {
				factor = 0.4
				event_target:candidate_1 = { dynasty = 0 }
			}
		}
		event_target:candidate_1 = {
			hidden_tooltip = { change_variable = { which = "election_votes" value = 1 } }
			if = {
				limit = {
					ROOT = {
						NOT = { dynasty = 0 }
						OR = {
							is_ruler = yes
							dynasty = PREV
						}
					}
				}
				opinion = { who = ROOT modifier = opinion_election_champion }
			}
			if = {
				limit = { has_character_flag = threats }
				custom_tooltip = { text = volantis.10threats }
			}		
			if = {
				limit = { has_character_flag = large_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -100 }
						wealth = 100
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -50 }
						wealth = 50
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -6 }
						wealth = 6
					}
				}
			}
			if = {
				limit = { has_character_flag = regular_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -50 }
						wealth = 50
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -6 }
						wealth = 6
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -3 }
						wealth = 3
					}
				}
			}
			if = {
				limit = { has_character_flag = small_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -6 }
						wealth = 6
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -3 }
						wealth = 3
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -1 }
						wealth = 1
					}
				}
			}		
		}
		clr_character_flag = gift_1
		clr_character_flag = gift_2
		clr_character_flag = gift_3
		clr_character_flag = gift_4
		clr_character_flag = gift_5			
	}
	
	option = {
		name = "EVTOPTBvolantis.10" 
		trigger = { 
			OR = {
				ai = yes
				NOT = { has_character_flag = more }
			}
			event_target:candidate_2 = { is_alive = yes }
		}
		ai_chance = { 
			factor = 50
			modifier = {
				factor = 1.75
				event_target:candidate_2 = { has_minor_title = title_triarch }
			}
			modifier = {
				factor = 5
				trait = elephant
				event_target:candidate_2 = { trait = elephant }
			}
			modifier = {
				factor = 5
				trait = tiger
				event_target:candidate_2 = { trait = tiger }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_2 = { stewardship = 12 }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_2 = { stewardship = 16 }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_2 = { stewardship = 20 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_2 = { martial = 12 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_2 = { martial = 16 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_2 = { martial = 20 }
			}
			modifier = {
				factor = 2
				trait = greedy
				event_target:candidate_2 = { has_character_flag = large_gift }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_2 = { has_character_flag = large_gift }
			}
			modifier = {
				factor = 0.8
				event_target:candidate_2 = { has_character_flag = small_gift }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_2 = {
					OR = {
						has_character_flag = no_gift 
						has_character_flag = threats
					}
				}
			}
			modifier = {
				factor = 2.5
				trait = craven
				event_target:candidate_2 = { has_character_flag = threats }
			}
			modifier = {
				factor = 2
				NOT = { trait = proud }
				NOT = { trait = brave }
				event_target:candidate_2 = {
					has_character_flag = threats
					OR = {
						martial = 20
						trait = authoritative
					}
				}
			}
			modifier = {
				factor = 0.75
				event_target:candidate_2 = { trait = infirm }
			}
			modifier = {
				factor = 0.75
				event_target:candidate_2 = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.8
				event_target:candidate_2 = { NOT = { age = 19 } }
			}
			modifier = {
				factor = 0.4
				event_target:candidate_2 = { NOT = { reverse_opinion = { who = ROOT value = -99 } } }
			}
			modifier = {
				factor = 0.5
				event_target:candidate_2 = { NOT = { reverse_opinion = { who = ROOT value = -79 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_2 = { NOT = { reverse_opinion = { who = ROOT value = -59 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_2 = { NOT = { reverse_opinion = { who = ROOT value = -39 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_2 = { NOT = { reverse_opinion = { who = ROOT value = -19 } } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_2 = { reverse_opinion = { who = ROOT value = 20 } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_2 = { reverse_opinion = { who = ROOT value = 40 } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_2 = { reverse_opinion = { who = ROOT value = 60 } }
			}
			modifier = {
				factor = 2
				event_target:candidate_2 = { reverse_opinion = { who = ROOT value = 80 } }
			}
			modifier = {
				factor = 2.5
				event_target:candidate_2 = { reverse_opinion = { who = ROOT value = 100 } }
			}
			modifier = {
				factor = 0.6
				is_female = no
				event_target:candidate_2 = { is_female = yes }
			}
			modifier = {
				factor = 3
				NOT = { dynasty = 0 }
				event_target:candidate_2 = { dynasty = ROOT }
			}
			modifier = {
				factor = 2
				event_target:candidate_2 = { is_close_relative = ROOT }
			}
			modifier = {
				factor = 2
				event_target:candidate_2 = { is_liege_of = ROOT }
			}
			modifier = {
				factor = 10
				event_target:candidate_2 = { trait = dragon_rider }
			}
			modifier = {
				factor = 100
				event_target:candidate_2 = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_loyalty_bought } }
			}
			modifier = {
				factor = 0.4
				event_target:candidate_2 = { dynasty = 0 }
			}
		}
		event_target:candidate_2 = {
			hidden_tooltip = { change_variable = { which = "election_votes" value = 1 } }
			if = {
				limit = {
					ROOT = {
						NOT = { dynasty = 0 }
						OR = {
							is_ruler = yes
							dynasty = PREV
						}
					}
				}
				opinion = { who = ROOT modifier = opinion_election_champion }
			}
			if = {
				limit = { has_character_flag = threats }
				custom_tooltip = { text = volantis.10threats }
			}		
			if = {
				limit = { has_character_flag = large_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -100 }
						wealth = 100
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -50 }
						wealth = 50
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -6 }
						wealth = 6
					}
				}
			}
			if = {
				limit = { has_character_flag = regular_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -50 }
						wealth = 50
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -6 }
						wealth = 6
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -3 }
						wealth = 3
					}
				}
			}
			if = {
				limit = { has_character_flag = small_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -6 }
						wealth = 6
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -3 }
						wealth = 3
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -1 }
						wealth = 1
					}
				}
			}		
		}
		clr_character_flag = gift_1
		clr_character_flag = gift_2
		clr_character_flag = gift_3
		clr_character_flag = gift_4
		clr_character_flag = gift_5	
	}
	
	option = {
		name = "EVTOPTCvolantis.10" 
		trigger = { 
			OR = {
				ai = yes
				NOT = { has_character_flag = more }
			}
			
			event_target:candidate_3 = { is_alive = yes }
		}
		ai_chance = { 
			factor = 50
			modifier = {
				factor = 1.75
				event_target:candidate_3 = { has_minor_title = title_triarch }
			}
			modifier = {
				factor = 5
				trait = elephant
				event_target:candidate_3 = { trait = elephant }
			}
			modifier = {
				factor = 5
				trait = tiger
				event_target:candidate_3 = { trait = tiger }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_3 = { stewardship = 12 }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_3 = { stewardship = 16 }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_3 = { stewardship = 20 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_3 = { martial = 12 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_3 = { martial = 16 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_3 = { martial = 20 }
			}
			modifier = {
				factor = 2
				trait = greedy
				event_target:candidate_3 = { has_character_flag = large_gift }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_3 = { has_character_flag = large_gift }
			}
			modifier = {
				factor = 0.8
				event_target:candidate_3 = { has_character_flag = small_gift }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_3 = {
					OR = {
						has_character_flag = no_gift 
						has_character_flag = threats
					}
				}
			}
			modifier = {
				factor = 2.5
				trait = craven
				event_target:candidate_3 = { has_character_flag = threats }
			}
			modifier = {
				factor = 2
				NOT = { trait = proud }
				NOT = { trait = brave }
				event_target:candidate_3 = {
					has_character_flag = threats
					OR = {
						martial = 20
						trait = authoritative
					}
				}
			}
			modifier = {
				factor = 0.75
				event_target:candidate_3 = { trait = infirm }
			}
			modifier = {
				factor = 0.75
				event_target:candidate_3 = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.8
				event_target:candidate_3 = { NOT = { age = 19 } }
			}
			modifier = {
				factor = 0.4
				event_target:candidate_3 = { NOT = { reverse_opinion = { who = ROOT value = -99 } } }
			}
			modifier = {
				factor = 0.5
				event_target:candidate_3 = { NOT = { reverse_opinion = { who = ROOT value = -79 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_3 = { NOT = { reverse_opinion = { who = ROOT value = -59 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_3 = { NOT = { reverse_opinion = { who = ROOT value = -39 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_3 = { NOT = { reverse_opinion = { who = ROOT value = -19 } } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_3 = { reverse_opinion = { who = ROOT value = 20 } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_3 = { reverse_opinion = { who = ROOT value = 40 } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_3 = { reverse_opinion = { who = ROOT value = 60 } }
			}
			modifier = {
				factor = 2
				event_target:candidate_3 = { reverse_opinion = { who = ROOT value = 80 } }
			}
			modifier = {
				factor = 2.5
				event_target:candidate_3 = { reverse_opinion = { who = ROOT value = 100 } }
			}
			modifier = {
				factor = 0.6
				is_female = no
				event_target:candidate_3 = { is_female = yes }
			}
			modifier = {
				factor = 3
				NOT = { dynasty = 0 }
				event_target:candidate_3 = { dynasty = ROOT }
			}
			modifier = {
				factor = 2
				event_target:candidate_3 = { is_close_relative = ROOT }
			}
			modifier = {
				factor = 2
				event_target:candidate_3 = { is_liege_of = ROOT }
			}
			modifier = {
				factor = 10
				event_target:candidate_3 = { trait = dragon_rider }
			}
			modifier = {
				factor = 100
				event_target:candidate_3 = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_loyalty_bought } }
			}
			modifier = {
				factor = 0.4
				event_target:candidate_3 = { dynasty = 0 }
			}
		}
		event_target:candidate_3 = {
			hidden_tooltip = { change_variable = { which = "election_votes" value = 1 } }
			if = {
				limit = {
					ROOT = {
						NOT = { dynasty = 0 }
						OR = {
							is_ruler = yes
							dynasty = PREV
						}
					}
				}
				opinion = { who = ROOT modifier = opinion_election_champion }
			}
			if = {
				limit = { has_character_flag = threats }
				custom_tooltip = { text = volantis.10threats }
			}		
			if = {
				limit = { has_character_flag = large_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -100 }
						wealth = 100
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -50 }
						wealth = 50
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -6 }
						wealth = 6
					}
				}
			}
			if = {
				limit = { has_character_flag = regular_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -50 }
						wealth = 50
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -6 }
						wealth = 6
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -3 }
						wealth = 3
					}
				}
			}
			if = {
				limit = { has_character_flag = small_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -6 }
						wealth = 6
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -3 }
						wealth = 3
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -1 }
						wealth = 1
					}
				}
			}		
		}
		clr_character_flag = gift_1
		clr_character_flag = gift_2
		clr_character_flag = gift_3
		clr_character_flag = gift_4
		clr_character_flag = gift_5		
	}
	
	option = {
		name = "MORE" 
		trigger = { 
			ai = no 
			NOT = { has_character_flag = more }
			event_target:candidate_4 = { is_alive = yes }
		}	
		set_character_flag = more
		hidden_tooltip = { 
			repeat_event = { id = volantis.10 }
		}
	}
	
	option = {
		name = "EVTOPTDvolantis.10" 
		trigger = { 
			OR = {
				ai = yes
				has_character_flag = more
			}
			
			event_target:candidate_4 = { is_alive = yes }
		}
		ai_chance = { 
			factor = 50
			modifier = {
				factor = 1.75
				event_target:candidate_4 = { has_minor_title = title_triarch }
			}
			modifier = {
				factor = 5
				trait = elephant
				event_target:candidate_4 = { trait = elephant }
			}
			modifier = {
				factor = 5
				trait = tiger
				event_target:candidate_4 = { trait = tiger }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_4 = { stewardship = 12 }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_4 = { stewardship = 16 }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_4 = { stewardship = 20 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_4 = { martial = 12 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_4 = { martial = 16 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_4 = { martial = 20 }
			}
			modifier = {
				factor = 2
				trait = greedy
				event_target:candidate_4 = { has_character_flag = large_gift }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_4 = { has_character_flag = large_gift }
			}
			modifier = {
				factor = 0.8
				event_target:candidate_4 = { has_character_flag = small_gift }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_4 = {
					OR = {
						has_character_flag = no_gift 
						has_character_flag = threats
					}
				}
			}
			modifier = {
				factor = 2.5
				trait = craven
				event_target:candidate_4 = { has_character_flag = threats }
			}
			modifier = {
				factor = 2
				NOT = { trait = proud }
				NOT = { trait = brave }
				event_target:candidate_4 = {
					has_character_flag = threats
					OR = {
						martial = 20
						trait = authoritative
					}
				}
			}
			modifier = {
				factor = 0.75
				event_target:candidate_4 = { trait = infirm }
			}
			modifier = {
				factor = 0.75
				event_target:candidate_4 = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.8
				event_target:candidate_4 = { NOT = { age = 19 } }
			}
			modifier = {
				factor = 0.4
				event_target:candidate_4 = { NOT = { reverse_opinion = { who = ROOT value = -99 } } }
			}
			modifier = {
				factor = 0.5
				event_target:candidate_4 = { NOT = { reverse_opinion = { who = ROOT value = -79 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_4 = { NOT = { reverse_opinion = { who = ROOT value = -59 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_4 = { NOT = { reverse_opinion = { who = ROOT value = -39 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_4 = { NOT = { reverse_opinion = { who = ROOT value = -19 } } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_4 = { reverse_opinion = { who = ROOT value = 20 } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_4 = { reverse_opinion = { who = ROOT value = 40 } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_4 = { reverse_opinion = { who = ROOT value = 60 } }
			}
			modifier = {
				factor = 2
				event_target:candidate_4 = { reverse_opinion = { who = ROOT value = 80 } }
			}
			modifier = {
				factor = 2.5
				event_target:candidate_4 = { reverse_opinion = { who = ROOT value = 100 } }
			}
			modifier = {
				factor = 0.6
				is_female = no
				event_target:candidate_4 = { is_female = yes }
			}
			modifier = {
				factor = 3
				NOT = { dynasty = 0 }
				event_target:candidate_4 = { dynasty = ROOT }
			}
			modifier = {
				factor = 2
				event_target:candidate_4 = { is_close_relative = ROOT }
			}
			modifier = {
				factor = 2
				event_target:candidate_4 = { is_liege_of = ROOT }
			}
			modifier = {
				factor = 10
				event_target:candidate_4 = { trait = dragon_rider }
			}
			modifier = {
				factor = 100
				event_target:candidate_4 = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_loyalty_bought } }
			}
			modifier = {
				factor = 0.4
				event_target:candidate_4 = { dynasty = 0 }
			}
		}
		event_target:candidate_4 = {
			hidden_tooltip = { change_variable = { which = "election_votes" value = 1 } }
			if = {
				limit = {
					ROOT = {
						NOT = { dynasty = 0 }
						OR = {
							is_ruler = yes
							dynasty = PREV
						}
					}
				}
				opinion = { who = ROOT modifier = opinion_election_champion }
			}
			if = {
				limit = { has_character_flag = threats }
				custom_tooltip = { text = volantis.10threats }
			}		
			if = {
				limit = { has_character_flag = large_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -100 }
						wealth = 100
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -50 }
						wealth = 50
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -6 }
						wealth = 6
					}
				}
			}
			if = {
				limit = { has_character_flag = regular_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -50 }
						wealth = 50
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -6 }
						wealth = 6
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -3 }
						wealth = 3
					}
				}
			}
			if = {
				limit = { has_character_flag = small_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -6 }
						wealth = 6
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -3 }
						wealth = 3
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -1 }
						wealth = 1
					}
				}
			}		
		}
		clr_character_flag = gift_1
		clr_character_flag = gift_2
		clr_character_flag = gift_3
		clr_character_flag = gift_4
		clr_character_flag = gift_5	
		clr_character_flag = more		
	}
	
	option = {
		name = "EVTOPTEvolantis.10" 
		trigger = { 
			OR = {
				ai = yes
				has_character_flag = more
			}
			
			event_target:candidate_5 = { is_alive = yes }
		}
		ai_chance = { 
			factor = 50
			modifier = {
				factor = 1.75
				event_target:candidate_5 = { has_minor_title = title_triarch }
			}
			modifier = {
				factor = 5
				trait = elephant
				event_target:candidate_5 = { trait = elephant }
			}
			modifier = {
				factor = 5
				trait = tiger
				event_target:candidate_5 = { trait = tiger }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_5 = { stewardship = 12 }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_5 = { stewardship = 16 }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_5 = { stewardship = 20 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_5 = { martial = 12 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_5 = { martial = 16 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_5 = { martial = 20 }
			}
			modifier = {
				factor = 2
				trait = greedy
				event_target:candidate_5 = { has_character_flag = large_gift }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_5 = { has_character_flag = large_gift }
			}
			modifier = {
				factor = 0.8
				event_target:candidate_5 = { has_character_flag = small_gift }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_5 = {
					OR = {
						has_character_flag = no_gift 
						has_character_flag = threats
					}
				}
			}
			modifier = {
				factor = 2.5
				trait = craven
				event_target:candidate_5 = { has_character_flag = threats }
			}
			modifier = {
				factor = 2
				NOT = { trait = proud }
				NOT = { trait = brave }
				event_target:candidate_5 = {
					has_character_flag = threats
					OR = {
						martial = 20
						trait = authoritative
					}
				}
			}
			modifier = {
				factor = 0.75
				event_target:candidate_5 = { trait = infirm }
			}
			modifier = {
				factor = 0.75
				event_target:candidate_5 = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.8
				event_target:candidate_5 = { NOT = { age = 19 } }
			}
			modifier = {
				factor = 0.4
				event_target:candidate_5 = { NOT = { reverse_opinion = { who = ROOT value = -99 } } }
			}
			modifier = {
				factor = 0.5
				event_target:candidate_5 = { NOT = { reverse_opinion = { who = ROOT value = -79 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_5 = { NOT = { reverse_opinion = { who = ROOT value = -59 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_5 = { NOT = { reverse_opinion = { who = ROOT value = -39 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_5 = { NOT = { reverse_opinion = { who = ROOT value = -19 } } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_5 = { reverse_opinion = { who = ROOT value = 20 } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_5 = { reverse_opinion = { who = ROOT value = 40 } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_5 = { reverse_opinion = { who = ROOT value = 60 } }
			}
			modifier = {
				factor = 2
				event_target:candidate_5 = { reverse_opinion = { who = ROOT value = 80 } }
			}
			modifier = {
				factor = 2.5
				event_target:candidate_5 = { reverse_opinion = { who = ROOT value = 100 } }
			}
			modifier = {
				factor = 0.6
				is_female = no
				event_target:candidate_5 = { is_female = yes }
			}
			modifier = {
				factor = 3
				NOT = { dynasty = 0 }
				event_target:candidate_5 = { dynasty = ROOT }
			}
			modifier = {
				factor = 2
				event_target:candidate_5 = { is_close_relative = ROOT }
			}
			modifier = {
				factor = 2
				event_target:candidate_5 = { is_liege_of = ROOT }
			}
			modifier = {
				factor = 10
				event_target:candidate_5 = { trait = dragon_rider }
			}
			modifier = {
				factor = 100
				event_target:candidate_5 = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_loyalty_bought } }
			}
			modifier = {
				factor = 0.4
				event_target:candidate_5 = { dynasty = 0 }
			}
		}
		event_target:candidate_5 = {
			hidden_tooltip = { change_variable = { which = "election_votes" value = 1 } }
			if = {
				limit = {
					ROOT = {
						NOT = { dynasty = 0 }
						OR = {
							is_ruler = yes
							dynasty = PREV
						}
					}
				}
				opinion = { who = ROOT modifier = opinion_election_champion }
			}
			if = {
				limit = { has_character_flag = threats }
				custom_tooltip = { text = volantis.10threats }
			}		
			if = {
				limit = { has_character_flag = large_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -100 }
						wealth = 100
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -50 }
						wealth = 50
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -6 }
						wealth = 6
					}
				}
			}
			if = {
				limit = { has_character_flag = regular_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -50 }
						wealth = 50
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -6 }
						wealth = 6
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -3 }
						wealth = 3
					}
				}
			}
			if = {
				limit = { has_character_flag = small_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -6 }
						wealth = 6
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -3 }
						wealth = 3
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -1 }
						wealth = 1
					}
				}
			}		
		}
		clr_character_flag = gift_1
		clr_character_flag = gift_2
		clr_character_flag = gift_3
		clr_character_flag = gift_4
		clr_character_flag = gift_5		
		clr_character_flag = more		
	}
	
	option = {
		name = "EVTOPTFvolantis.10" 
		trigger = { 
			OR = {
				ai = yes
				has_character_flag = more
			}
			
			event_target:candidate_6 = { is_alive = yes }
		}
		ai_chance = { 
			factor = 50
			modifier = {
				factor = 1.75
				event_target:candidate_6 = { has_minor_title = title_triarch }
			}
			modifier = {
				factor = 5
				trait = elephant
				event_target:candidate_6 = { trait = elephant }
			}
			modifier = {
				factor = 5
				trait = tiger
				event_target:candidate_6 = { trait = tiger }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_6 = { stewardship = 12 }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_6 = { stewardship = 16 }
			}
			modifier = {
				factor = 1.5
				trait = elephant
				event_target:candidate_6 = { stewardship = 20 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_6 = { martial = 12 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_6 = { martial = 16 }
			}
			modifier = {
				factor = 1.5
				trait = tiger
				event_target:candidate_6 = { martial = 20 }
			}
			modifier = {
				factor = 2
				trait = greedy
				event_target:candidate_6 = { has_character_flag = large_gift }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_6 = { has_character_flag = large_gift }
			}
			modifier = {
				factor = 0.8
				event_target:candidate_6 = { has_character_flag = small_gift }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_6 = {
					OR = {
						has_character_flag = no_gift 
						has_character_flag = threats
					}
				}
			}
			modifier = {
				factor = 2.5
				trait = craven
				event_target:candidate_6 = { has_character_flag = threats }
			}
			modifier = {
				factor = 2
				NOT = { trait = proud }
				NOT = { trait = brave }
				event_target:candidate_6 = {
					has_character_flag = threats
					OR = {
						martial = 20
						trait = authoritative
					}
				}
			}
			modifier = {
				factor = 0.75
				event_target:candidate_6 = { trait = infirm }
			}
			modifier = {
				factor = 0.75
				event_target:candidate_6 = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.8
				event_target:candidate_6 = { NOT = { age = 19 } }
			}
			modifier = {
				factor = 0.4
				event_target:candidate_6 = { NOT = { reverse_opinion = { who = ROOT value = -99 } } }
			}
			modifier = {
				factor = 0.5
				event_target:candidate_6 = { NOT = { reverse_opinion = { who = ROOT value = -79 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_6 = { NOT = { reverse_opinion = { who = ROOT value = -59 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_6 = { NOT = { reverse_opinion = { who = ROOT value = -39 } } }
			}
			modifier = {
				factor = 0.66
				event_target:candidate_6 = { NOT = { reverse_opinion = { who = ROOT value = -19 } } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_6 = { reverse_opinion = { who = ROOT value = 20 } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_6 = { reverse_opinion = { who = ROOT value = 40 } }
			}
			modifier = {
				factor = 1.5
				event_target:candidate_6 = { reverse_opinion = { who = ROOT value = 60 } }
			}
			modifier = {
				factor = 2
				event_target:candidate_6 = { reverse_opinion = { who = ROOT value = 80 } }
			}
			modifier = {
				factor = 2.5
				event_target:candidate_6 = { reverse_opinion = { who = ROOT value = 100 } }
			}
			modifier = {
				factor = 0.6
				is_female = no
				event_target:candidate_6 = { is_female = yes }
			}
			modifier = {
				factor = 3
				NOT = { dynasty = 0 }
				event_target:candidate_6 = { dynasty = ROOT }
			}
			modifier = {
				factor = 2
				event_target:candidate_6 = { is_close_relative = ROOT }
			}
			modifier = {
				factor = 2
				event_target:candidate_6 = { is_liege_of = ROOT }
			}
			modifier = {
				factor = 10
				event_target:candidate_6 = { trait = dragon_rider }
			}
			modifier = {
				factor = 100
				event_target:candidate_6 = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_loyalty_bought } }
			}
			modifier = {
				factor = 0.4
				event_target:candidate_6 = { dynasty = 0 }
			}
		}
		event_target:candidate_6 = {
			hidden_tooltip = { change_variable = { which = "election_votes" value = 1 } }
			if = {
				limit = {
					ROOT = {
						NOT = { dynasty = 0 }
						OR = {
							is_ruler = yes
							dynasty = PREV
						}
					}
				}
				opinion = { who = ROOT modifier = opinion_election_champion }
			}
			if = {
				limit = { has_character_flag = threats }
				custom_tooltip = { text = volantis.10threats }
			}		
			if = {
				limit = { has_character_flag = large_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -100 }
						wealth = 100
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -50 }
						wealth = 50
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -6 }
						wealth = 6
					}
				}
			}
			if = {
				limit = { has_character_flag = regular_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -50 }
						wealth = 50
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -6 }
						wealth = 6
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -3 }
						wealth = 3
					}
				}
			}
			if = {
				limit = { has_character_flag = small_gift }
				ROOT = {
					if = { 
						limit = { has_character_flag = gift_1 }
						PREV = { wealth = -25 }
						wealth = 25
					}
					if = { 
						limit = { has_character_flag = gift_2 }
						PREV = { wealth = -12 }
						wealth = 12
					}
					if = { 
						limit = { has_character_flag = gift_3 }
						PREV = { wealth = -6 }
						wealth = 6
					}
					if = { 
						limit = { has_character_flag = gift_4 }
						PREV = { wealth = -3 }
						wealth = 3
					}
					if = { 
						limit = { has_character_flag = gift_5 }
						PREV = { wealth = -1 }
						wealth = 1
					}
				}
			}		
		}
		clr_character_flag = gift_1
		clr_character_flag = gift_2
		clr_character_flag = gift_3
		clr_character_flag = gift_4
		clr_character_flag = gift_5	
		clr_character_flag = more
	}
	
	option = {
		name = "BACK" 
		trigger = { 
			ai = no 
			has_character_flag = more
		}	
		clr_character_flag = more
		hidden_tooltip = { 
			repeat_event = { id = volantis.10 }
		}
	}
}	
# character_event = {
	# id = volantis.11

	# is_triggered_only = yes
	# hide_window = yes
	
	# immediate = { FROM = { character_event = { id = volantis.10 } } }
	
	# option = {
		# name = OK
	# }
# }
###Count the votes###
# character_event = {
	# id = volantis.12

	# option = {
		# name = OK
	# }
# }	
#Scope back to current holder
character_event = {
	id = volantis.13

	is_triggered_only = yes
	hide_window = yes
	
	immediate = { 
		#Find winner
		#If still candidate check against self
		if = {
			limit = { 
				has_character_flag = election_candidate_contesting_1st
				NOT = {
					any_realm_character = {
						has_character_flag = election_candidate_contesting_1st
						check_variable = { which = "election_votes" which = ROOT }	
						NOT = { is_variable_equal = { which = "election_votes" which = ROOT } } #check >, not >=							
						NOT = { character = ROOT }
					}
				}
			}
			set_character_flag = election_1st 
			clr_character_flag = election_candidate_contesting_1st
			clr_character_flag = election_candidate_contesting_2nd
			clr_character_flag = election_candidate_contesting_3rd
			save_event_target_as = election_winner
		}
		#If not check against another candidate
		if = {
			limit = { NOT = { has_character_flag = election_1st } }
			random_realm_character = {
				limit = { 
					has_character_flag = election_candidate_contesting_1st 
					NOT = {
						ROOT = {
							any_realm_character = {
								has_character_flag = election_candidate_contesting_1st
								check_variable = { which = "election_votes" which = PREVPREV }	
								NOT = { is_variable_equal = { which = "election_votes" which = PREVPREV } }										
								NOT = { character = PREVPREV }
							}
						}	
					}
				}
				set_character_flag = election_1st 
				clr_character_flag = election_candidate_contesting_1st
				clr_character_flag = election_candidate_contesting_2nd
				clr_character_flag = election_candidate_contesting_3rd	
				save_event_target_as = election_winner
			}
		}
		event_target:election_winner = {
			#If winner won 50% of the vote, give boost to fellow party members
			set_variable = { which = number_of_voters which = ROOT }
			set_variable = { which = election_vote_share which = election_votes }
			divide_variable = { which = election_vote_share which = number_of_voters } #election votes/number_of_voters
			if = {
				limit = { check_variable = { which = election_vote_share value = 0.5 } }
				ROOT = {
					any_realm_character = {
						limit = {
							has_character_flag = election_candidate_contesting_1st								
							NOT = { character = PREVPREV }
							OR = {
								AND = {
									trait = tiger
									PREVPREV = { trait = tiger }
								}
								AND = {
									trait = elephant
									PREVPREV = { trait = elephant }
								}
							}
						}	
						set_character_flag = test_vote_boost
						#Add 20% of winner's vote
						if = { 
							limit = { PREVPREV = { check_variable = { which = election_votes value = 140 } } }
							change_variable = { which = election_votes value = 4 }
						}
						if = { 
							limit = { PREVPREV = { check_variable = { which = election_votes value = 120 } } }
							change_variable = { which = election_votes value = 4 }
						}
						if = { 
							limit = { PREVPREV = { check_variable = { which = election_votes value = 100 } } }
							change_variable = { which = election_votes value = 2 }
						}
						if = {
							limit = { PREVPREV = { check_variable = { which = election_votes value = 90 } } }
							change_variable = { which = election_votes value = 2 }
						}
						if = {
							limit = { PREVPREV = { check_variable = { which = election_votes value = 80 } } }
							change_variable = { which = election_votes value = 2 }
						}
						if = {
							limit = { PREVPREV = { check_variable = { which = election_votes value = 70 } } }
							change_variable = { which = election_votes value = 2 }
						}
						if = {
							limit = { PREVPREV = { check_variable = { which = election_votes value = 60 } } }
							change_variable = { which = election_votes value = 2 }
						}
						if = {
							limit = { PREVPREV = { check_variable = { which = election_votes value = 50 } } }
							change_variable = { which = election_votes value = 2 }
						}
						if = {
							limit = { PREVPREV = { check_variable = { which = election_votes value = 40 } } }
							change_variable = { which = election_votes value = 1 }
						}
						if = {
							limit = { PREVPREV = { check_variable = { which = election_votes value = 35 } } }
							change_variable = { which = election_votes value = 1 }
						}
						if = {
							limit = { PREVPREV = { check_variable = { which = election_votes value = 30 } } }
							change_variable = { which = election_votes value = 1 }
						}
						if = {
							limit = { PREVPREV = { check_variable = { which = election_votes value = 25 } } }
							change_variable = { which = election_votes value = 1 }
						}
						if = {
							limit = { PREVPREV = { check_variable = { which = election_votes value = 20 } } }
							change_variable = { which = election_votes value = 1 }
						}
						if = {
							limit = { PREVPREV = { check_variable = { which = election_votes value = 15 } } }
							change_variable = { which = election_votes value = 1 }
						}
						if = {
							limit = { PREVPREV = { check_variable = { which = election_votes value = 10 } } }
							change_variable = { which = election_votes value = 1 }
						}
						if = {
							limit = { PREVPREV = { check_variable = { which = election_votes value = 5 } } }
							change_variable = { which = election_votes value = 1 }
						}
					}
				}	
			}
			set_variable = { which = election_vote_share value = 0 }
			set_variable = { which = number_of_voters which = 0 }
		}
		#Find 2nd
		if = {
			limit = { #If two Triarchs for Life only 1 winner
				NAND = { 
					primary_title = { has_law = republic_triarch_for_life } 
					any_realm_character = {
						has_character_flag = title_triarch_for_life
						has_character_flag = triarch
						dynasty = ROOT
					}
				} 
			} 
			#If still candidate check against self
			if = {
				limit = { 
					has_character_flag = election_candidate_contesting_2nd
					NOT = {
						any_realm_character = {
							has_character_flag = election_candidate_contesting_2nd
							check_variable = { which = "election_votes" which = ROOT }	
							NOT = { is_variable_equal = { which = "election_votes" which = ROOT } }								
							NOT = { character = ROOT }
						}
					}
				}
				set_character_flag = election_2nd
				clr_character_flag = election_candidate_contesting_1st
				clr_character_flag = election_candidate_contesting_2nd
				clr_character_flag = election_candidate_contesting_3rd
			}
			#If not check against another candidate
			if = {
				limit = { NOT = { has_character_flag = election_2nd } }
				random_realm_character = {
					limit = { 
						has_character_flag = election_candidate_contesting_2nd
						NOT = {
							ROOT = {
								any_realm_character = {
									has_character_flag = election_candidate_contesting_2nd
									check_variable = { which = "election_votes" which = PREVPREV }	
									NOT = { is_variable_equal = { which = "election_votes" which = PREVPREV } }										
									NOT = { character = PREVPREV }
								}
							}	
						}
					}
					set_character_flag = election_2nd
					clr_character_flag = election_candidate_contesting_1st
					clr_character_flag = election_candidate_contesting_2nd
					clr_character_flag = election_candidate_contesting_3rd	
				}
			}
		}	
		
		#Find 3rd
		#If still candidate check against self
		if = {
			limit = { NOT = { primary_title = { has_law = republic_triarch_for_life } } } #If Triarch for Life only 2 winners
			if = {
				limit = { 				
					has_character_flag = election_candidate_contesting_3rd
					NOT = {
						any_realm_character = {
							has_character_flag = election_candidate_contesting_3rd
							check_variable = { which = "election_votes" which = ROOT }	
							NOT = { is_variable_equal = { which = "election_votes" which = ROOT } }								
							NOT = { character = ROOT }
						}
					}
				}
				set_character_flag = election_3rd
				clr_character_flag = election_candidate_contesting_1st
				clr_character_flag = election_candidate_contesting_2nd
				clr_character_flag = election_candidate_contesting_3rd
			}
			#If not check against another candidate
			if = {
				limit = { NOT = { has_character_flag = election_3rd } }
				random_realm_character = {
					limit = { 
						has_character_flag = election_candidate_contesting_3rd
						NOT = {
							ROOT = {
								any_realm_character = {
									has_character_flag = election_candidate_contesting_3rd
									check_variable = { which = "election_votes" which = PREVPREV }	
									NOT = { is_variable_equal = { which = "election_votes" which = PREVPREV } }										
									NOT = { character = PREVPREV }
								}
							}	
						}
					}
					set_character_flag = election_3rd
					clr_character_flag = election_candidate_contesting_1st
					clr_character_flag = election_candidate_contesting_2nd
					clr_character_flag = election_candidate_contesting_3rd	
				}
			}	
		}	
		set_variable = { which = number_of_voters which = 0 }
		character_event = { id = volantis.141 } #Finished		
	}
	
	option = {
		name = OK
	}
}	
# #Check if candidate has won
# character_event = {
	# id = volantis.14

	# is_triggered_only = yes
	# hide_window = yes
	
	# immediate = { 
		# FROM = {
			# if = { #Checking for 1st place
				# limit = { has_character_flag = election_counting_1st } 
				# if = {
					# limit = { #Check if any candidate has more votes
						# OR = {
							# character = ROOT
							# NOT = { has_character_flag = election_candidate_contesting_1st }
						# }	
						# NOT = { 
							# any_realm_character = {
								# has_character_flag = election_candidate_contesting_1st
								# check_variable = { which = "election_votes" which = ROOT }								
								# NOT = { character = ROOT }
							# }
						# }
					# }	
					# ROOT = { #Mark ROOT as 1st place
						# set_character_flag = election_1st 
						# clr_character_flag = election_candidate_contesting_1st
						# clr_character_flag = election_candidate_contesting_2nd
						# clr_character_flag = election_candidate_contesting_3rd
					# }
					# #Now check for 2nd place
					# clr_character_flag = election_counting_1st
					# set_character_flag = election_counting_2nd
					# set_character_flag = stop_check
					# character_event = { id = volantis.13 }
				# }
				# if = { #If another candidate has more votes remove from check and check another candidate
					# limit = { ROOT = { NOT = { has_character_flag = election_1st } } }
					# ROOT = { clr_character_flag = election_candidate_contesting_1st }
					# character_event = { id = volantis.13 }
				# }
			# }
			# if = { #Checking for 2nd place
				# limit = { has_character_flag = election_counting_2nd NOT = { has_character_flag = stop_check } }
				# if = {
					# limit = {  #Check if any candidate has more votes
						# OR = {
							# character = ROOT
							# NOT = { has_character_flag = election_candidate_contesting_2nd }
						# }	
						# NOT = {
							# any_realm_character = {
								# has_character_flag = election_candidate_contesting_2nd
								# check_variable = { which = "election_votes" which = ROOT }	
								# NOT = { character = ROOT }
							# }
						# }
					# }	
					# ROOT = { #Mark ROOT as 2nd place
						# set_character_flag = election_2nd 
						# clr_character_flag = election_candidate_contesting_1st
						# clr_character_flag = election_candidate_contesting_2nd
						# clr_character_flag = election_candidate_contesting_3rd
					# }
					# if = { #Now check for 3rd place
						# limit = { primary_title = { NOT = { has_law = republic_triarch_for_life } } }
						# clr_character_flag = election_counting_2nd
						# set_character_flag = election_counting_3rd
						# set_character_flag = stop_check
						# character_event = { id = volantis.13 }
					# }
					# if = { #If Triarch for Life only 2 winners
						# limit = { primary_title = { has_law = republic_triarch_for_life } } 
						# clr_character_flag = election_counting_2nd
						# set_character_flag = stop_check
						# character_event = { id = volantis.141 } #Finished
					# }
				# }
				# if = { #If another candidate has more votes remove from check and check another candidate
					# limit = { ROOT = { NOT = { has_character_flag = election_2nd } } }
					# ROOT = { clr_character_flag = election_candidate_contesting_2nd }
					# character_event = { id = volantis.13 }
				# }
			# }
			# if = { #Checking for 3rd place
				# limit = { has_character_flag = election_counting_3rd NOT = { has_character_flag = stop_check } }
				# if = { 
					# limit = {  #Check if any candidate has more votes
						# OR = {
							# character = ROOT
							# NOT = { has_character_flag = election_candidate_contesting_3rd }
						# }	
						# NOT = {
							# any_realm_character = {
								# has_character_flag = election_candidate_contesting_3rd
								# check_variable = { which = "election_votes" which = ROOT }	
								# NOT = { character = ROOT }
							# }
						# }
					# }	
					# ROOT = { #Mark ROOT as 3rd place
						# set_character_flag = election_3rd 
						# clr_character_flag = election_candidate_contesting_1st
						# clr_character_flag = election_candidate_contesting_2nd
						# clr_character_flag = election_candidate_contesting_3rd
					# }
					# clr_character_flag = election_counting_3rd
					# character_event = { id = volantis.141 } #Finished
				# }
				# if = {  #If another candidate has more votes remove from check and check another candidate
					# limit = { ROOT = { NOT = { has_character_flag = election_3rd } } }
					# ROOT = { clr_character_flag = election_candidate_contesting_3rd }
					# character_event = { id = volantis.13 }
				# }
			# }
			# clr_character_flag = stop_check			
		# }	
	# }
	
	# option = {
		# name = OK
	# }
# }	
#Counting finished, send messages
character_event = {
	id = volantis.141

	is_triggered_only = yes
	hide_window = yes
	
	immediate = { 	
		#Clear exisiting Triarchs
		clr_character_flag = triarch 
		clr_character_flag = main_triarch
		any_realm_character = { 
			limit = { 
				OR = {
					has_minor_title = title_triarch 
					has_character_flag = triarch 
				}	
				NAND = { 
					has_character_flag = title_triarch_for_life 
					dynasty = ROOT
				}
			}
			clr_character_flag = triarch 
			clr_character_flag = main_triarch
			remove_title = title_triarch 
			clr_character_flag = title_triarch_for_life
			remove_title = title_triarch_for_life
			diplomatic_immunity = no
		}
		
		###Finding Main Triarch###
		#Main Triarch must always be a patrician
		#If no patricians won select one at random to be main Triarch
		if = { 
			limit = {
				NOT = { primary_title = { has_law = republic_triarch_for_life } }
				NOT = { has_character_flag = election_1st }
				NOT = { has_character_flag = election_2nd }
				NOT = { has_character_flag = election_3rd }
				NOT = {
					any_vassal = {
						is_patrician = yes
						OR = {
							has_character_flag = election_1st
							has_character_flag = election_2nd
							has_character_flag = election_3rd
						}
					}
				}
			}
			random_realm_character = { #Remove 3rd place candidate
				limit = { has_character_flag = election_candidate has_character_flag = election_3rd }
				clr_character_flag = election_3rd
			}
			if = { #If current holder was a candidate make them main triarch
				limit = { has_character_flag = election_candidate }
				set_character_flag = election_3rd
			}
			if = { #Else pick a random patrician candidate
				limit = { NOT = { has_character_flag = election_candidate } }
				random_vassal = {
					limit = { 
						has_character_flag = election_candidate
						is_patrician = yes
					}
					set_character_flag = election_3rd
				}
				if = { #If still no patrician found, current holder stays main Triarch
					limit = { NOT = { any_vassal = { has_character_flag = election_candidate is_patrician = yes } } }
					set_character_flag = election_candidate
					set_character_flag = election_3rd
				}
			}	
		}
		#Select Main triarch
		if = { #If current head triarch is reelected  (or is Triarch for Life) they always remain main triarch
			limit = { 
				OR = {
					primary_title = { has_law = republic_triarch_for_life }
					AND = {
						has_character_flag = election_candidate
						OR = {			
							has_character_flag = election_1st
							has_character_flag = election_2nd
							has_character_flag = election_3rd
						}	
					}
				}				
			}
			set_character_flag = main_triarch
			set_character_flag = main_triarch_found
		}
		#If not reelected, the patrician with the most votes becomes new main triarch
		if = {
			limit = { NOT = { has_character_flag = main_triarch_found } }
			random_vassal = {
				limit = { 
					has_character_flag = election_1st
					is_patrician = yes	
					has_character_flag = election_candidate				
				}
				set_character_flag = main_triarch
				ROOT = { set_character_flag = main_triarch_found }
			}
		}	
		if = {
			limit = { NOT = { has_character_flag = main_triarch_found } }
			random_vassal = {
				limit = { 
					has_character_flag = election_2nd
					is_patrician = yes	
					has_character_flag = election_candidate				
				}
				set_character_flag = main_triarch
				ROOT = { set_character_flag = main_triarch_found }
			}
		}
		if = {
			limit = { NOT = { has_character_flag = main_triarch_found } }
			random_vassal = {
				limit = { 
					has_character_flag = election_3rd
					is_patrician = yes	
					has_character_flag = election_candidate				
				}
				set_character_flag = main_triarch
			}
		}	
		clr_character_flag = main_triarch_found
		
		###Inform winning Triarchs###
		if = {
			limit = {
				has_character_flag = election_candidate
				OR = {
					has_character_flag = election_1st
					has_character_flag = election_2nd
					has_character_flag = election_3rd
				}
			}
			character_event = { id = volantis.19 }
		}
		any_realm_character = {
			limit = {
				has_character_flag = election_candidate
				OR = {
					has_character_flag = election_1st
					has_character_flag = election_2nd
					has_character_flag = election_3rd
				}
			}
			character_event = { id = volantis.19 }
		}
		###Inform losers###
		if = {
			limit = {
				has_character_flag = election_candidate
				NOT = {
					OR = {
						has_character_flag = election_1st
						has_character_flag = election_2nd
						has_character_flag = election_3rd
					}
				}	
			}
			character_event = { id = volantis.15 }
		}
		any_realm_character = {
			limit = {
				has_character_flag = election_candidate
				NOT = {
					OR = {
						has_character_flag = election_1st
						has_character_flag = election_2nd
						has_character_flag = election_3rd
					}
				}	
			}
			character_event = { id = volantis.15 }
		}
		###Hand over republic if main triarch has changed###
		if = {
			limit = { NOT = { has_character_flag = main_triarch } }
			random_vassal = {
				limit = { 
					is_patrician = yes
					has_character_flag = main_triarch
				}	
				#prestige = 80000
				character_event = { id = volantis.124 }
				#liege = { hold_election = yes }
				#prestige = -80000
			}			
		}
	}
	
	option = {
		name = OK
	}
}	
###Inform realm candidate has lost
character_event = {
	id = volantis.15

	is_triggered_only = yes
	hide_window = yes
	
	immediate = { 
		#set_character_flag = volantis.16
		clr_character_flag = election_candidate
		clr_character_flag = candidate_number_found
		clr_character_flag = election_1st
		clr_character_flag = election_2nd
		clr_character_flag = election_3rd
		clr_character_flag = election_candidate_contesting_1st
		clr_character_flag = election_candidate_contesting_2nd
		clr_character_flag = election_candidate_contesting_3rd
		clr_character_flag = interim_senior_triarch
		
		if = {
			limit = { has_character_flag = large_gift }
			clr_character_flag = large_gift
			character_event = { id = volantis.16 } 
		}
		if = {
			limit = { has_character_flag = regular_gift }
			clr_character_flag = regular_gift
			character_event = { id = volantis.161 } 
		}
		if = {
			limit = { has_character_flag = small_gift }
			clr_character_flag = small_gift
			character_event = { id = volantis.162 } 
		}
		if = {
			limit = { has_character_flag = no_gift }
			clr_character_flag = no_gift
			character_event = { id = volantis.163 } 
		}
		if = {
			limit = { has_character_flag = threats }
			clr_character_flag = threats
			character_event = { id = volantis.165 } 
		}
	}
	
	option = {
		name = OK
	}
}	
#Inform candidate- Large Gift
character_event = {
	id = volantis.16
	desc = "EVTDESCvolantis.16" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	hide_from = yes
	
	immediate = {	
		#clr_character_flag = volantis.16
		hidden_tooltip = {
			top_liege = {
				character_event = { id = volantis.17 }
				any_realm_lord = {
					limit = { 
						ai = no
						NOT = { character = ROOT }	
						NOT = { has_character_flag = ignore_election }
					}
					character_event = { id = volantis.17 }				
				}
			}
			if = {
				limit = { liege = { character = ROOT } }
				any_realm_lord = {
					limit = { 
						ai = no
						NOT = { character = ROOT }	
						NOT = { has_character_flag = ignore_election }
					}
					character_event = { id = volantis.17 }				
				}
			}		
		}	
	}
	
	option = {
		name = "EVTOPTAvolantis.16" 
		prestige = -30		
		tooltip = {
			custom_tooltip = { text = TOOLTIPvolantisvotecountA }
			if = {
				limit = { NOT = { check_variable = { which = "election_votes" which = 40 } } }
				top_liege = {
					any_realm_character = {
						limit = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_election_champion } }
						custom_tooltip = { text = TOOLTIPkingsmootchampionA }			
					}
				}
			}	
			if = {
				limit = { check_variable = { which = "election_votes" which = 40 } }
				top_liege = {
					any_realm_lord = {
						limit = { 
							NOT = { tier = BARON } 
							reverse_has_opinion_modifier = { who = ROOT modifier = opinion_election_champion }
						}
						custom_tooltip = { text = TOOLTIPkingsmootchampionA }			
					}
				}
			}
		}	
	}
}	
#Inform realm- Large Gift
character_event = {
	id = volantis.17
	desc = "EVTDESCvolantis.17" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	
	trigger = { 
		NOT = { character = FROM } 
		OR = {
			is_merchant_republic = yes
			any_liege = { is_merchant_republic = yes }
		}
	}
	
	option = {
		name = OK
		tooltip = {
			custom_tooltip = { text = TOOLTIPvolantisvotecountB }
			if = {
				limit = { NOT = { check_variable = { which = "election_votes" which = 40 } } }
				top_liege = {
					any_realm_character = {
						limit = { reverse_has_opinion_modifier = { who = FROM modifier = opinion_election_champion } }
						custom_tooltip = { text = TOOLTIPkingsmootchampionB }			
					}
				}
			}	
			if = {
				limit = { check_variable = { which = "election_votes" which = 40 } }
				top_liege = {
					any_realm_lord = {
						limit = { 	
							reverse_has_opinion_modifier = { who = FROM modifier = opinion_election_champion }
							NOT = { tier = BARON } 
						}
						custom_tooltip = { text = TOOLTIPkingsmootchampionB }			
					}
				}
			}
		}
	}
}	
#Inform candidate- Regular Gift
character_event = {
	id = volantis.161
	desc = "EVTDESCvolantis.161" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	hide_from = yes
	
	immediate = {	
		#clr_character_flag = volantis.16
		hidden_tooltip = {
			top_liege = {
				character_event = { id = volantis.171 }
				any_realm_lord = {
					limit = { 
						ai = no
						NOT = { character = ROOT }	
						NOT = { has_character_flag = ignore_election }						
					}
					character_event = { id = volantis.171 }				
				}
			}
			if = {
				limit = { liege = { character = ROOT } }
				any_realm_lord = {
					limit = { 
						ai = no
						NOT = { character = ROOT }	
						NOT = { has_character_flag = ignore_election }
					}
					character_event = { id = volantis.171 }				
				}
			}
		}	
	}
	
	option = {
		name = "EVTOPTAvolantis.161" 
		prestige = -30
		tooltip = {
			custom_tooltip = { text = TOOLTIPvolantisvotecountA }
			if = {
				limit = { NOT = { check_variable = { which = "election_votes" which = 40 } } }
				top_liege = {
					any_realm_character = {
						limit = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_election_champion } }
						custom_tooltip = { text = TOOLTIPkingsmootchampionA }			
					}
				}
			}	
			if = {
				limit = { check_variable = { which = "election_votes" which = 40 } }
				top_liege = {
					any_realm_lord = {
						limit = { 
							NOT = { tier = BARON } 
							reverse_has_opinion_modifier = { who = ROOT modifier = opinion_election_champion }
						}
						custom_tooltip = { text = TOOLTIPkingsmootchampionA }			
					}
				}
			}
		}
	}
}	
#Inform realm- Regular Gift
character_event = {
	id = volantis.171
	desc = "EVTDESCvolantis.171" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	
	trigger = { 
		NOT = { character = FROM } 
		OR = {
			is_merchant_republic = yes
			any_liege = { is_merchant_republic = yes }
		}
	}
	
	option = {
		name = OK 
		tooltip = {
			custom_tooltip = { text = TOOLTIPvolantisvotecountB }
			if = {
				limit = { NOT = { check_variable = { which = "election_votes" which = 40 } } }
				top_liege = {
					any_realm_character = {
						limit = { reverse_has_opinion_modifier = { who = FROM modifier = opinion_election_champion } }
						custom_tooltip = { text = TOOLTIPkingsmootchampionB }			
					}
				}
			}	
			if = {
				limit = { check_variable = { which = "election_votes" which = 40 } }
				top_liege = {
					any_realm_lord = {
						limit = { 	
							reverse_has_opinion_modifier = { who = FROM modifier = opinion_election_champion }
							NOT = { tier = BARON } 
						}
						custom_tooltip = { text = TOOLTIPkingsmootchampionB }			
					}
				}
			}
		}
	}
}	
#Inform candidate- Small Gift
character_event = {
	id = volantis.162
	desc = "EVTDESCvolantis.162" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	hide_from = yes
	
	immediate = {	
		#clr_character_flag = volantis.16
		hidden_tooltip = {
			top_liege = {
				character_event = { id = volantis.172 }
				any_realm_lord = {
					limit = { 
						ai = no
						NOT = { character = ROOT }	
						NOT = { has_character_flag = ignore_election }							
					}
					character_event = { id = volantis.172 }				
				}
			}
			if = {
				limit = { liege = { character = ROOT } }
				any_realm_lord = {
					limit = { 
						ai = no
						NOT = { character = ROOT }	
						NOT = { has_character_flag = ignore_election }
					}
					character_event = { id = volantis.172 }				
				}
			}
		}	
	}
	
	option = {
		name = "EVTOPTAvolantis.162" 
		prestige = -30
		custom_tooltip = { text = TOOLTIPvolantisvotecountA }
		tooltip = {
			custom_tooltip = { text = TOOLTIPvolantisvotecountA }
			if = {
				limit = { NOT = { check_variable = { which = "election_votes" which = 40 } } }
				top_liege = {
					any_realm_character = {
						limit = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_election_champion } }
						custom_tooltip = { text = TOOLTIPkingsmootchampionA }			
					}
				}
			}	
			if = {
				limit = { check_variable = { which = "election_votes" which = 40 } }
				top_liege = {
					any_realm_lord = {
						limit = { 
							NOT = { tier = BARON } 
							reverse_has_opinion_modifier = { who = ROOT modifier = opinion_election_champion }
						}
						custom_tooltip = { text = TOOLTIPkingsmootchampionA }			
					}
				}
			}
		}	
	}
}	
#Inform realm- Small Gift
character_event = {
	id = volantis.172
	desc = "EVTDESCvolantis.172" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	
	trigger = { 
		NOT = { character = FROM } 
		OR = {
			is_merchant_republic = yes
			any_liege = { is_merchant_republic = yes }
		}
	}
	
	option = {
		name = OK 
		tooltip = {
			custom_tooltip = { text = TOOLTIPvolantisvotecountB }
			if = {
				limit = { NOT = { check_variable = { which = "election_votes" which = 40 } } }
				top_liege = {
					any_realm_character = {
						limit = { reverse_has_opinion_modifier = { who = FROM modifier = opinion_election_champion } }
						custom_tooltip = { text = TOOLTIPkingsmootchampionB }			
					}
				}
			}	
			if = {
				limit = { check_variable = { which = "election_votes" which = 40 } }
				top_liege = {
					any_realm_lord = {
						limit = { 	
							reverse_has_opinion_modifier = { who = FROM modifier = opinion_election_champion }
							NOT = { tier = BARON } 
						}
						custom_tooltip = { text = TOOLTIPkingsmootchampionB }			
					}
				}
			}
		}
	}
}	
#Inform candidate- No Gift
character_event = {
	id = volantis.163
	desc = "EVTDESCvolantis.163" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	hide_from = yes
	
	immediate = {	
		#clr_character_flag = volantis.16
		hidden_tooltip = {
			top_liege = {
				character_event = { id = volantis.173 }
				any_realm_lord = {
					limit = { 
						ai = no
						NOT = { character = ROOT }	
						NOT = { has_character_flag = ignore_election }							
					}
					character_event = { id = volantis.173 }				
				}
			}
			if = {
				limit = { liege = { character = ROOT } }
				any_realm_lord = {
					limit = { 
						ai = no
						NOT = { character = ROOT }	
						NOT = { has_character_flag = ignore_election }
					}
					character_event = { id = volantis.173 }				
				}
			}
		}	
	}
	
	option = {
		name = "EVTOPTAvolantis.163" 
		prestige = -30
		tooltip = {
			custom_tooltip = { text = TOOLTIPvolantisvotecountA }
			if = {
				limit = { NOT = { check_variable = { which = "election_votes" which = 40 } } }
				top_liege = {
					any_realm_character = {
						limit = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_election_champion } }
						custom_tooltip = { text = TOOLTIPkingsmootchampionA }			
					}
				}
			}	
			if = {
				limit = { check_variable = { which = "election_votes" which = 40 } }
				top_liege = {
					any_realm_lord = {
						limit = { 
							NOT = { tier = BARON } 
							reverse_has_opinion_modifier = { who = ROOT modifier = opinion_election_champion }
						}
						custom_tooltip = { text = TOOLTIPkingsmootchampionA }			
					}
				}
			}
		}	
	}
}	
#Inform realm- No Gift
character_event = {
	id = volantis.173
	desc = "EVTDESCvolantis.173" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	
	trigger = { 
		NOT = { character = FROM } 
		OR = {
			is_merchant_republic = yes
			any_liege = { is_merchant_republic = yes }
		}
	}
	
	option = {
		name = OK 
		tooltip = {
			custom_tooltip = { text = TOOLTIPvolantisvotecountB }
			if = {
				limit = { NOT = { check_variable = { which = "election_votes" which = 40 } } }
				top_liege = {
					any_realm_character = {
						limit = { reverse_has_opinion_modifier = { who = FROM modifier = opinion_election_champion } }
						custom_tooltip = { text = TOOLTIPkingsmootchampionB }			
					}
				}
			}	
			if = {
				limit = { check_variable = { which = "election_votes" which = 40 } }
				top_liege = {
					any_realm_lord = {
						limit = { 	
							reverse_has_opinion_modifier = { who = FROM modifier = opinion_election_champion }
							NOT = { tier = BARON } 
						}
						custom_tooltip = { text = TOOLTIPkingsmootchampionB }			
					}
				}
			}
		}
	}
}	
#Inform candidate- Threats
character_event = {
	id = volantis.165
	desc = "EVTDESCvolantis.165" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	hide_from = yes
	
	immediate = {	
		#clr_character_flag = volantis.16
		hidden_tooltip = {
			top_liege = {
				character_event = { id = volantis.175 }
				any_realm_lord = {
					limit = { 
						ai = no
						NOT = { character = ROOT }	
						NOT = { has_character_flag = ignore_election }							
					}
					character_event = { id = volantis.175 }				
				}
			}
			if = {
				limit = { liege = { character = ROOT } }
				any_realm_lord = {
					limit = { 
						ai = no
						NOT = { character = ROOT }	
						NOT = { has_character_flag = ignore_election }
					}
					character_event = { id = volantis.175 }				
				}
			}
		}	
	}
	
	option = {
		name = "EVTOPTAvolantis.165" 
		prestige = -30
		tooltip = {
			custom_tooltip = { text = TOOLTIPvolantisvotecountA }
			if = {
				limit = { NOT = { check_variable = { which = "election_votes" which = 40 } } }
				top_liege = {
					any_realm_character = {
						limit = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_election_champion } }
						custom_tooltip = { text = TOOLTIPkingsmootchampionA }			
					}
				}
			}	
			if = {
				limit = { check_variable = { which = "election_votes" which = 40 } }
				top_liege = {
					any_realm_lord = {
						limit = { 
							NOT = { tier = BARON } 
							reverse_has_opinion_modifier = { who = ROOT modifier = opinion_election_champion }
						}
						custom_tooltip = { text = TOOLTIPkingsmootchampionA }			
					}
				}
			}
		}	
	}
}	
#Inform realm- Threats
character_event = {
	id = volantis.175
	desc = "EVTDESCvolantis.175" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	
	trigger = { 
		NOT = { character = FROM } 
		OR = {
			is_merchant_republic = yes
			any_liege = { is_merchant_republic = yes }
		}
	}
	
	option = {
		name = OK 
		tooltip = {
			custom_tooltip = { text = TOOLTIPvolantisvotecountB }
			if = {
				limit = { NOT = { check_variable = { which = "election_votes" which = 40 } } }
				top_liege = {
					any_realm_character = {
						limit = { reverse_has_opinion_modifier = { who = FROM modifier = opinion_election_champion } }
						custom_tooltip = { text = TOOLTIPkingsmootchampionB }			
					}
				}
			}	
			if = {
				limit = { check_variable = { which = "election_votes" which = 40 } }
				top_liege = {
					any_realm_lord = {
						limit = { 	
							reverse_has_opinion_modifier = { who = FROM modifier = opinion_election_champion }
							NOT = { tier = BARON } 
						}
						custom_tooltip = { text = TOOLTIPkingsmootchampionB }			
					}
				}
			}
		}
	}
}	
###Inform realm of winner of election	
character_event = {
	id = volantis.19
	desc = "EVTDESCvolantis.19" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	hide_from = yes
	
	immediate = {
		clr_character_flag = election_candidate
		clr_character_flag = election_candidate_contesting_1st
		clr_character_flag = election_candidate_contesting_2nd
		clr_character_flag = election_candidate_contesting_3rd
		#clr_character_flag = volantis.16
		clr_character_flag = candidate_number_found
		clr_character_flag = large_gift
		clr_character_flag = regular_gift
		clr_character_flag = small_gift
		clr_character_flag = no_gift
		clr_character_flag = threats
		clr_character_flag = election_1st
		clr_character_flag = election_2nd
		clr_character_flag = election_3rd
		#set_character_flag = volantis.19test
		hidden_tooltip = {
			any_liege = {
				limit = { 
					is_merchant_republic = yes 
					NOT = { character = ROOT }
				}
				set_character_flag = volantis.20
				character_event = { id = volantis.20 }	
			}
		}	
	}
	
	option = {
		name = "EVTOPTAvolantis.19" 
		custom_tooltip = { text = TOOLTIPvolantisvotecountA }
		set_character_flag = triarch
		#If not main Triarch gain title
		if = {
			limit = { 
				NOT = { has_character_flag = main_triarch } 
				is_merchant_republic = no
			}
			give_minor_title = title_triarch
			diplomatic_immunity = yes 
			any_liege = {
				limit = { is_merchant_republic = yes }
				transfer_scaled_wealth = {
					to = ROOT
					value = 0.2
				}
			}
		}
		tooltip = {
			if = {
				limit = { NOT = { check_variable = { which = "election_votes" which = 40 } } }
				top_liege = {
					any_realm_character = {
						limit = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_election_champion } }
						custom_tooltip = { text = TOOLTIPkingsmootchampionA }			
					}
				}
			}	
			if = {
				limit = { check_variable = { which = "election_votes" which = 40 } }
				top_liege = {
					any_realm_lord = {
						limit = { 
							NOT = { tier = BARON } 
							reverse_has_opinion_modifier = { who = ROOT modifier = opinion_election_champion }
						}
						custom_tooltip = { text = TOOLTIPkingsmootchampionA }			
					}
				}
			}
		}	
		hidden_tooltip = {
			character_event = { id = volantis.20 days = 1 }
			any_liege = {
				limit = { 
					is_merchant_republic = yes
					NOT = { character = ROOT }
				}
				if = {
					limit = { NOT = { has_character_flag = volantis.20 } }
					character_event = { id = volantis.20 days = 2 }
				}	
				any_realm_lord = {
					limit = { 
						ai = no
						NOT = { character = ROOT }
						NOT = { character = PREV }	
						NOT = { has_character_flag = volantis.20	}
						NOT = { has_character_flag = ignore_election }							
					}
					character_event = { id = volantis.20 days = 2 }				
				}
			}
			if = {
				limit = { is_merchant_republic = yes }
				any_realm_lord = {
					limit = { 
						ai = no
						NOT = { character = ROOT }	
						NOT = { has_character_flag = volantis.20	}
						NOT = { has_character_flag = ignore_election }							
					}
					character_event = { id = volantis.20 days = 2 }				
				}
				if = {
					limit = { 
						has_character_flag = interim_senior_triarch 
						NOT = { has_character_modifier = elected_triarch_1 }
						NOT = { has_character_modifier = elected_triarch_2 }
					}
					add_character_modifier = {
						name = elected_triarch_1
						duration = 1460
					}
					character_event = { id = volantis.253 days = 1460 } #change elect triarch modifier
				}
			}	
		}	
		#clr_character_flag = volantene_election 
		clr_character_flag = won_kingsmoot
		clr_character_flag = counting_votes
		clr_character_flag = interim_senior_triarch
		prestige = 30
	}
}	
#Inform realm
character_event = {
	id = volantis.20
	desc = "EVTDESCvolantis.20" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	
	trigger = {
		OR = {
			has_character_flag = volantis.20
			NOT = { character = FROM }
		}
	}
	
	immediate = {
		if = {
			limit = { is_feudal = yes is_patrician = no }
			primary_title = {
				if = {
					limit = { has_law = succ_open_elective }
					add_law = succ_primogeniture
				}
			}
		}	
	}
	
	option = {
		name = OK
		if = {
			limit = { is_merchant_republic = yes }
			tooltip = {
				transfer_scaled_wealth = {
					to = FROM
					value = 0.2
				}
			}	
		}
		tooltip = {
			custom_tooltip = { text = TOOLTIPvolantisvotecountB }
			if = {
				limit = { NOT = { check_variable = { which = "election_votes" which = 40 } } }
				top_liege = {
					any_realm_character = {
						limit = { reverse_has_opinion_modifier = { who = FROM modifier = opinion_election_champion } }
						custom_tooltip = { text = TOOLTIPkingsmootchampionB }			
					}
				}
			}	
			if = {
				limit = { check_variable = { which = "election_votes" which = 40 } }
				top_liege = {
					any_realm_lord = {
						limit = { 	
							reverse_has_opinion_modifier = { who = FROM modifier = opinion_election_champion }
							NOT = { tier = BARON } 
						}
						custom_tooltip = { text = TOOLTIPkingsmootchampionB }			
					}
				}
			}
		}
		clr_character_flag = volantis.20
	}
}	
#Senior Triarch dies, junior promoted
character_event = {
	id = volantis.210
	desc = "EVTDESCvolantis.210" 
	
	is_triggered_only = yes
			
	option = {
		name = OK
		hidden_tooltip = {
			if = {
				limit = { has_character_flag = changed_heir }
				prestige = -50000
				clr_character_flag = changed_heir
			}
			if = {
				limit = { NOT = { primary_title = { has_law = republic_triarch_for_life }  } }
				add_character_modifier = {
					name = elected_triarch_1
					duration = 1460
				}
				character_event = { id = volantis.253 days = 1460 } #change elect triarch modifier
			}	
			any_realm_lord = {
				limit = { ai = no }
				character_event = { id = volantis.220 }
			}
			clr_character_flag = title_triarch_for_life
			remove_title = title_triarch_for_life
			diplomatic_immunity = no
		}
	}
}	
#Inform realm
character_event = {
	id = volantis.220
	desc = "EVTDESCvolantis.220" 
	
	is_triggered_only = yes
			
	option = {
		name = OK
		FROM = { 
			FROM = { tooltip = { } }
		}
	}
}
#Triarch dies, councillor appointed as interim Triarch
character_event = {
	id = volantis.21
	desc = "EVTDESCvolantis.21" 
	
	is_triggered_only = yes
			
	option = {
		name = OK
		set_character_flag = triarch
		give_minor_title = title_triarch		
		diplomatic_immunity = yes 
		hidden_tooltip = {		
			set_character_flag = title_freeholder #give a free freehold
			give_minor_title = title_freeholder
			character_event = { id = volantis.300 } #choose party if neccessary
			any_liege = {
				limit = { is_merchant_republic = yes }
				character_event = { id = volantis.22 days = 1 }
				any_realm_lord = {
					limit = { ai = no }
					character_event = { id = volantis.22 days = 1 }
				}
			}
		}
	}
}	
#Inform realm
character_event = {
	id = volantis.22
	desc = "EVTDESCvolantis.22" 
	
	is_triggered_only = yes
			
	option = {
		name = OK
		FROM = { 
			tooltip = { give_minor_title = title_triarch } 
			FROM = { tooltip = { } }
		}
	}
}			
###Triarchs veto war of aggression
character_event = {
	id = volantis.9100

	is_triggered_only = yes
	hide_window = yes
	
	trigger = {
		FROM = {
			government = triarch_merchant_republic_government
			any_realm_character = { #At least one junior Triarch must be present
				has_character_flag = triarch
			}
		}	
	}
	
	immediate = { FROM = { character_event = { id = volantis.100 days = 1 } } }
	
	option = {
		name = OK
	}
}
character_event = {
	id = volantis.100
	desc = "EVTDESCvolantis.100" 
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	trigger = {
		government = triarch_merchant_republic_government
		NOT = {
			any_war = {
				attacker = { character = ROOT }
				defender = { character = FROM }
				OR = {
					#using_cb = dejure_kingdom_claim_EMP
					#using_cb = dejure_kingdom_claim
					using_cb = dejure_duchy_claim
					using_cb = other_dejure_duchy_claim
					using_cb = overthrow_ruler
					using_cb = overthrow_ruler_no_calls
					#using_cb = change_gavelkind_succession_law
					using_cb = lower_crown_authority_law
					#using_cb = lower_tribal_organization_law
					using_cb = cb_faction_independence
					#using_cb = viking_invasion
					using_cb = dejure_county_claim
					using_cb = dejure_barony_claim
					#using_cb = other_dejure_barony_claim
					using_cb = other_dejure_county_claim
					using_cb = change_seniority_succession_law
					using_cb = change_primogeniture_succession_law
					using_cb = change_feudal_elective_succession_law
					using_cb = colonisation
				}
			}
		}
	}
	
	option = {
		name = "EVTOPTAvolantis.100" 
		any_realm_character = {
			limit = { has_character_flag = triarch }
			character_event = { id = volantis.101 days = 1 tooltip = TOOLTIPvolantis.101 }
		}
		hidden_tooltip = { character_event = { id = volantis.102 days = 3 } }
	}
}
character_event = {
	id = volantis.101
	desc = "EVTDESCvolantis.101" 
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { has_character_flag = triarch }
			give_minor_title = title_triarch
		}
	}
	
	option = {
		name = "EVTOPTAvolantis.101" #Veto
		trigger = {
			prisoner = no
			is_incapable = no
		}
		ai_chance = {
			factor = 50
			
			modifier = { #Tiger's will never veto if they like the senior Triarch, and is not friendly with defender
				factor = 0
				trait = tiger
				opinion = { who = FROM value = 30 }
				NOT = { is_friend = FROMFROM }
				NOT = { is_close_relative = FROMFROM }
				NOT = { is_allied_with = FROMFROM }
				NOT = { has_non_aggression_pact_with = FROMFROM }
			}
			
			modifier = {
				factor = 10
				trait = elephant
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 2
				trait = patient
			}
			modifier = {
				factor = 2
				trait = content
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -19 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -39 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -59 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -79 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -99 } }
			}
			
			#opinion of defender
			modifier = {
				factor = 3
				is_close_relative = FROMFROM
			}
			modifier = {
				factor = 1.5
				dynasty = FROMFROM
			}
			modifier = {
				factor = 3
				is_friend = FROMFROM
			}
			modifier = {
				factor = 3
				is_allied_with = FROMFROM
			}
			modifier = {
				factor = 2
				has_non_aggression_pact_with = FROMFROM
			}		
			modifier = {
				factor = 1.5
				opinion = { who = FROMFROM value = 20 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROMFROM value = 40 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROMFROM value = 60 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROMFROM value = 80 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROMFROM value = 100 }
			}
			
			#less likely to support personal ambitions
			modifier = {
				factor = 2
				FROM = {
					any_war = {
						defender = { character = ROOT_FROMFROM }
						OR = {
							using_cb = rescue_prisoner
							using_cb = bloody_vengeance
							using_cb = reclaim_ancestral_sword
							using_cb = dynasty_plot_claim
							using_cb = slave_raid
						}
					}
				}
			}
		}
		if = {
			limit = { trait = tiger }
			prestige = -100
			custom_tooltip = {
				text = TOOLTIPTIGERSUNHAPPY
				hidden_tooltip = {
					FROM = {
						if = {
							limit = { trait = tiger }
							opinion = { who = ROOT modifier = opinion_vetoed_war }
						}
						any_realm_character = {
							limit = { trait = tiger }
							opinion = { who = ROOT modifier = opinion_vetoed_war }
						}
					}
				}
			}	
		}
	}
	option = {
		name = "EVTOPTBvolantis.101" #No Veto
		trigger = {
			prisoner = no
			is_incapable = no
		}
		ai_chance = {
			factor = 50
			
			modifier = { #Elephants will always veto if they dont like the senior Triarch, or is friendly with defender
				factor = 0
				trait = elephant
				OR = {
					NOT = { opinion = { who = FROM value = -30 } }
					is_friend = FROMFROM
					is_close_relative = FROMFROM
					is_allied_with = FROMFROM
					has_non_aggression_pact_with = FROMFROM
				}	
			}
			modifier = {
				factor = 10
				trait = tiger
			}
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 2
				trait = wroth
			}
			modifier = {
				factor = 2
				trait = ambitious
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 20 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 40 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 60 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 80 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 100 }
			}
			
			#opinion of defender
			modifier = {
				factor = 3
				is_rival = FROMFROM
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROMFROM value = -19 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROMFROM value = -39 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROMFROM value = -59 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROMFROM value = -79 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROMFROM value = -99 } }
			}
		}
		if = {
			limit = { trait = elephant }
			prestige = -100
			custom_tooltip = {
				text = TOOLTIPELEPHANTSUNHAPPY
				hidden_tooltip = {
					FROM = {
						if = {
							limit = { trait = elephant }
							opinion = { who = ROOT modifier = opinion_did_not_veto_war }
						}
						any_realm_character = {
							limit = { trait = elephant }
							opinion = { who = ROOT modifier = opinion_did_not_veto_war }
						}
					}
				}
			}	
		}
		hidden_tooltip = {
			FROM = {
				random_realm_character = {
					limit = { 
						has_character_flag = triarch 
						NOT = { character = ROOT }  
						NOT = { character = PREV } 
					}
					character_event = { id = volantis.1041 days = 3 }
				}
			}
		}
		set_character_flag = no_veto
	}
	option = {
		name = "EVTOPTCvolantis.101" #Cannot Vote
		trigger = {
			OR = {
				prisoner = yes
				is_incapable = yes
			}	
		}
		set_character_flag = no_triarch_vote
	}
}
character_event = {
	id = volantis.102
	desc = "EVTDESCvolantis.102" 
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { 
				any_realm_character = {
					has_character_flag = triarch
					has_character_flag = no_veto
				}
			}	
			set_character_flag = war_not_vetoed
		}
	}
	
	option = {
		name = "EVTOPTAvolantis.102" #war is not vetoed
		trigger = { has_character_flag = war_not_vetoed }
		any_realm_character = {
			limit = { 
				has_character_flag = triarch 
				NOT = { has_character_flag = no_veto }
				NOT = { has_character_flag = no_triarch_vote }
			}
			custom_tooltip = { text = TOOLTIPveto }
		}
		any_realm_character = {
			limit = { 
				has_character_flag = triarch
				has_character_flag = no_veto
			}
			custom_tooltip = { text = TOOLTIPno_veto }
			clr_character_flag = no_veto
		}
		any_realm_character = {
			limit = { 
				has_character_flag = triarch
				has_character_flag = no_triarch_vote
			}
			custom_tooltip = { text = TOOLTIPno_triarch_vote }
			clr_character_flag = no_triarch_vote
		}
		clr_character_flag = war_not_vetoed
		if = {
			limit = { trait = elephant }		
			custom_tooltip = {
				text = TOOLTIPELEPHANTSUNHAPPYWAR
				hidden_tooltip = {
					any_realm_character = {
						limit = { trait = elephant }
						opinion = { who = ROOT modifier = opinion_elephant_declared_war }
					}
				}
			}	
			prestige = -100
		}
	}
	
	option = {
		name = "EVTOPTBvolantis.102" #war is vetoed
		trigger = { NOT = { has_character_flag = war_not_vetoed } }
		any_war = {
			if = {
				limit = { 
					attacker = { character = ROOT } 
					defender = { character = FROMFROM }
				}
				hidden_tooltip = {
					defender = { character_event = { id = volantis.103 } }
				}	
				end_war = invalid
			}
		}	
		if = {
			limit = { ai = no }
			prestige = -200
		}	
		any_realm_character = {
			limit = { 
				has_character_flag = triarch 
				NOT = { has_character_flag = no_triarch_vote }
			}
			custom_tooltip = { text = TOOLTIPveto }
		}
		any_realm_character = {
			limit = { 
				has_character_flag = triarch
				has_character_flag = no_triarch_vote
			}
			custom_tooltip = { text = TOOLTIPno_triarch_vote }
			clr_character_flag = no_triarch_vote
		}
		hidden_tooltip = {
			any_realm_lord = {
				limit = { ai = no }
				character_event = { id = volantis.104 }
			}
		}
	}
}
#Inform defender war is vetoed
character_event = {
	id = volantis.103
	desc = "EVTDESCvolantis.103" 
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAvolantis.103"
	}
}	
#Inform realm war is vetoed
character_event = {
	id = volantis.104
	desc = "EVTDESCvolantis.104" 
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	option = {
		name = OK
	}
}	
#Inform fellow Triarch Approved War
character_event = {
	id = volantis.1041
	desc = "EVTDESCvolantis.1041" 
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	option = {
		name = OK
	}
}	
###Prisoner appeals to Triarchs###
character_event = {
	id = volantis.105
	desc = "EVTDESCvolantis.105" 
	picture = "GFX_evt_into_the_dungeon"
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { has_character_flag = triarch }
			give_minor_title = title_triarch
		}
	}
	
	option = {
		name = "EVTOPTAvolantis.105" #support
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				dynasty = FROM
			}
			modifier = {
				factor = 3
				is_close_relative = FROM
			}
			modifier = {
				factor = 2
				trait = content
			}
			modifier = {
				factor = 2
				trait = kind
			}
			modifier = {
				factor = 0.5
				NOT = { opinion = { who = FROM value = -39 } }
			}
			modifier = {
				factor = 0.5
				NOT = { opinion = { who = FROM value = -59 } }
			}
			modifier = {
				factor = 0
				NOT = { opinion = { who = FROM value = -79 } }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 20 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 40 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 60 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 80 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 100 }
			}
			modifier = {
				factor = 1.5
				NOT = { FROM = { host = { reverse_opinion = { who = ROOT value = -19 } } } }
			}
			modifier = {
				factor = 1.5
				NOT = { FROM = { host = { reverse_opinion = { who = ROOT value = -39 } } } }
			}
			modifier = {
				factor = 1.5
				NOT = { FROM = { host = { reverse_opinion = { who = ROOT value = -59 } } } }
			}
			modifier = {
				factor = 1.5
				NOT = { FROM = { host = { reverse_opinion = { who = ROOT value = -79 } } } }
			}
			modifier = {
				factor = 1.5
				NOT = { FROM = { host = { reverse_opinion = { who = ROOT value = -99 } } } }
			}
		}	
		reverse_opinion = {
			who = FROM
			modifier = opinion_voted_for_my_release
		}
		prestige = -25
		FROM = {
			host = {
				opinion = {
					who = ROOT
					modifier = opinion_voted_for_release
				}
			}
		}
	}
	option = {
		name = "EVTOPTBvolantis.105" #Ignore
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				trait = ambitious
			}
			modifier = {
				factor = 2
				trait = cruel
			}
			modifier = {
				factor = 5
				FROM = { has_character_flag = captured_in_battle }
			}
			modifier = {
				factor = 5
				FROM = { 
					host = { 
						OR = {
							has_opinion_modifier = { who = PREV modifier = opinion_traitor }
							has_opinion_modifier = { who = PREV modifier = opinion_vengeance }
						}
					} 
				}
			}
			modifier = {
				factor = 10
				FROM = { host = { war_with = PREV } }
			}
			modifier = {
				factor = 3
				NOT = { opinion = { who = FROM value = -19 } }
			}
			modifier = {
				factor = 1.5
				FROM = { host = { reverse_opinion = { who = ROOT value = 20 } } } 
			}
			modifier = {
				factor = 1.5
				FROM = { host = { reverse_opinion = { who = ROOT value = 40 } } } 
			}
			modifier = {
				factor = 1.5
				FROM = { host = { reverse_opinion = { who = ROOT value = 60 } } } 
			}
			modifier = {
				factor = 1.5
				FROM = { host = { reverse_opinion = { who = ROOT value = 80 } } } 
			}
			modifier = {
				factor = 1.5
				FROM = { host = { reverse_opinion = { who = ROOT value = 100 } } } 
			}
		}
		FROM = { set_character_flag = no_triarch_release }
	}
}
character_event = {
	id = volantis.106
	desc = "EVTDESCvolantis.106" 
	picture = "GFX_evt_into_the_dungeon"
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAvolantis.102" #released
		trigger = { NOT = { has_character_flag = no_triarch_release } }
		hidden_tooltip = { host = { character_event = { id = volantis.107 } } }
		prisoner = no
		clr_character_flag = captured_in_battle
		clr_character_flag = kidnapped_by_plot
		clr_character_flag = lost_trial_by_combat
		clr_character_flag = imprisoned_for_relatives_crimes	
	}
	
	option = {
		name = "EVTOPTBvolantis.106" #not released
		trigger = { has_character_flag = no_triarch_release }
		clr_character_flag = asked_for_better_prison
	}
}
character_event = {
	id = volantis.107
	desc = "EVTDESCvolantis.107" 
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAvolantis.107" #released
		FROM = { prisoner = no }	
		any_realm_character = {
			limit = { has_minor_title = title_triarch }
			custom_tooltip = { text = TOOLTIPvolantis.107 }
		}
	}
}
###Grant character a Freehold?###
# character_event = { #Is now a targetted decision
	# id = volantis.108
	# desc = "EVTDESCvolantis.108" 
	# picture = GFX_evt_emissary
	
	# is_triggered_only = yes
	
	# trigger = { FROM = { NOT = { has_character_flag = title_freeholder } } }
	
	# immediate = { FROM = { remove_title = title_freeholder } }
	
	# option = {
		# name = "EVTOPTAvolantis.108" #Yes
		# ai_chance = {
			# factor = 70
			# modifier = {
				# factor = 0
				# NOT = { wealth = 300 }
			# }
			# modifier = {
				# factor = 2
				# trait = charitable
			# }
			# modifier = {
				# factor = 2
				# trait = kind
			# }
			# modifier = {
				# factor = 2
				# trait = humble
			# }
			# modifier = {
				# factor = 1.5
				# opinion = { who = FROM value = 25 }
			# }
			# modifier = {
				# factor = 1.5
				# opinion = { who = FROM value = 50 }
			# }
			# modifier = {
				# factor = 1.5
				# opinion = { who = FROM value = 75 }
			# }
			# modifier = {
				# factor = 1.5
				# opinion = { who = FROM value = 100 }
			# }
			# modifier = {
				# factor = 3
				# FROM = { is_close_relative = ROOT }
			# }
			# modifier = {
				# factor = 3
				# FROM = { dynasty = ROOT }
			# }
		# }
		# wealth = -100
		# FROM = {
			# set_character_flag = title_freeholder
			# give_minor_title = title_freeholder
			# wealth = 50
			# opinion = {
				# who = ROOT
				# modifier = opinion_granted_barony
			# }
		# }
	# }
	
	# option = {
		# name = "EVTOPTBvolantis.108" #No
		# ai_chance = {
			# factor = 30
			# modifier = {
				# factor = 0.5
				# wealth = 900
			# }
			# modifier = {
				# factor = 2
				# trait = greedy
			# }
			# modifier = {
				# factor = 2
				# trait = cruel
			# }
			# modifier = {
				# factor = 2
				# trait = proud
			# }
			# modifier = {
				# factor = 2
				# NOT = { opinion = { who = FROM value = -24 } }
			# }
			# modifier = {
				# factor = 2
				# NOT = { opinion = { who = FROM value = -49 } }
			# }
			# modifier = {
				# factor = 2
				# NOT = { opinion = { who = FROM value = -74 } }
			# }
			# modifier = {
				# factor = 2
				# NOT = { opinion = { who = FROM value = -99 } }
			# }
		# }
		# FROM = { hidden_tooltip = { remove_title = title_freeholder } }
	# }
# }
###Council plotter asks for Triarch backer to appeal to fellow Triarch###
character_event = {
	id = volantis.109
	desc = "EVTDESCvolantis.109" 
	picture = GFX_evt_whispers
	
	is_triggered_only = yes
	
	trigger = {
		FROM = {
			OR = {
				has_plot = plot_replace_castellan
				has_plot = plot_replace_chancellor
				has_plot = plot_replace_marshal
				has_plot = plot_replace_treasurer
				has_plot = plot_replace_spymaster
				has_plot = plot_replace_councillor
			}
		}
	}
	
	immediate = {
		if = {
			limit = { has_character_flag = triarch }
			give_minor_title = title_triarch
		}
	}
	
	option = {
		name = "EVTOPTAvolantis.109" #Appeal
		trigger = {
			FROM = {
				plot_target_char = {
					liege = {
						any_realm_character = {
							has_character_flag = triarch
							NOT = { character = ROOT }
							NOT = { character = FROM }
							NOT = { character = PREV }
							NOT = { any_backed_character = { character = FROM } }
						}
					}	
				}
			}
		}
		FROM = {
			plot_target_char = {
				liege = {
					random_realm_character = {
						limit = {
							has_character_flag = triarch
							NOT = { character = ROOT }
							NOT = { character = FROM }
							NOT = { character = PREV }
							NOT = { any_backed_character = { character = FROM } }
						}
						letter_event = { id = volantis.110 days = 1 tooltip = TOOLTIPvolantis.110 }
					}
				}	
			}
		}		
	}
	option = {
		name = "EVTOPTBvolantis.109" #Both already support
		trigger = {
			FROM = {
				any_plot_backer = { 
					has_character_flag = triarch
					NOT = { character = ROOT }
				}
			}
		}
		FROM = { 
			set_character_flag = council_plot_triarchs_support 
			if = {
				limit = { has_plot = plot_replace_castellan }
				tooltip = { give_job_title = job_castellan }
			}
			if = {
				limit = { has_plot = plot_replace_chancellor }
				tooltip = { give_job_title = job_chancellor }
			}
			if = {
				limit = { has_plot = plot_replace_marshal }
				tooltip = { give_job_title = job_marshal }
			}
			if = {
				limit = { has_plot = plot_replace_treasurer }
				tooltip = { give_job_title = job_treasurer }
			}
			if = {
				limit = { has_plot = plot_replace_spymaster }
				tooltip = { give_job_title = job_spymaster }
			}
			if = {
				limit = { has_plot = plot_replace_councillor }
				tooltip = { give_minor_title = title_councilmember_king }
			}
		}	
	}
	option = {
		name = "EVTOPTCvolantis.109" #No third Triarch
		trigger = {
			FROM = {
				plot_target_char = {
					liege = {
						NOT = {
							any_realm_character = {
								has_character_flag = triarch
								NOT = { character = ROOT }
								NOT = { character = FROM }
								NOT = { character = PREV }
							}
						}
					}	
				}
			}
		}
		FROM = {
			letter_event = { id = volantis.117 days = 2 } 
		}		
	}
}
character_event = { #Human is asked for support
	id = volantis.1099
	desc = "EVTDESCvolantis.1099" 
	picture = GFX_evt_whispers
	
	is_triggered_only = yes
	
	trigger = {
		FROM = {
			OR = {
				has_plot = plot_replace_castellan
				has_plot = plot_replace_chancellor
				has_plot = plot_replace_marshal
				has_plot = plot_replace_treasurer
				has_plot = plot_replace_spymaster
				has_plot = plot_replace_councillor
			}
		}
	}
	
	immediate = {
		if = {
			limit = { has_character_flag = triarch }
			give_minor_title = title_triarch
		}
	}
	
	option = {
		name = "EVTOPTAvolantis.1099" #Appeal
		trigger = {
			FROM = {
				plot_target_char = {
					liege = {
						any_realm_character = {
							has_character_flag = triarch
							NOT = { character = ROOT }
							NOT = { character = FROM }
							NOT = { character = PREV }
						}
					}	
				}
			}
		}
		FROM = {
			plot_target_char = {
				liege = {
					random_realm_character = {
						limit = {
							has_character_flag = triarch
							NOT = { character = ROOT }
							NOT = { character = FROM }
							NOT = { character = PREV }
						}
						letter_event = { id = volantis.110 days = 1 tooltip = TOOLTIPvolantis.110 }
					}
				}	
			}
		}
		if = {
			limit = { 
				trait = elephant 
				FROM = { 
					NOT = { trait = elephant }
					plot_target_char = { trait = elephant } 
				} 
			}
			prestige = -50
			custom_tooltip = {
				text = TOOLTIPELEPHANTSUNHAPPY
				hidden_tooltip = {
					FROM = {
						liege = {
							if = {
								limit = { trait = elephant }
								opinion = { who = ROOT modifier = opinion_fired_party_councillor }
							}
							any_realm_character = {
								limit = { 
									trait = elephant 
									NOT = { character = FROM }
									NOT = { character = ROOT }
									NOT = { any_backed_character = { character = FROM } }
								}
								opinion = { who = ROOT modifier = opinion_fired_party_councillor }
							}
						}	
					}
				}
			}	
		}
		if = {
			limit = { 
				trait = tiger
				FROM = { 
					NOT = { trait = tiger }
					plot_target_char = { trait = tiger } 
				} 
			}
			prestige = -50
			custom_tooltip = {
				text = TOOLTIPTIGERSUNHAPPY
				hidden_tooltip = {
					FROM = {
						liege = {
							if = {
								limit = { trait = tiger }
								opinion = { who = ROOT modifier = opinion_fired_party_councillor }
							}
							any_realm_character = {
								limit = { 
									trait = tiger
									NOT = { character = FROM }
									NOT = { character = ROOT }
									NOT = { any_backed_character = { character = FROM } }
								}
								opinion = { who = ROOT modifier = opinion_fired_party_councillor }
							}
						}	
					}
				}	
			}	
		}		
	}
	option = {
		name = "EVTOPTBvolantis.1099" #No
		trigger = {
			FROM = {
				plot_target_char = {
					liege = {
						any_realm_character = {
							has_character_flag = triarch
							NOT = { character = ROOT }
							NOT = { character = FROM }
							NOT = { character = PREV }
						}
					}	
				}
			}
		}
		FROM = { 
			character_event = { id = volantis.1179 days = 2 } 
		}	
		if = {
			limit = { 
				trait = elephant 
				FROM = { 
					trait = elephant
					plot_target_char = { NOT = { trait = elephant } }
				} 
			}
			prestige = -50
			custom_tooltip = {
				text = TOOLTIPELEPHANTSUNHAPPY
				hidden_tooltip = {
					FROM = {
						liege = {
							if = {
								limit = { trait = elephant }
								opinion = { who = ROOT modifier = opinion_ignored_party_councillor }
							}
							any_realm_character = {
								limit = { 
									trait = elephant 
									NOT = { character = ROOT }
								}
								opinion = { who = ROOT modifier = opinion_ignored_party_councillor }
							}
						}	
					}	
				}
			}	
		}
		if = {
			limit = { 
				trait = tiger
				FROM = { 
					trait = tiger
					plot_target_char = { NOT = { trait = tiger } }
				} 
			}
			prestige = -50
			custom_tooltip = {
				text = TOOLTIPTIGERSUNHAPPY
				hidden_tooltip = {
					FROM = {
						liege = {
							if = {
								limit = { trait = tiger }
								opinion = { who = ROOT modifier = opinion_ignored_party_councillor }
							}
							any_realm_character = {
								limit = { 
									trait = tiger 
									NOT = { character = ROOT }
								}
								opinion = { who = ROOT modifier = opinion_ignored_party_councillor }
							}
						}	
					}	
				}
			}	
		}
	}
	option = {
		name = "EVTOPTCvolantis.109" #No third Triarch
		trigger = {
			FROM = {
				plot_target_char = {
					liege = {
						NOT = {
							any_realm_character = {
								has_character_flag = triarch
								NOT = { character = ROOT }
								NOT = { character = FROM }
								NOT = { character = PREV }
							}
						}
					}	
				}
			}
		}
		FROM = {
			letter_event = { id = volantis.117 days = 2 } 
		}		
	}
}
#Third Triarch responds
letter_event = {
	id = volantis.110
	desc = "EVTDESCvolantis.110" 
	
	is_triggered_only = yes
	
	trigger = {
		FROMFROM = {
			OR = {
				has_plot = plot_replace_castellan
				has_plot = plot_replace_chancellor
				has_plot = plot_replace_marshal
				has_plot = plot_replace_treasurer
				has_plot = plot_replace_spymaster
				has_plot = plot_replace_councillor
			}
		}
	}
	
	option = {
		name = "EVTOPTAvolantis.110" #Yes
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2.5
				trait = tiger
				FROM = { 
					FROM = { 
						trait = tiger
						plot_target_char = { NOT = { trait = tiger } }
					} 
				}
			}
			modifier = {
				factor = 2.5
				trait = elephant
				FROM = { 
					FROM = { 
						trait = elephant
						plot_target_char = { NOT = { trait = elephant } }	
					} 
				}
			}
			modifier = {
				factor = 2.5
				trait = tiger
				FROM = { FROM = { trait = tiger } }
			}
			modifier = {
				factor = 2.5
				trait = tiger
				FROM = { trait = tiger } 
			}
			modifier = {
				factor = 2.5
				trait = elephant
				FROM = { FROM = { trait = elephant } }
			}
			modifier = {
				factor = 2.5
				trait = elephant
				FROM = { trait = elephant } 
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROMFROM value = 25 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROMFROM value = 50 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROMFROM value = 75 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROMFROM value = 100 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROM value = 25 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROM value = 50 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROM value = 75 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROM value = 100 }
			}
			modifier = {
				factor = 2
				FROM = { is_close_relative = ROOT }
			}
			modifier = {
				factor = 2
				FROM = { dynasty = ROOT }
			}
			modifier = {
				factor = 2
				FROM = { FROM = { is_close_relative = ROOT } }
			}
			modifier = {
				factor = 2
				FROM = { FROM = { dynasty = ROOT } }
			}
			modifier = {
				factor = 0.1
				FROM = { 
					FROM = { 
						plot_target_char = { has_opinion_modifier = { who = ROOT modifier = opinion_council_sponsor } } 	
					} 
				}
			}
		}
		FROM = { 
			letter_event = { id = volantis.111 days = 1 tooltip = TOOLTIPvolantis.111 }
			FROM = { 
				if = {
					limit = { has_plot = plot_replace_castellan }
					tooltip = { give_job_title = job_castellan }
				}
				if = {
					limit = { has_plot = plot_replace_chancellor }
					tooltip = { give_job_title = job_chancellor }
				}
				if = {
					limit = { has_plot = plot_replace_marshal }
					tooltip = { give_job_title = job_marshal }
				}
				if = {
					limit = { has_plot = plot_replace_treasurer }
					tooltip = { give_job_title = job_treasurer }
				}
				if = {
					limit = { has_plot = plot_replace_spymaster }
					tooltip = { give_job_title = job_spymaster }
				}
				if = {
					limit = { has_plot = plot_replace_councillor }
					tooltip = { give_minor_title = title_councilmember_king }
				}
				opinion = { who = ROOT modifier = opinion_council_sponsor }
				plot_target_char = { opinion = { who = ROOT modifier = opinion_fired_from_council } }
				hidden_tooltip = { letter_event = { id = volantis.112 days = 1 } }
				any_plot_backer = {
					opinion = { who = ROOT modifier = opinion_approved_council_candidate }
				}
			} 
		}
		if = {
			limit = { 
				trait = elephant 
				FROM = { 
					FROM = { 
						NOT = { trait = elephant }
						plot_target_char = { trait = elephant } 
					} 
				}
			}
			prestige = -50
			custom_tooltip = {
				text = TOOLTIPELEPHANTSUNHAPPY
				hidden_tooltip = {
					FROM = {
						FROM = {
							liege = {
								if = {
									limit = { trait = elephant }
									opinion = { who = ROOT modifier = opinion_fired_party_councillor }
								}
								any_realm_character = {
									limit = { 
										trait = elephant 
										NOT = { character = FROM }
										NOT = { character = FROMFROM }
										NOT = { any_backed_character = { character = FROMFROM } }
									}
									opinion = { who = ROOT modifier = opinion_fired_party_councillor }
								}
							}	
						}	
					}
				}
			}	
		}
		if = {
			limit = { 
				trait = tiger
				FROM = { 
					FROM = { 
						NOT = { trait = tiger }
						plot_target_char = { trait = tiger } 
					} 
				}
			}
			prestige = -50
			custom_tooltip = {
				text = TOOLTIPTIGERSUNHAPPY
				hidden_tooltip = {
					FROM = {
						FROM = {
							liege = {
								if = {
									limit = { trait = tiger }
									opinion = { who = ROOT modifier = opinion_fired_party_councillor }
								}
								any_realm_character = {
									limit = { 
										trait = tiger
										NOT = { character = FROM }
										NOT = { character = FROMFROM }
										NOT = { any_backed_character = { character = FROMFROM } }
									}
									opinion = { who = ROOT modifier = opinion_fired_party_councillor }
								}
							}	
						}	
					}
				}	
			}	
		}
	}
	
	option = {
		name = "EVTOPTBvolantis.110" #No
		ai_chance = {
			factor = 50
			modifier = {
				factor = 5
				trait = tiger
				FROM = { 
					FROM = { 
						NOT = { trait = tiger }
						plot_target_char = { trait = tiger } 
					} 
				}
			}
			modifier = {
				factor = 5
				trait = elephant
				FROM = { 
					FROM = { 
						NOT = { trait = elephant }
						plot_target_char = { trait = elephant } 	
					} 
				}
			}
			modifier = {
				factor = 2.5
				trait = tiger
				FROM = { FROM = { trait = elephant } }
			}
			modifier = {
				factor = 2.5
				trait = tiger
				FROM = { trait = elephant } 
			}
			modifier = {
				factor = 2.5
				trait = elephant
				FROM = { FROM = { trait = tiger } }
			}
			modifier = {
				factor = 2.5
				trait = elephant
				FROM = { trait = tiger } 
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROMFROM value = -24 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROMFROM value = -49 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROMFROM value = -74 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROMFROM value = -99 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROM value = -24 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROM value = -49 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROM value = -74 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROM value = -99 } }
			}
			modifier = {
				factor = 2
				FROM = { FROM = { plot_target_char = { is_close_relative = ROOT } } }
			}
			modifier = {
				factor = 2
				FROM = { FROM = { plot_target_char = { dynasty = ROOT } } }
			}
		}
		FROM = { 
			letter_event = { id = volantis.114 days = 1 tooltip = TOOLTIPvolantis.114 }
			FROM = { 
				hidden_tooltip = { letter_event = { id = volantis.115 days = 1 } }
			}			
		}
		if = {
			limit = { 
				trait = elephant 
				FROM = { 
					FROM = { 
						trait = elephant
						plot_target_char = { NOT = { trait = elephant } }
					} 
				}
			}
			prestige = -50
			custom_tooltip = {
				text = TOOLTIPELEPHANTSUNHAPPY
				hidden_tooltip = {
					FROM = {
						FROM = {
							liege = {
								if = {
									limit = { trait = elephant }
									opinion = { who = ROOT modifier = opinion_ignored_party_councillor }
								}
								any_realm_character = {
									limit = { 
										trait = elephant 
										NOT = { any_backed_character = { character = FROMFROM } }
									}
									opinion = { who = ROOT modifier = opinion_ignored_party_councillor }
								}
							}	
						}	
					}
				}
			}	
		}
		if = {
			limit = { 
				trait = tiger
				FROM = { 
					FROM = { 
						trait = tiger
						plot_target_char = { NOT = { trait = tiger } }
					} 
				}
			}
			prestige = -50
			custom_tooltip = {
				text = TOOLTIPTIGERSUNHAPPY
				hidden_tooltip = {
					FROM = {
						FROM = {
							liege = {
								if = {
									limit = { trait = tiger }
									opinion = { who = ROOT modifier = opinion_ignored_party_councillor }
								}
								any_realm_character = {
									limit = { 
										trait = tiger
										NOT = { any_backed_character = { character = FROMFROM } }
									}
									opinion = { who = ROOT modifier = opinion_ignored_party_councillor }
								}
							}	
						}	
					}
				}
			}	
		}
	}
}
#Inform Triarch fellow Triarch agreed
letter_event = {
	id = volantis.111
	desc = "EVTDESCvolantis.111" 
	
	is_triggered_only = yes
	
	trigger = {
		OR = {
			has_plot = plot_replace_castellan
			has_plot = plot_replace_chancellor
			has_plot = plot_replace_marshal
			has_plot = plot_replace_treasurer
			has_plot = plot_replace_spymaster
			has_plot = plot_replace_councillor
		}
	}
	
	option = {
		name = "EVTOPTAvolantis.111"
		if = {
			limit = { character = FROMFROM }
			activate_plot = yes
			liege = { character_event = { id = volantis.113 tooltip = TOOLTIPvolantis.113 } }
			if = {
				limit = { has_plot = plot_replace_castellan }
				tooltip = { give_job_title = job_castellan }
			}
			if = {
				limit = { has_plot = plot_replace_chancellor }
				tooltip = { give_job_title = job_chancellor }
			}
			if = {
				limit = { has_plot = plot_replace_marshal }
				tooltip = { give_job_title = job_marshal }
			}
			if = {
				limit = { has_plot = plot_replace_treasurer }
				tooltip = { give_job_title = job_treasurer }
			}
			if = {
				limit = { has_plot = plot_replace_spymaster }
				tooltip = { give_job_title = job_spymaster }
			}
			if = {
				limit = { has_plot = plot_replace_councillor }
				tooltip = { give_minor_title = title_councilmember_king }
			}
		}
	}
}	
#Inform plotter fellow Triarch agreed
letter_event = {
	id = volantis.112
	desc = "EVTDESCvolantis.112" 
	
	is_triggered_only = yes
	show_from_from = yes
	
	trigger = { 
		NOT = { character = FROMFROM } 
		OR = {
			has_plot = plot_replace_castellan
			has_plot = plot_replace_chancellor
			has_plot = plot_replace_marshal
			has_plot = plot_replace_treasurer
			has_plot = plot_replace_spymaster
			has_plot = plot_replace_councillor
		}
	}
	
	option = {
		name = "EVTOPTAvolantis.112"
		activate_plot = yes
		liege = { character_event = { id = volantis.113 tooltip = TOOLTIPvolantis.113 } }
		if = {
			limit = { has_plot = plot_replace_castellan }
			tooltip = { give_job_title = job_castellan }
		}
		if = {
			limit = { has_plot = plot_replace_chancellor }
			tooltip = { give_job_title = job_chancellor }
		}
		if = {
			limit = { has_plot = plot_replace_marshal }
			tooltip = { give_job_title = job_marshal }
		}
		if = {
			limit = { has_plot = plot_replace_treasurer }
			tooltip = { give_job_title = job_treasurer }
		}
		if = {
			limit = { has_plot = plot_replace_spymaster }
			tooltip = { give_job_title = job_spymaster }
		}
		if = {
			limit = { has_plot = plot_replace_councillor }
			tooltip = { give_minor_title = title_councilmember_king }
		}
	}
}
#Inform liege Triarchs have appointed new councillor
character_event = {
	id = volantis.113
	desc = "EVTDESCvolantis.113" 
	picture = GFX_evt_council
	
	is_triggered_only = yes
	show_from_from = yes
	
	trigger = {
		FROM = {
			OR = {
				has_plot = plot_replace_castellan
				has_plot = plot_replace_chancellor
				has_plot = plot_replace_marshal
				has_plot = plot_replace_treasurer
				has_plot = plot_replace_spymaster
				has_plot = plot_replace_councillor
			}
		}
	}
	
	option = {
		name = "EVTOPTAvolantis.113"
		FROM = {
			tooltip = { }
			any_plot_backer = {
				hidden_tooltip = { character_event = { id = council_plot.3 } }
			}
			hidden_tooltip = { remove_title = title_triarch }
			plot_target_char = {
				set_character_flag = flag_replaced_by_plot_event
				opinion = { who = ROOT modifier = opinion_fired_from_council }
				hidden_tooltip = { letter_event = { id = council_plot.4 } }
				ROOT = {
					any_realm_character = {
						limit = { reverse_has_opinion_modifier = { who = PREVPREV modifier = opinion_council_sponsor } }
						remove_opinion = { who = ROOT modifier = opinion_approved_council_candidate }
						opinion = { who = ROOT modifier = opinion_replaced_council_candidate }
						hidden_tooltip = { character_event = { id = council_plot.5 } }
					}
				}
				if = {
					limit = { PREV = { has_plot = plot_replace_castellan } }	
					remove_title = job_castellan
					PREV = { give_job_title = job_castellan }
				}	
				if = {
					limit = { PREV = { has_plot = plot_replace_chancellor } }	
					remove_title = job_chancellor
					PREV = { give_job_title = job_chancellor }
				}
				if = {
					limit = { PREV = { has_plot = plot_replace_marshal } }		
					remove_title = job_marshal
					PREV = { give_job_title = job_marshal }
				}
				if = {
					limit = { PREV = { has_plot = plot_replace_treasurer } }		
					remove_title = job_treasurer
					PREV = { give_job_title = job_treasurer }
				}
				if = {
					limit = { PREV = { has_plot = plot_replace_spymaster } }		
					remove_title = job_spymaster
					PREV = { give_job_title = job_spymaster }
				}
				if = {
					limit = { PREV = { has_plot = plot_replace_councillor } }		
					if = {
						limit = { has_minor_title = title_councilmember_king }
						remove_title = title_councilmember_king
						PREV = { give_minor_title = title_councilmember_king }
					}
					if = {
						limit = { has_minor_title = title_councilmember_emperor }
						remove_title = title_councilmember_emperor
						PREV = { give_minor_title = title_councilmember_emperor }
					}
					if = {
						limit = { has_minor_title = title_high_admiral }
						remove_title = title_high_admiral
						PREV = { give_minor_title = title_high_admiral }
					}
					# if = {
						# limit = { has_minor_title = title_master_of_ships }
						# remove_title = title_master_of_ships
						# PREV = { give_minor_title = title_master_of_ships }
					# }
				}
			}
			hidden_tooltip = {
				if = {
					limit = { has_character_flag = triarch }
					give_minor_title = title_triarch 
				}	
			}
		}	
	}
}
#Inform Triarch fellow Triarch rejected
letter_event = {
	id = volantis.114
	desc = "EVTDESCvolantis.114" 
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAvolantis.114"
	}
}	
#Inform plotter fellow Triarch rejected
letter_event = {
	id = volantis.115
	desc = "EVTDESCvolantis.115" 
	
	is_triggered_only = yes
	show_from_from = yes
	
	trigger = { NOT = { character = FROMFROM } }
	
	option = {
		name = "EVTOPTAvolantis.115"
	}
}
#Inform plotter both triarchs are in on plot
character_event = {
	id = volantis.116
	desc = "EVTDESCvolantis.116" 
	picture = GFX_evt_council
	
	is_triggered_only = yes
	
	trigger = { 
		has_character_flag = council_plot_triarchs_support
		OR = {
			has_plot = plot_replace_castellan
			has_plot = plot_replace_chancellor
			has_plot = plot_replace_marshal
			has_plot = plot_replace_treasurer
			has_plot = plot_replace_spymaster
			has_plot = plot_replace_councillor
		}
	}
	
	option = {
		name = "EVTOPTAvolantis.113"
		activate_plot = yes
		clr_character_flag = council_plot_triarchs_support
		liege = { character_event = { id = volantis.113 tooltip = TOOLTIPvolantis.113 } }
		if = {
			limit = { has_plot = plot_replace_castellan }
			tooltip = { give_job_title = job_castellan }
		}
		if = {
			limit = { has_plot = plot_replace_chancellor }
			tooltip = { give_job_title = job_chancellor }
		}
		if = {
			limit = { has_plot = plot_replace_marshal }
			tooltip = { give_job_title = job_marshal }
		}
		if = {
			limit = { has_plot = plot_replace_treasurer }
			tooltip = { give_job_title = job_treasurer }
		}
		if = {
			limit = { has_plot = plot_replace_spymaster }
			tooltip = { give_job_title = job_spymaster }
		}
		if = {
			limit = { has_plot = plot_replace_councillor }
			tooltip = { give_minor_title = title_councilmember_king }
		}
	}
}
#Inform plotter no third Triarch
letter_event = {
	id = volantis.117
	desc = "EVTDESCvolantis.117" 
	
	is_triggered_only = yes
	
	option = {
		name = OK
	}
}
#Inform plotter human triarch refuses
character_event = {
	id = volantis.1179
	desc = "EVTDESCvolantis.1179" 
	picture = GFX_evt_whispers
	
	is_triggered_only = yes
	
	option = {
		name = OK
	}
}
###Elephant Party petitions building project###
character_event = {
	id = volantis.118
	desc = "EVTDESCvolantis.118" 
	picture = GFX_evt_busy_trading_dock_republic
	
	capable_only = yes
	prisoner = no

	trigger = {
		trait = elephant
		wealth = 300	
		OR = {
			AND = {
				has_minor_title = title_triarch
				any_liege = { 
					government = triarch_merchant_republic_government
					capital_holding = {
						holding_type = city
						OR = {
							NOT = { has_building = ct_wall_5 }
							NOT = { has_building = ct_marketplace_6 } 
							NOT = { has_building = ct_port_5 } 
						}	
					}
				}
			}
			AND = {
				government = triarch_merchant_republic_government
				capital_holding = {
					holding_type = city
					OR = {
						NOT = { has_building = ct_wall_5 }
						NOT = { has_building = ct_marketplace_6 } 
						NOT = { has_building = ct_port_5 } 
					}	
				}	
			}
		}		
	}
	
	mean_time_to_happen = { 
		years = 20
		modifier = {
			factor = 0.75
			wealth = 500
		}
		modifier = {
			factor = 0.75
			wealth = 750
		}
		modifier = {
			factor = 0.75
			wealth = 1000
		}
	}
	
	immediate = {
		any_liege = {
			limit = { government = triarch_merchant_republic_government }
			capital_holding = {
				if = {
					limit = { NOT = { has_building = ct_wall_5 } }
					random = { chance = 33 ROOT = { set_character_flag = ct_wall break = yes } }
				}
				if = {
					limit = { NOT = { has_building = ct_marketplace_6 } }
					random = { chance = 50 ROOT = { set_character_flag = ct_marketplace break = yes } }
				}
				if = {
					limit = { NOT = { has_building = ct_port_5 } }
					ROOT = { set_character_flag = ct_port break = yes }
				}
				if = {
					limit = { NOT = { has_building = ct_wall_5 } }
					ROOT = { set_character_flag = ct_wall break = yes }
				}
				if = {
					limit = { NOT = { has_building = ct_marketplace_6 } }
					ROOT = { set_character_flag = ct_marketplace break = yes }
				}
			}	
		}
		if = {
			limit = { government = triarch_merchant_republic_government }
			capital_holding = {
				if = {
					limit = { NOT = { has_building = ct_wall_5 } }
					random = { chance = 33 ROOT = { set_character_flag = ct_wall break = yes } }
				}
				if = {
					limit = { NOT = { has_building = ct_marketplace_6 } }
					random = { chance = 50 ROOT = { set_character_flag = ct_marketplace break = yes } }
				}
				if = {
					limit = { NOT = { has_building = ct_port_5 } }
					ROOT = { set_character_flag = ct_port break = yes }
				}
				if = {
					limit = { NOT = { has_building = ct_wall_5 } }
					ROOT = { set_character_flag = ct_wall break = yes }
				}
				if = {
					limit = { NOT = { has_building = ct_marketplace_6 } }
					ROOT = { set_character_flag = ct_marketplace break = yes }
				}
			}	
		}		
	}
	
	option = {
		name = "EVTOPTAvolantis.118" #Yes, fund it
		ai_chance = {
			factor = 75
			modifier = {
				factor = 3
				trait = diligent
			}
			modifier = {
				factor = 3
				trait = charitable
			}
			modifier = {
				factor = 2
				trait = humble
			}
			modifier = {
				factor = 2
				trait = ambitious
			}
			modifier = {
				factor = 2
				wealth = 900
			}
		}
		any_liege = {
			limit = { government = triarch_merchant_republic_government }
			hidden_tooltip = { character_event = { id = volantis.119 days = 1 } }
			tooltip = {
				capital_holding = {
					if = {
						limit = { ROOT = { has_character_flag = ct_wall } } 
						if = {
							limit = { 
								has_building = ct_wall_4
								NOT = { has_building = ct_wall_5 }
							} 
							add_building = ct_wall_5
							ROOT = { wealth = -180 }
						}
						if = {
							limit = { 
								has_building = ct_wall_3 
								NOT = { has_building = ct_wall_4 }
							} 
							add_building = ct_wall_4
							ROOT = { wealth = -120 }
						}
						if = {
							limit = { 
								has_building = ct_wall_2
								NOT = { has_building = ct_wall_3 }
							} 
							add_building = ct_wall_3
							ROOT = { wealth = -120 }
						}
						if = {
							limit = { 
								has_building = ct_wall_1 
								NOT = { has_building = ct_wall_2 }
							} 
							add_building = ct_wall_2
							ROOT = { wealth = -60 }
						}
						if = {
							limit = { NOT = { has_building = ct_wall_1 } }
							add_building = ct_wall_1
							ROOT = { wealth = -60 }
						}				
					}
					if = {
						limit = { ROOT = { has_character_flag = ct_marketplace } } 
						if = {
							limit = { 
								has_building = ct_marketplace_5
								NOT = { has_building = ct_marketplace_6 }
							} 
							add_building = ct_marketplace_5
							ROOT = { wealth = -550 }
						}
						if = {
							limit = { 
								has_building = ct_marketplace_4
								NOT = { has_building = ct_marketplace_5 }
							} 
							add_building = ct_marketplace_5
							ROOT = { wealth = -450 }
						}
						if = {
							limit = { 
								has_building = ct_marketplace_3 
								NOT = { has_building = ct_marketplace_4 }
							} 
							add_building = ct_marketplace_4
							ROOT = { wealth = -350 }
						}
						if = {
							limit = { 
								has_building = ct_marketplace_2
								NOT = { has_building = ct_marketplace_3 }
							} 
							add_building = ct_marketplace_3
							ROOT = { wealth = -240 }
						}
						if = {
							limit = { 
								has_building = ct_marketplace_1 
								NOT = { has_building = ct_marketplace_2 }
							} 
							add_building = ct_marketplace_2
							ROOT = { wealth = -144 }
						}
						if = {
							limit = { NOT = { has_building = ct_marketplace_1 } }
							add_building = ct_marketplace_1
							ROOT = { wealth = -120 }
						}				
					}
					if = {
						limit = { ROOT = { has_character_flag = ct_port } } 
						if = {
							limit = { 
								has_building = ct_port_4
								NOT = { has_building = ct_port_5 }
							} 
							add_building = ct_port_5
							ROOT = { wealth = -450 }
						}
						if = {
							limit = { 
								has_building = ct_port_3 
								NOT = { has_building = ct_port_4 }
							} 
							add_building = ct_port_4
							ROOT = { wealth = -350 }
						}
						if = {
							limit = { 
								has_building = ct_port_2
								NOT = { has_building = ct_port_3 }
							} 
							add_building = ct_port_3
							ROOT = { wealth = -240 }
						}
						if = {
							limit = { 
								has_building = ct_port_1 
								NOT = { has_building = ct_port_2 }
							} 
							add_building = ct_port_2
							ROOT = { wealth = -144 }
						}
						if = {
							limit = { NOT = { has_building = ct_port_1 } }
							add_building = ct_port_1
							ROOT = { wealth = -120 }
						}				
					}
				}
			}	
		}	
		if = {
			limit = { government = triarch_merchant_republic_government }
			capital_holding = {
				if = {
					limit = { ROOT = { has_character_flag = ct_wall } } 
					if = {
						limit = { 
							has_building = ct_wall_4
							NOT = { has_building = ct_wall_5 }
						} 
						add_building = ct_wall_5
						ROOT = { wealth = -180 }
					}
					if = {
						limit = { 
							has_building = ct_wall_3 
							NOT = { has_building = ct_wall_4 }
						} 
						add_building = ct_wall_4
						ROOT = { wealth = -120 }
					}
					if = {
						limit = { 
							has_building = ct_wall_2
							NOT = { has_building = ct_wall_3 }
						} 
						add_building = ct_wall_3
						ROOT = { wealth = -120 }
					}
					if = {
						limit = { 
							has_building = ct_wall_1 
							NOT = { has_building = ct_wall_2 }
						} 
						add_building = ct_wall_2
						ROOT = { wealth = -60 }
					}
					if = {
						limit = { NOT = { has_building = ct_wall_1 } }
						add_building = ct_wall_1
						ROOT = { wealth = -60 }
					}				
				}
				if = {
					limit = { ROOT = { has_character_flag = ct_marketplace } } 
					if = {
						limit = { 
							has_building = ct_marketplace_5
							NOT = { has_building = ct_marketplace_6 }
						} 
						add_building = ct_marketplace_5
						ROOT = { wealth = -550 }
					}
					if = {
						limit = { 
							has_building = ct_marketplace_4
							NOT = { has_building = ct_marketplace_5 }
						} 
						add_building = ct_marketplace_5
						ROOT = { wealth = -450 }
					}
					if = {
						limit = { 
							has_building = ct_marketplace_3 
							NOT = { has_building = ct_marketplace_4 }
						} 
						add_building = ct_marketplace_4
						ROOT = { wealth = -350 }
					}
					if = {
						limit = { 
							has_building = ct_marketplace_2
							NOT = { has_building = ct_marketplace_3 }
						} 
						add_building = ct_marketplace_3
						ROOT = { wealth = -240 }
					}
					if = {
						limit = { 
							has_building = ct_marketplace_1 
							NOT = { has_building = ct_marketplace_2 }
						} 
						add_building = ct_marketplace_2
						ROOT = { wealth = -144 }
					}
					if = {
						limit = { NOT = { has_building = ct_marketplace_1 } }
						add_building = ct_marketplace_1
						ROOT = { wealth = -120 }
					}				
				}
				if = {
					limit = { ROOT = { has_character_flag = ct_port } } 
					if = {
						limit = { 
							has_building = ct_port_4
							NOT = { has_building = ct_port_5 }
						} 
						add_building = ct_port_5
						ROOT = { wealth = -450 }
					}
					if = {
						limit = { 
							has_building = ct_port_3 
							NOT = { has_building = ct_port_4 }
						} 
						add_building = ct_port_4
						ROOT = { wealth = -350 }
					}
					if = {
						limit = { 
							has_building = ct_port_2
							NOT = { has_building = ct_port_3 }
						} 
						add_building = ct_port_3
						ROOT = { wealth = -240 }
					}
					if = {
						limit = { 
							has_building = ct_port_1 
							NOT = { has_building = ct_port_2 }
						} 
						add_building = ct_port_2
						ROOT = { wealth = -144 }
					}
					if = {
						limit = { NOT = { has_building = ct_port_1 } }
						add_building = ct_port_1
						ROOT = { wealth = -120 }
					}				
				}
			}
			clr_character_flag = ct_wall
			clr_character_flag = ct_marketplace
			clr_character_flag = ct_port
		}	
		prestige = 50	
	}
	option = {
		name = "EVTOPTBvolantis.118" #No
		ai_chance = {
			factor = 25
			modifier = {
				factor = 3
				trait = slothful
			}
			modifier = {
				factor = 3
				trait = greedy
			}
			modifier = {
				factor = 2
				trait = proud
			}
			modifier = {
				factor = 2
				trait = content
			}
		}
		prestige = -100
		custom_tooltip = {
			text = TOOLTIPELEPHANTSUNHAPPY
			hidden_tooltip = {
				any_liege = {
					limit = { is_merchant_republic = yes }
					if = {
						limit = { trait = elephant }
						opinion = { who = ROOT modifier = opinion_no_fund_project }
					}
					any_realm_character = {
						limit = { trait = elephant }
						opinion = { who = ROOT modifier = opinion_no_fund_project }
					}
				}
				if = {
					limit = { is_merchant_republic = yes }
					any_realm_character = {
						limit = { trait = elephant }
						opinion = { who = ROOT modifier = opinion_no_fund_project }
					}
				}
			}
		}	
		clr_character_flag = ct_wall
		clr_character_flag = ct_marketplace
		clr_character_flag = ct_port
	}
}
#Inform main Triarch
character_event = {
	id = volantis.119
	desc = "EVTDESCvolantis.119" 
	picture = GFX_evt_busy_trading_dock_republic
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAvolantis.119"
		capital_holding = {
			if = {
				limit = { FROM = { has_character_flag = ct_wall } } 
				if = {
					limit = { 
						has_building = ct_wall_4
						NOT = { has_building = ct_wall_5 }
					} 
					add_building = ct_wall_5
					FROM = { wealth = -180 }
				}
				if = {
					limit = { 
						has_building = ct_wall_3 
						NOT = { has_building = ct_wall_4 }
					} 
					add_building = ct_wall_4
					FROM = { wealth = -120 }
				}
				if = {
					limit = { 
						has_building = ct_wall_2
						NOT = { has_building = ct_wall_3 }
					} 
					add_building = ct_wall_3
					FROM = { wealth = -120 }
				}
				if = {
					limit = { 
						has_building = ct_wall_1 
						NOT = { has_building = ct_wall_2 }
					} 
					add_building = ct_wall_2
					FROM = { wealth = -60 }
				}
				if = {
					limit = { NOT = { has_building = ct_wall_1 } }
					add_building = ct_wall_1
					FROM = { wealth = -60 }
				}				
			}
			if = {
				limit = { FROM = { has_character_flag = ct_marketplace } } 
				if = {
					limit = { 
						has_building = ct_marketplace_5
						NOT = { has_building = ct_marketplace_6 }
					} 
					add_building = ct_marketplace_5
					FROM = { wealth = -550 }
				}
				if = {
					limit = { 
						has_building = ct_marketplace_4
						NOT = { has_building = ct_marketplace_5 }
					} 
					add_building = ct_marketplace_5
					FROM = { wealth = -450 }
				}
				if = {
					limit = { 
						has_building = ct_marketplace_3 
						NOT = { has_building = ct_marketplace_4 }
					} 
					add_building = ct_marketplace_4
					FROM = { wealth = -350 }
				}
				if = {
					limit = { 
						has_building = ct_marketplace_2
						NOT = { has_building = ct_marketplace_3 }
					} 
					add_building = ct_marketplace_3
					FROM = { wealth = -240 }
				}
				if = {
					limit = { 
						has_building = ct_marketplace_1 
						NOT = { has_building = ct_marketplace_2 }
					} 
					add_building = ct_marketplace_2
					FROM = { wealth = -144 }
				}
				if = {
					limit = { NOT = { has_building = ct_marketplace_1 } }
					add_building = ct_marketplace_1
					FROM = { wealth = -120 }
				}				
			}
			if = {
				limit = { FROM = { has_character_flag = ct_port } } 
				if = {
					limit = { 
						has_building = ct_port_4
						NOT = { has_building = ct_port_5 }
					} 
					add_building = ct_port_5
					FROM = { wealth = -450 }
				}
				if = {
					limit = { 
						has_building = ct_port_3 
						NOT = { has_building = ct_port_4 }
					} 
					add_building = ct_port_4
					FROM = { wealth = -350 }
				}
				if = {
					limit = { 
						has_building = ct_port_2
						NOT = { has_building = ct_port_3 }
					} 
					add_building = ct_port_3
					FROM = { wealth = -240 }
				}
				if = {
					limit = { 
						has_building = ct_port_1 
						NOT = { has_building = ct_port_2 }
					} 
					add_building = ct_port_2
					FROM = { wealth = -144 }
				}
				if = {
					limit = { NOT = { has_building = ct_port_1 } }
					add_building = ct_port_1
					FROM = { wealth = -120 }
				}				
			}
		}
		FROM = {
			clr_character_flag = ct_wall
			clr_character_flag = ct_marketplace
			clr_character_flag = ct_port
		}
	}
}	
###Tiger Party petitions building project###
character_event = {
	id = volantis.120
	desc = "EVTDESCvolantis.120" 
	picture = GFX_evt_siege
	
	capable_only = yes
	prisoner = no

	trigger = {
		trait = tiger
		wealth = 300
		OR = {
			AND = {
				has_minor_title = title_triarch
				any_liege = { 
					government = triarch_merchant_republic_government
					capital_holding = {
						holding_type = city
						OR = {
							NOT = { has_building = ct_wall_q_5 }
							NOT = { has_building = ct_training_grounds_5 } 
							NOT = { has_building = ct_barracks_6 } 
						}	
					}
				}
			}
			AND = {
				government = triarch_merchant_republic_government 
				capital_holding = {
					holding_type = city
					OR = {
						NOT = { has_building = ct_wall_q_5 }
						NOT = { has_building = ct_training_grounds_5 } 
						NOT = { has_building = ct_barracks_6 } 
					}
				}
			}
		}	
	}
	
	mean_time_to_happen = { 
		years = 20
		modifier = {
			factor = 0.75
			wealth = 500
		}
		modifier = {
			factor = 0.75
			wealth = 750
		}
		modifier = {
			factor = 0.75
			wealth = 1000
		}
	}
	
	immediate = {
		any_liege = {
			limit = { government = triarch_merchant_republic_government }
			capital_holding = {
				if = {
					limit = { NOT = { has_building = ct_wall_q_5 } }
					random = { chance = 33 ROOT = { set_character_flag = ct_wall_q break = yes } }
				}
				if = {
					limit = { NOT = { has_building = ct_training_grounds_5 } }
					random = { chance = 50 ROOT = { set_character_flag = ct_training_grounds break = yes } }
				}
				if = {
					limit = { NOT = { has_building = ct_barracks_6 } }
					ROOT = { set_character_flag = ct_barracks break = yes }
				}
				if = {
					limit = { NOT = { has_building = ct_wall_q_5 } }
					ROOT = { set_character_flag = ct_wall_q break = yes }
				}
				if = {
					limit = { NOT = { has_building = ct_training_grounds_5 } }
					ROOT = { set_character_flag = ct_training_grounds break = yes }
				}
			}	
		}	
		if = {
			limit = { government = triarch_merchant_republic_government }
			capital_holding = {
				if = {
					limit = { NOT = { has_building = ct_wall_q_5 } }
					random = { chance = 33 ROOT = { set_character_flag = ct_wall_q break = yes } }
				}
				if = {
					limit = { NOT = { has_building = ct_training_grounds_5 } }
					random = { chance = 50 ROOT = { set_character_flag = ct_training_grounds break = yes } }
				}
				if = {
					limit = { NOT = { has_building = ct_barracks_6 } }
					ROOT = { set_character_flag = ct_barracks break = yes }
				}
				if = {
					limit = { NOT = { has_building = ct_wall_q_5 } }
					ROOT = { set_character_flag = ct_wall_q break = yes }
				}
				if = {
					limit = { NOT = { has_building = ct_training_grounds_5 } }
					ROOT = { set_character_flag = ct_training_grounds break = yes }
				}
			}	
		}	
	}
	
	option = {
		name = "EVTOPTAvolantis.118" #Yes, fund it
		ai_chance = {
			factor = 75
			modifier = {
				factor = 3
				trait = diligent
			}
			modifier = {
				factor = 3
				trait = charitable
			}
			modifier = {
				factor = 2
				trait = humble
			}
			modifier = {
				factor = 2
				trait = ambitious
			}
			modifier = {
				factor = 2
				wealth = 900
			}
		}
		any_liege = {
			limit = { government = triarch_merchant_republic_government }
			hidden_tooltip = { character_event = { id = volantis.121 days = 1 } }
			tooltip = {
				capital_holding = {
					if = {
						limit = { ROOT = { has_character_flag = ct_wall_q } } 
						if = {
							limit = { 
								has_building = ct_wall_q_4
								NOT = { has_building = ct_wall_q_5 }
							} 
							add_building = ct_wall_q_5
							ROOT = { wealth = -120 }
						}
						if = {
							limit = { 
								has_building = ct_wall_q_3 
								NOT = { has_building = ct_wall_q_4 }
							} 
							add_building = ct_wall_q_4
							ROOT = { wealth = -120 }
						}
						if = {
							limit = { 
								has_building = ct_wall_q_2
								NOT = { has_building = ct_wall_q_3 }
							} 
							add_building = ct_wall_q_3
							ROOT = { wealth = -60 }
						}
						if = {
							limit = { 
								has_building = ct_wall_q_1 
								NOT = { has_building = ct_wall_q_2 }
							} 
							add_building = ct_wall_q_2
							ROOT = { wealth = -60 }
						}
						if = {
							limit = { NOT = { has_building = ct_wall_q_1 } }
							add_building = ct_wall_q_1
							ROOT = { wealth = -60 }
						}				
					}
					if = {
						limit = { ROOT = { has_character_flag = ct_training_grounds } } 
						if = {
							limit = { 
								has_building = ct_training_grounds_4
								NOT = { has_building = ct_training_grounds_5 }
							} 
							add_building = ct_training_grounds_5
							ROOT = { wealth = -550 }
						}
						if = {
							limit = { 
								has_building = ct_training_grounds_3 
								NOT = { has_building = ct_training_grounds_4 }
							} 
							add_building = ct_training_grounds_4
							ROOT = { wealth = -450 }
						}
						if = {
							limit = { 
								has_building = ct_training_grounds_2
								NOT = { has_building = ct_training_grounds_3 }
							} 
							add_building = ct_training_grounds_3
							ROOT = { wealth = -350 }
						}
						if = {
							limit = { 
								has_building = ct_training_grounds_1 
								NOT = { has_building = ct_training_grounds_2 }
							} 
							add_building = ct_training_grounds_2
							ROOT = { wealth = -240 }
						}
						if = {
							limit = { NOT = { has_building = ct_training_grounds_1 } }
							add_building = ct_training_grounds_1
							ROOT = { wealth = -180 }
						}				
					}
					if = {
						limit = { ROOT = { has_character_flag = ct_barracks } }
						if = {
							limit = { 
								has_building = ct_barracks_5
								NOT = { has_building = ct_barracks_6 }
							} 
							add_building = ct_barracks_6
							ROOT = { wealth = -550 }
						}					
						if = {
							limit = { 
								has_building = ct_barracks_4
								NOT = { has_building = ct_barracks_5 }
							} 
							add_building = ct_barracks_5
							ROOT = { wealth = -450 }
						}
						if = {
							limit = { 
								has_building = ct_barracks_3 
								NOT = { has_building = ct_barracks_4 }
							} 
							add_building = ct_barracks_4
							ROOT = { wealth = -350 }
						}
						if = {
							limit = { 
								has_building = ct_barracks_2
								NOT = { has_building = ct_barracks_3 }
							} 
							add_building = ct_barracks_3
							ROOT = { wealth = -240 }
						}
						if = {
							limit = { 
								has_building = ct_barracks_1 
								NOT = { has_building = ct_barracks_2 }
							} 
							add_building = ct_barracks_2
							ROOT = { wealth = -144 }
						}
						if = {
							limit = { NOT = { has_building = ct_barracks_1 } }
							add_building = ct_barracks_1
							ROOT = { wealth = -120 }
						}				
					}
				}
			}	
		}	
		if = {
			limit = { government = triarch_merchant_republic_government }
			capital_holding = {
				if = {
					limit = { ROOT = { has_character_flag = ct_wall_q } } 
					if = {
						limit = { 
							has_building = ct_wall_q_4
							NOT = { has_building = ct_wall_q_5 }
						} 
						add_building = ct_wall_q_5
						ROOT = { wealth = -120 }
					}
					if = {
						limit = { 
							has_building = ct_wall_q_3 
							NOT = { has_building = ct_wall_q_4 }
						} 
						add_building = ct_wall_q_4
						ROOT = { wealth = -120 }
					}
					if = {
						limit = { 
							has_building = ct_wall_q_2
							NOT = { has_building = ct_wall_q_3 }
						} 
						add_building = ct_wall_q_3
						ROOT = { wealth = -60 }
					}
					if = {
						limit = { 
							has_building = ct_wall_q_1 
							NOT = { has_building = ct_wall_q_2 }
						} 
						add_building = ct_wall_q_2
						ROOT = { wealth = -60 }
					}
					if = {
						limit = { NOT = { has_building = ct_wall_q_1 } }
						add_building = ct_wall_q_1
						ROOT = { wealth = -60 }
					}				
				}
				if = {
					limit = { ROOT = { has_character_flag = ct_training_grounds } } 
					if = {
						limit = { 
							has_building = ct_training_grounds_4
							NOT = { has_building = ct_training_grounds_5 }
						} 
						add_building = ct_training_grounds_5
						ROOT = { wealth = -550 }
					}
					if = {
						limit = { 
							has_building = ct_training_grounds_3 
							NOT = { has_building = ct_training_grounds_4 }
						} 
						add_building = ct_training_grounds_4
						ROOT = { wealth = -450 }
					}
					if = {
						limit = { 
							has_building = ct_training_grounds_2
							NOT = { has_building = ct_training_grounds_3 }
						} 
						add_building = ct_training_grounds_3
						ROOT = { wealth = -350 }
					}
					if = {
						limit = { 
							has_building = ct_training_grounds_1 
							NOT = { has_building = ct_training_grounds_2 }
						} 
						add_building = ct_training_grounds_2
						ROOT = { wealth = -240 }
					}
					if = {
						limit = { NOT = { has_building = ct_training_grounds_1 } }
						add_building = ct_training_grounds_1
						ROOT = { wealth = -180 }
					}				
				}
				if = {
					limit = { ROOT = { has_character_flag = ct_barracks } }
					if = {
						limit = { 
							has_building = ct_barracks_5
							NOT = { has_building = ct_barracks_6 }
						} 
						add_building = ct_barracks_6
						ROOT = { wealth = -550 }
					}					
					if = {
						limit = { 
							has_building = ct_barracks_4
							NOT = { has_building = ct_barracks_5 }
						} 
						add_building = ct_barracks_5
						ROOT = { wealth = -450 }
					}
					if = {
						limit = { 
							has_building = ct_barracks_3 
							NOT = { has_building = ct_barracks_4 }
						} 
						add_building = ct_barracks_4
						ROOT = { wealth = -350 }
					}
					if = {
						limit = { 
							has_building = ct_barracks_2
							NOT = { has_building = ct_barracks_3 }
						} 
						add_building = ct_barracks_3
						ROOT = { wealth = -240 }
					}
					if = {
						limit = { 
							has_building = ct_barracks_1 
							NOT = { has_building = ct_barracks_2 }
						} 
						add_building = ct_barracks_2
						ROOT = { wealth = -144 }
					}
					if = {
						limit = { NOT = { has_building = ct_barracks_1 } }
						add_building = ct_barracks_1
						ROOT = { wealth = -120 }
					}				
				}
			}	
			clr_character_flag = ct_wall_q
			clr_character_flag = ct_training_grounds
			clr_character_flag = ct_barracks
		}	
		prestige = 50
	}
	option = {
		name = "EVTOPTBvolantis.118" #No
		ai_chance = {
			factor = 25
			modifier = {
				factor = 3
				trait = slothful
			}
			modifier = {
				factor = 3
				trait = greedy
			}
			modifier = {
				factor = 2
				trait = proud
			}
			modifier = {
				factor = 2
				trait = content
			}
		}
		prestige = -100
		custom_tooltip = {
			text = TOOLTIPTIGERSUNHAPPY
			hidden_tooltip = {
				any_liege = {
					limit = { is_merchant_republic = yes }
					if = {
						limit = { trait = tiger }
						opinion = { who = ROOT modifier = opinion_no_fund_project }
					}
					any_realm_character = {
						limit = { trait = tiger }
						opinion = { who = ROOT modifier = opinion_no_fund_project }
					}
				}
				if = {
					limit = { is_merchant_republic = yes }
					any_realm_character = {
						limit = { trait = tiger }
						opinion = { who = ROOT modifier = opinion_no_fund_project }
					}
				}
			}
		}	
		clr_character_flag = ct_wall_q
		clr_character_flag = ct_training_grounds
		clr_character_flag = ct_barracks
	}
}
#Inform main Triarch
character_event = {
	id = volantis.121
	desc = "EVTDESCvolantis.121" 
	picture = GFX_evt_siege
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAvolantis.119"
		capital_holding = {
			if = {
				limit = { FROM = { has_character_flag = ct_wall_q } } 
				if = {
					limit = { 
						has_building = ct_wall_q_4
						NOT = { has_building = ct_wall_q_5 }
					} 
					add_building = ct_wall_q_5
					FROM = { wealth = -120 }
				}
				if = {
					limit = { 
						has_building = ct_wall_q_3 
						NOT = { has_building = ct_wall_q_4 }
					} 
					add_building = ct_wall_q_4
					FROM = { wealth = -120 }
				}
				if = {
					limit = { 
						has_building = ct_wall_q_2
						NOT = { has_building = ct_wall_q_3 }
					} 
					add_building = ct_wall_q_3
					FROM = { wealth = -60 }
				}
				if = {
					limit = { 
						has_building = ct_wall_q_1 
						NOT = { has_building = ct_wall_q_2 }
					} 
					add_building = ct_wall_q_2
					FROM = { wealth = -60 }
				}
				if = {
					limit = { NOT = { has_building = ct_wall_q_1 } }
					add_building = ct_wall_q_1
					FROM = { wealth = -60 }
				}				
			}
			if = {
				limit = { FROM = { has_character_flag = ct_training_grounds } } 
				if = {
					limit = { 
						has_building = ct_training_grounds_4
						NOT = { has_building = ct_training_grounds_5 }
					} 
					add_building = ct_training_grounds_5
					FROM = { wealth = -550 }
				}
				if = {
					limit = { 
						has_building = ct_training_grounds_3 
						NOT = { has_building = ct_training_grounds_4 }
					} 
					add_building = ct_training_grounds_4
					FROM = { wealth = -450 }
				}
				if = {
					limit = { 
						has_building = ct_training_grounds_2
						NOT = { has_building = ct_training_grounds_3 }
					} 
					add_building = ct_training_grounds_3
					FROM = { wealth = -350 }
				}
				if = {
					limit = { 
						has_building = ct_training_grounds_1 
						NOT = { has_building = ct_training_grounds_2 }
					} 
					add_building = ct_training_grounds_2
					FROM = { wealth = -240 }
				}
				if = {
					limit = { NOT = { has_building = ct_training_grounds_1 } }
					add_building = ct_training_grounds_1
					FROM = { wealth = -180 }
				}				
			}
			if = {
				limit = { FROM = { has_character_flag = ct_barracks } }
				if = {
					limit = { 
						has_building = ct_barracks_5
						NOT = { has_building = ct_barracks_6 }
					} 
					add_building = ct_barracks_5
					FROM = { wealth = -550 }
				}					
				if = {
					limit = { 
						has_building = ct_barracks_4
						NOT = { has_building = ct_barracks_5 }
					} 
					add_building = ct_barracks_5
					FROM = { wealth = -450 }
				}
				if = {
					limit = { 
						has_building = ct_barracks_3 
						NOT = { has_building = ct_barracks_4 }
					} 
					add_building = ct_barracks_4
					FROM = { wealth = -350 }
				}
				if = {
					limit = { 
						has_building = ct_barracks_2
						NOT = { has_building = ct_barracks_3 }
					} 
					add_building = ct_barracks_3
					FROM = { wealth = -240 }
				}
				if = {
					limit = { 
						has_building = ct_barracks_1 
						NOT = { has_building = ct_barracks_2 }
					} 
					add_building = ct_barracks_2
					FROM = { wealth = -144 }
				}
				if = {
					limit = { NOT = { has_building = ct_barracks_1 } }
					add_building = ct_barracks_1
					FROM = { wealth = -120 }
				}				
			}
		}
		FROM = {
			clr_character_flag = ct_wall_q
			clr_character_flag = ct_training_grounds
			clr_character_flag = ct_barracks
		}
	}
}	
###Elephant Party Sieze Trade Post###
### Seize Trade Post Plot

# Decision Fired
character_event = {
	id = volantis.122
	desc=EVTDESCvolantis.122
	picture = GFX_evt_trade_post_republic
	
	hide_from = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { has_character_flag = triarch }
			give_minor_title = title_triarch
		}
	}
	
	option = {
		name = EVTOPTA_volantis.122
		trigger = {
			NOT = { plot_power = 1.0 }
			NOT = { has_character_flag = triarch }
			NOT = { is_merchant_republic = yes }
		}
		hidden_tooltip = {
			plot_target_char = {
				character_event = { id = REP.302 days = 5 }
			}
		}
		wealth = -100
		custom_tooltip = { text = EVTOPTA_REP_300_tooltip }
	}
	option = {
		name = EVTOPTA_volantis.122
		trigger = {
			OR = {
				has_character_flag = triarch
				is_merchant_republic = yes
				plot_power = 1.0
				any_plot_backer = {
					trait = elephant 
					has_character_flag = triarch	
				}
			}	
		}
		hidden_tooltip = {
			plot_target_char = {
				character_event = { id = REP.308 days = 5 }
			}
		}
		wealth = -50
		custom_tooltip = { text = EVTOPTB_REP_300_tooltip }
	}
	option = {
		name = EVTOPTD_REP_300
		custom_tooltip = { text = EVTOPTD_REP_300_tooltip }
		cancel_plot = plot_seize_trade_post
		clr_character_flag = plot_seize_trade_post_decision_taken
	}
}

### Show me the Triarchs ###
character_event = {
	id = volantis.123
	desc=EVTDESCvolantis.123
	picture = GFX_evt_volantis
	
	hide_from = yes
	
	is_triggered_only = yes
	
	immediate = { #also count party membership
		set_variable = { which = tiger_count value = 0 }	
		top_liege = {
			if = {
				limit = { trait = tiger }
				ROOT = { change_variable = { which = tiger_count value = 1 } }
			}		
			any_realm_character = {
				limit = { trait = tiger }
				ROOT = { change_variable = { which = tiger_count value = 1 } }
			}
		}
		set_variable = { which = elephant_count value = 0 }
		top_liege = {
			if = {
				limit = { trait = elephant }
				ROOT = { change_variable = { which = elephant_count value = 1 } }
			}
			any_realm_character = {
				limit = { trait = elephant }
				ROOT = { change_variable = { which = elephant_count value = 1 } }
			}
		}
		#Total
		set_variable = { which = total_electorate which = tiger_count }
		change_variable = { which = total_electorate which = elephant_count }
	}
	
	option = {
		name = OK
		if = {
			limit = { is_merchant_republic = yes }
			tooltip = { }
			custom_tooltip = { text = TOOLTIPvolantis.123 }
			if = {
				limit = { trait = tiger }
				custom_tooltip = { text = TOOLTIPvolantis.123TIGER }
			}
			if = {
				limit = { trait = elephant }
				custom_tooltip = { text = TOOLTIPvolantis.123ELEPHANT }
			}
			any_realm_character = {
				limit = { 
					has_character_flag = triarch 
					NOT = { character = PREV }
				}
				tooltip = { }
				hidden_tooltip = { 
					prestige = 5 
					prestige = -5
				}
				custom_tooltip = { text = TOOLTIPvolantis.123 }
				if = {
					limit = { trait = tiger }
					custom_tooltip = { text = TOOLTIPvolantis.123TIGER }
				}
				if = {
					limit = { trait = elephant }
					custom_tooltip = { text = TOOLTIPvolantis.123ELEPHANT }
				}
			}
		}	
		if = {
			limit = { is_merchant_republic = no }
			if = {
				limit = { 
					has_character_flag = triarch 
				}
				tooltip = { }
				custom_tooltip = { text = TOOLTIPvolantis.123 }
				if = {
					limit = { trait = tiger }
					custom_tooltip = { text = TOOLTIPvolantis.123TIGER }
				}
				if = {
					limit = { trait = elephant }
					custom_tooltip = { text = TOOLTIPvolantis.123ELEPHANT }
				}
			}
			any_liege = {
				limit = { is_merchant_republic = yes }
				tooltip = { }
				custom_tooltip = { text = TOOLTIPvolantis.123 }
				if = {
					limit = { trait = tiger }
					custom_tooltip = { text = TOOLTIPvolantis.123TIGER }
				}
				if = {
					limit = { trait = elephant }
					custom_tooltip = { text = TOOLTIPvolantis.123ELEPHANT }
				}
				any_realm_character = {
					limit = { 
						has_character_flag = triarch 
						NOT = { character = PREV }
						NOT = { character = ROOT }
					}
					tooltip = { }
					hidden_tooltip = { 
						prestige = 5 
						prestige = -5
					}
					custom_tooltip = { text = TOOLTIPvolantis.123 }
					if = {
						limit = { trait = tiger }
						custom_tooltip = { text = TOOLTIPvolantis.123TIGER }
					}
					if = {
						limit = { trait = elephant }
						custom_tooltip = { text = TOOLTIPvolantis.123ELEPHANT }
					}
				}
			}			
		}
		custom_tooltip = { text = TOOLTIPvolantis.123ELECTORATE }
	}
	
	after = {
		hidden_tooltip = {
			set_variable = { which = tiger_count value = 0 }	
			set_variable = { which = elephant_count value = 0 }	
			set_variable = { which = total_electorate value = 0 }	
		}	
	}
}
##New Primary Triarch Elected
character_event = {
	id = volantis.124
	
	is_triggered_only = yes
	hide_window = yes
	
	immediate = {
		prestige = 80000
		FROM = { 
			any_vassal = { #mark vassals before handover
				limit = { is_patrician = no }
				set_character_flag = check_vassal
			}
			# capital_scope = { set_province_flag = republic_capital }
			hold_election = yes	
		}
		#make sure kingdom is transferred
		if = {
			limit = { tier = EMPEROR }
			capital_scope = {
				kingdom = {
					if = {
						limit = { holder = FROM }
						gain_title = ROOT
					}
				}
			}
		}	
		
		#Return any vassals in dejure realm
		any_vassal = {
			limit = {
				has_character_flag = check_vassal
				is_patrician = no
				lower_tier_than = FROM
				primary_title = {
					OR = {
						has_de_jure_pretension = FROM
						dejure_liege_title = { has_de_jure_pretension = FROM }
						dejure_liege_title = { dejure_liege_title = { has_de_jure_pretension = FROM } }
					}
				}
			}
			clr_character_flag = check_vassal
			set_defacto_liege = FROM
		}
		FROM = { #check barons
			any_demesne_title = {
				limit = { tier = COUNT }
				any_direct_de_jure_vassal_title = {
					holder_scope = {
						if = {
							limit = {
								has_character_flag = check_vassal
								tier = BARON
								is_patrician = no
								liege = { character = ROOT }
							}
							clr_character_flag = check_vassal
							set_defacto_liege = ROOT_FROM
						}
					}
				}
			}
		}	
		any_vassal = {
			clr_character_flag = check_vassal
		}
		FROM = {
			any_vassal = {
				clr_character_flag = check_vassal
			}
		}
		# random_demesne_title = {
			# limit = {
				# tier = BARON
				# holding_type = city
				# location = { has_province_flag = republic_capital }
			# }
			# ROOT = { capital = PREV }
			# location = { clr_province_flag = republic_capital }
		# }
		# any_independent_ruler = {
			# limit = { has_character_flag = broke_vassal }
			# set_defacto_liege = ROOT
		# }
		# any_realm_lord = { clr_character_flag = broke_vassal }
		
		
		prestige = -80000
		clr_character_flag = volantene_election
		set_character_flag = volantene_election
		FROM = { clr_character_flag = volantene_election }
		add_character_modifier = {
			name = elected_triarch_1
			duration = 1460
		}
		character_event = { id = volantis.253 days = 1460 } #change elect triarch modifier
	}
	
	option = {
		name = "OK"
	}
}

# You commission a statue
character_event = {
	id = volantis.500
	desc="EVTDESCvolantis.500"
	picture = "GFX_evt_volantis_2"
	border = "GFX_event_normal_frame_diplomacy"
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = { # Based on one of your traits
		name = EVTOPTA_volantis_500
		trigger = {
			OR = {
				AND = {
					has_minor_title = title_triarch
					any_liege = { government = triarch_merchant_republic_government }
				}
				government = triarch_merchant_republic_government
			}	
		}
		hidden_tooltip = { 
			character_event = { id = volantis.501 }
		}
		custom_tooltip = { text = statue_traits }
	}
	option = { # In memory of father
		name = EVTOPTB_volantis_500
		trigger = {
			father_even_if_dead = {
				is_alive = no
				primary_title = { 
					is_primary_holder_title = yes
					holder_scope = { is_merchant_republic = yes } 
				}
				NOT = { trait = triarch_statue }
			}
		}
		if = {
			limit = { father_even_if_dead = { death_reason = death_natural } }
			hidden_tooltip = { character_event = { id = volantis.510 days = 60 random = 10 } }
		}
		if = {
			limit = { father_even_if_dead = { death_reason = death_battle } }
			hidden_tooltip = { character_event = { id = volantis.511 days = 60 random = 10 } }
		}
		if = {
			limit = { 
				father_even_if_dead = {
					death_reason = death_execution 
					NOT = { killer = { character = ROOT } }
				} 
			}
			hidden_tooltip = { character_event = { id = volantis.512 days = 60 random = 10 } }
		}
		if = {
			limit = { 
				father_even_if_dead = { 
					death_reason = death_murder
					NOT = { killer = { character = ROOT } }
				}
			}
			hidden_tooltip = { character_event = { id = volantis.513 days = 60 random = 10 } }
		}
		if = {
			limit = { 
				father_even_if_dead = { 
					OR = {
						death_reason = death_accident 
						death_reason = death_murder_unknown
					} 
				}
			}
			hidden_tooltip = { character_event = { id = volantis.515 days = 60 random = 10 } }
		}
		if = {
			limit = { 
				father_even_if_dead = {
					death_reason = death_dungeon
					NOT = { killer = { character = ROOT } }
				} 
			}
			hidden_tooltip = { character_event = { id = volantis.516 days = 60 random = 10 } }
		}
		if = {
			limit = { 
				father_even_if_dead = {
					death_reason = death_sacrificed
					NOT = { killer = { character = ROOT } }
				} 
			}
			hidden_tooltip = { character_event = { id = volantis.517 days = 60 random = 10 } }
		}
		if = {
			limit = { father_even_if_dead = { death_reason = death_duel } }
			hidden_tooltip = { character_event = { id = volantis.518 days = 60 random = 10 } }
		}
		if = {
			limit = { father_even_if_dead = { death_reason = death_suicide } }
			hidden_tooltip = { character_event = { id = volantis.519 days = 60 random = 10 } }
		}
		if = {
			limit = { 
				father_even_if_dead = { 
					OR = {
						and = {
							death_reason = death_murder
							killer = { character = ROOT }
						}
						and = {
							death_reason = death_execution 
							killer = { character = ROOT }
						}
						and = {
							death_reason = death_dungeon 
							killer = { character = ROOT }
						}
						and = {
							death_reason = death_sacrificed
							killer = { character = ROOT }
						}
					}
				} 
			}
			hidden_tooltip = { character_event = { id = volantis.520 days = 60 random = 10 } }
		}
		if = {
			limit = {
				NOT = {
					father_even_if_dead = {
						OR = {
							death_reason = death_natural
							death_reason = death_battle
							death_reason = death_execution
							death_reason = death_murder
							death_reason = death_murder_unknown
							death_reason = death_accident
							death_reason = death_dungeon
							death_reason = death_sacrificed
							death_reason = death_duel
							death_reason = death_suicide
						}
					}
				}
			}
			hidden_tooltip = { character_event = { id = volantis.521 days = 60 random = 10 } }
		}
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = NEVERMIND
		trigger = {
			ai = no	
		}
		wealth = 150
		clr_character_flag = commissioned_triarch_statue
	}
}

# Based on one of your traits
character_event = {
	id = volantis.501
	desc=EVTDESCvolantis.501
	picture = GFX_evt_volantis_2
	border = GFX_event_normal_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = { # Generic
		name = EVTOPTA_volantis_501
		trigger = {
			NOT = {
				OR = {
					trait = lunatic
					trait = drunkard
					#trait = fair
					AND = {
						is_merchant_republic = yes
						primary_title = { has_law = republic_triarch_for_life }
					}
					trait = dwarf
					trait = genius			
					#trait = imbecile
					is_strong_trigger = yes
					trait = scholar
					trait = impaler
					trait = poet
					trait = lustful
					trait = gluttonous
					trait = charitable
					trait = kind
					trait = proud
					trait = humble
					trait = brave
					trait = just
					trait = zealous
					trait = cruel
					#trait = possessed
				}	
			}
		}
		hidden_tooltip = { character_event = { id = volantis.550 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTB_volantis_501
		tooltip_info = lunatic
		trigger = {
			trait = lunatic
		}
		hidden_tooltip = { character_event = { id = volantis.551 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTC_volantis_501
		tooltip_info = drunkard
		trigger = {
			trait = drunkard
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.552 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTD_volantis_501
		#tooltip_info = fair
		trigger = {
			is_merchant_republic = yes
			primary_title = { has_law = republic_triarch_for_life }
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.553 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTE_volantis_501
		tooltip_info = dwarf
		trigger = {
			trait = dwarf
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.554 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTF_volantis_501
		tooltip_info = genius
		trigger = {
			trait = genius
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.555 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	# option = {
		# name = EVTOPTI_volantis_501
		# tooltip_info = imbecile
		# trigger = {
			# trait = imbecile
			# NOT = { trait = lunatic }
		# }
		# hidden_tooltip = { character_event = { id = volantis.556 days = 60 random = 10 } }
		# custom_tooltip = { text = statue_raised }
	# }
	option = {
		name = EVTOPTJ_volantis_501
		tooltip_info = strong
		trigger = {
			is_strong_trigger = yes
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.557 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTK_volantis_501
		tooltip_info = scholar
		trigger = {
			trait = scholar
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.558 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTL_volantis_501
		tooltip_info = impaler
		trigger = {
			trait = impaler
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.559 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTM_volantis_501
		tooltip_info = poet
		trigger = {
			trait = poet
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.560 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTN_volantis_501
		tooltip_info = lustful
		trigger = {
			trait = lustful
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.561 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTO_volantis_501
		tooltip_info = gluttonous
		trigger = {
			trait = gluttonous
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.562 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTP_volantis_501
		tooltip_info = charitable
		trigger = {
			trait = charitable
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.563 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTQ_volantis_501
		tooltip_info = kind
		trigger = {
			trait = kind
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.564 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTR_volantis_501
		tooltip_info = proud
		trigger = {
			trait = proud
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.565 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTS_volantis_501
		tooltip_info = humble
		trigger = {
			trait = humble
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.566 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTT_volantis_501
		tooltip_info = brave
		trigger = {
			trait = brave
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.567 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTU_volantis_501
		tooltip_info = just
		trigger = {
			trait = just
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.568 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTV_volantis_501
		tooltip_info = zealous
		trigger = {
			trait = zealous
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.569 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTX_volantis_501
		tooltip_info = cruel
		trigger = {
			trait = cruel
			NOT = { trait = lunatic }
		}
		hidden_tooltip = { character_event = { id = volantis.571 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
	option = {
		name = EVTOPTY_volantis_501
		tooltip_info = possessed
		trigger = {
			trait = possessed
		}
		hidden_tooltip = { character_event = { id = volantis.572 days = 60 random = 10 } }
		custom_tooltip = { text = statue_raised }
	}
}

# Father (Death by Natural Causes)
narrative_event = {
	id = volantis.510
	title = EVTNAME_volantis_510
	desc=EVTDESCvolantis.510
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		father_even_if_dead = { add_trait = triarch_statue }
	}
}

# Father (Death by Battle)
narrative_event = {
	id = volantis.511
	title = EVTNAME_volantis_510
	desc=EVTDESCvolantis.511
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 400
		father_even_if_dead = { add_trait = triarch_statue }
	}
}

# Father (Death by Execution)
narrative_event = {
	id = volantis.512
	title = EVTNAME_volantis_510
	desc=EVTDESCvolantis.512
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		father_even_if_dead = { add_trait = triarch_statue }
	}
}

# Father (Death by Murder)
narrative_event = {
	id = volantis.513
	title = EVTNAME_volantis_510
	desc=EVTDESCvolantis.513
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		father_even_if_dead = { add_trait = triarch_statue }
	}
}

# Father (Death by Accident)
narrative_event = {
	id = volantis.515
	title = EVTNAME_volantis_510
	desc=EVTDESCvolantis.515
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		father_even_if_dead = { add_trait = triarch_statue }
	}
}

# Father (Death by Dungeon)
narrative_event = {
	id = volantis.516
	title = EVTNAME_volantis_510
	desc=EVTDESCvolantis.516
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		father_even_if_dead = { add_trait = triarch_statue }
	}
}

# Father (Death by Sacrifice)
narrative_event = {
	id = volantis.517
	title = EVTNAME_volantis_510
	desc=EVTDESCvolantis.517
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		father_even_if_dead = { add_trait = triarch_statue }
	}
}

# Father (Death by Duel)
narrative_event = {
	id = volantis.518
	title = EVTNAME_volantis_510
	desc=EVTDESCvolantis.518
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 400
		father_even_if_dead = { add_trait = triarch_statue }
	}
}

# Father (Death by Suicide)
narrative_event = {
	id = volantis.519
	title = EVTNAME_volantis_510
	desc=EVTDESCvolantis.519
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 200
		father_even_if_dead = { add_trait = triarch_statue }
	}
}

# Father (Death by Murder - YOU are the killer)
narrative_event = {
	id = volantis.520
	title = EVTNAME_volantis_510
	desc=EVTDESCvolantis.520
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 200
		father_even_if_dead = { add_trait = triarch_statue }
	}
}

# Father (Death by Other Reasons)
narrative_event = {
	id = volantis.521
	title = EVTNAME_volantis_510
	desc=EVTDESCvolantis.521
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		father_even_if_dead = { add_trait = triarch_statue }
	}
}


# Generic
narrative_event = {
	id = volantis.550
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.550
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		add_trait = triarch_statue
	}
}

# Lunatic
narrative_event = {
	id = volantis.551
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.551
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 150
		add_trait = triarch_statue
	}
}

# Drunkard
narrative_event = {
	id = volantis.552
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.552
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		add_trait = triarch_statue
	}
}

# Fair
narrative_event = {
	id = volantis.553
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.553
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 400
		add_trait = triarch_statue
	}
}

# Dwarf
narrative_event = {
	id = volantis.554
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.554
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		add_trait = triarch_statue
	}
}

# Genius
narrative_event = {
	id = volantis.555
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.555
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 400
		add_trait = triarch_statue
	}
}

# Strong
narrative_event = {
	id = volantis.557
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.557
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 400
		add_trait = triarch_statue
	}
}

# Scholar
narrative_event = {
	id = volantis.558
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.558
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		add_trait = triarch_statue
	}
}

# Impaler
narrative_event = {
	id = volantis.559
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.559
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		add_trait = triarch_statue
	}
}

# Poet
narrative_event = {
	id = volantis.560
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.560
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		add_trait = triarch_statue
	}
}

# Lustful
narrative_event = {
	id = volantis.561
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.561
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		add_trait = triarch_statue
	}
}

# Gluttonous
narrative_event = {
	id = volantis.562
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.562
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		add_trait = triarch_statue
	}
}

# Charitable
narrative_event = {
	id = volantis.563
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.563
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		add_trait = triarch_statue
	}
}

# Kind
narrative_event = {
	id = volantis.564
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.564
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		add_trait = triarch_statue
	}
}

# Proud
narrative_event = {
	id = volantis.565
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.565
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 400
		add_trait = triarch_statue
	}
}

# Humble
narrative_event = {
	id = volantis.566
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.566
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		add_trait = triarch_statue
	}
}

# Brave
narrative_event = {
	id = volantis.567
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.567
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 400
		add_trait = triarch_statue
	}
}

# Just
narrative_event = {
	id = volantis.568
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.568
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		add_trait = triarch_statue
	}
}

# Zealous (Norse Pagan)
narrative_event = {
	id = volantis.569
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.569
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		add_trait = triarch_statue
	}
}

# Cruel
narrative_event = {
	id = volantis.571
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.571
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 300
		add_trait = triarch_statue
	}
}

# Possessed
narrative_event = {
	id = volantis.572
	title = EVTNAME_volantis_550
	desc=EVTDESCvolantis.572
	picture = GFX_evt_volantis_2
	border = GFX_event_narrative_frame_diplomacy
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = EVTOPTA_volantis_550
		prestige = 150
		add_trait = triarch_statue
	}
}
# Your statue is defaced on death!
character_event = {
	id = volantis.573
	desc=EVTDESCvolantis.573
	picture = GFX_evt_volantis_2
	
	is_triggered_only = yes
	
	trigger = {
		trait = triarch_statue
	}
	
	weight_multiplier = {
		days = 1
		modifier = {
			factor = 4
			is_merchant_republic = yes
			primary_title = { has_law = republic_triarch_for_life }
		}
		modifier = {
			factor = 4
			has_minor_title = title_triarch_for_life
		}
		modifier = {
			factor = 1.5
			capital_scope = { revolt_risk = 2 }
		}
		modifier = {
			factor = 1.5
			capital_scope = { revolt_risk = 5 }
		}
		modifier = {
			factor = 1.5
			capital_scope = { revolt_risk = 8 }
		}
		modifier = {
			factor = 1.5
			capital_scope = { revolt_risk = 11 }
		}
		
		modifier = {
			factor = 0.33
			trait = charitable
		}
		modifier = {
			factor = 0.33
			trait = kind
		}
		modifier = {
			factor = 0.33
			trait = just
		}
		modifier = {
			factor = 0.33
			trait = honorable
		}
		modifier = {
			factor = 3
			trait = greedy
		}
		modifier = {
			factor = 3
			trait = cruel
		}
		modifier = {
			factor = 3
			trait = arbitrary
		}
		modifier = {
			factor = 3
			trait = ruthless
		}
	}
	
	immediate = {
		remove_trait = triarch_statue
		hidden_tooltip = {
			if = {
				limit = { is_merchant_republic = yes }
				any_realm_lord = {
					limit = { ai = no }
					character_event = { id = volantis.574 }
				}
			}
			any_liege = {
				limit = { 
					government = triarch_merchant_republic_government
				}
				any_realm_lord = {
					limit = { ai = no }
					character_event = { id = volantis.574 }
				}
			}
		}
	}
	
	option = { 
		name = EVTOPTA_volantis_573
		remove_trait = triarch_statue
		
	}
}
character_event = { #Inform city
	id = volantis.574
	desc=EVTDESCvolantis.574
	picture = GFX_evt_volantis_2
	
	is_triggered_only = yes
	
	trigger = { NOT = { character = FROM } }
	
	option = { 
		name = EVTOPTA_volantis_574
		FROM = { remove_trait = triarch_statue }
	}
}
# Your statue is defaced on being deposed!
character_event = {
	id = volantis.575
	desc=EVTDESCvolantis.575
	picture = GFX_evt_volantis_2
	
	is_triggered_only = yes
	
	trigger = {
		trait = triarch_statue
		has_character_modifier = deposed_AGOT
	}
	
	option = { 
		name = EVTOPTA_volantis_575
		remove_trait = triarch_statue
		clr_character_flag = commissioned_triarch_statue
		prestige = -250
	}
}
# Enemy family has chance to deface statue
character_event = {
	id = volantis.576
	
	is_triggered_only = yes
	hide_window = yes
	only_rulers = yes
	
	trigger = {
		NOT = { dynasty = 0 }
		any_liege = {
			government = triarch_merchant_republic_government	
			any_realm_lord = {
				age = 16			
				NOT = { dynasty = ROOT }
				NOT = { trait = incapable }
				in_command = no
				NOT = { war_with = ROOT }
				wealth = 50
				OR = {
					has_opinion_modifier = { who = ROOT modifier = opinion_blood_feud }
					has_opinion_modifier = { who = ROOT modifier = opinion_vengeance } 
					has_opinion_modifier = { who = ROOT modifier = declared_war } 
					has_opinion_modifier = { who = ROOT modifier = opinion_usurped_title } 
					has_opinion_modifier = { who = ROOT modifier = opinion_feuding_family }
					has_opinion_modifier = { who = ROOT modifier = opinion_defaced_statue }
					is_rival = ROOT
				}
				NOT = { opinion = { who = ROOT value = -50 } }
				OR = {
					trait = elephant
					trait = tiger
				}	
			}
		}
		dynasty_head = { character = ROOT }
		triarch_statue = {
			is_alive = no
			dynasty = ROOT
		}
	}
	
	weight_multiplier = {
		days = 1
	}
	
	immediate = {
		any_liege = {
			limit = {
				government = triarch_merchant_republic_government	
			}	
			random_realm_lord = {
				limit = {
					age = 16			
					NOT = { dynasty = ROOT }
					NOT = { trait = incapable }
					in_command = no
					NOT = { war_with = ROOT }
					wealth = 40
					OR = {
						has_opinion_modifier = { who = ROOT modifier = opinion_blood_feud }
						has_opinion_modifier = { who = ROOT modifier = opinion_vengeance } 
						has_opinion_modifier = { who = ROOT modifier = declared_war } 
						has_opinion_modifier = { who = ROOT modifier = opinion_usurped_title } 
						has_opinion_modifier = { who = ROOT modifier = opinion_feuding_family }
						has_opinion_modifier = { who = ROOT modifier = opinion_defaced_statue }
						is_rival = ROOT
					}
					NOT = { opinion = { who = ROOT value = -50 } }
					OR = {
						trait = elephant
						trait = tiger
					}
				}
				character_event = { id = volantis.577 }
			}
		}
	}
	
	option = { 
		name = OK
	}
}
character_event = {
	id = volantis.577
	desc=EVTDESCvolantis.577
	picture = GFX_evt_volantis_2
	
	is_triggered_only = yes
		
	option = { 
		name = EVTOPTA_volantis_577 #Deface!
		ai_chance = {
			factor = 50
			modifier = {
				factor = 5
				trait = wroth
			}
			modifier = {
				factor = 5
				trait = proud
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 2
				trait = arbitrary
			}
			modifier = {
				factor = 2
				trait = envious
			}
			modifier = {
				factor = 2
				trait = cruel
			}
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 2
				trait = ruthless
			}
		}
		wealth = -40
		prestige = 100
		triarch_statue = {
			limit = {
				is_alive = no
				dynasty = FROM
			}	
			tooltip = { remove_trait = triarch_statue }
			hidden_tooltip = { add_trait = dead_target }
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = opinion_defaced_statue
				years = 10
			}
			hidden_tooltip = { character_event = { id = volantis.578 } }
		}
	}
	
	option = { 
		name = EVTOPTB_volantis_577 #No
		ai_chance = {
			factor = 50
			modifier = {
				factor = 5
				trait = patient
			}
			modifier = {
				factor = 5
				trait = humble
			}
			modifier = {
				factor = 2
				trait = just
			}
			modifier = {
				factor = 2
				trait = content
			}
			modifier = {
				factor = 2
				trait = kind
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 2
				trait = honorable
			}
		}
	}
}
character_event = {
	id = volantis.578
	desc=EVTDESCvolantis.578
	picture = GFX_evt_volantis_2
	
	is_triggered_only = yes
		
	option = { 
		name = EVTOPTA_volantis_578
		prestige = -200
		triarch_statue = {
			limit = {
				is_alive = no
				dynasty = ROOT
				trait = dead_target
			}	
			remove_trait = triarch_statue
			hidden_tooltip = { remove_trait = dead_target }
			ROOT = {
				if = {
					limit = { 
						NOT = { trait = triarch_statue }
						father_even_if_dead = { character = PREVPREV } 
					}
					clr_character_flag = commissioned_triarch_statue
				}
			}	
		}
	}
}

### Junior Triarch Decisions ###
##Imprison##
character_event = { #fellow triarch is asked to back imprisonment
	id = volantis.130
	desc = EVTDESCvolantis.130
	picture = GFX_evt_council
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {
		name = "EVTOPTAvolantis.130" #Yes
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 0
				is_friend = FROM
			}
			modifier = {
				factor = 0
				is_close_relative = FROM
				NOT = { is_foe = FROM }
			}
			modifier = { #Harmless
				factor = 0.1
				FROM = {
					OR = { 
						NOT = { age = 14 }
						trait = incapable
					}
				}	
			}
			modifier = { #Motives
				factor = 0.1
				NOT = { is_foe = FROM } #enemy
				NOT = { opinion = { who = FROMFROM value = 50 } } #really likes other triarch
				FROM = {
					OR = { #powerful competitor
						is_ruler = no
						NOT = { relative_power = { who = ROOT power = 0.75 } }
						AND = {
							NOT = { trait = elephant }
							NOT = { trait = tiger }
						}
					}
					OR = { #threat to the realm
						is_ruler = no
						NOT = { liege = { is_merchant_republic = yes } }
						NOT = { relative_power_to_liege = 0.33 }
						liege = { reverse_opinion = { who = PREV value = -24 } }
						trait = elephant
						trait = tiger
					}
				}	
			}
			modifier = {
				factor = 2.5
				trait = tiger
				FROMFROM = { trait = tiger }
				FROM = { NOT = { trait = tiger } }
			}
			modifier = {
				factor = 2.5
				trait = elephant
				FROMFROM = { trait = elephant }
				FROM = { NOT = { trait = elephant } }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROMFROM value = 25 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROMFROM value = 50 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROMFROM value = 75 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROMFROM value = 100 }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROM value = -24 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROM value = -49 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROM value = -74 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROM value = -99 } }
			}
			modifier = {
				factor = 2
				is_close_relative = FROMFROM
			}
			modifier = {
				factor = 1.5
				is_allied_with = FROMFROM
			}
			modifier = {
				factor = 1.25
				has_non_aggression_pact_with = FROMFROM
			}
			modifier = {
				factor = 2
				dynasty = FROMFROM
				NOT = { dynasty = 0 }
			}
		}
		FROMFROM = { 
			opinion = {
				who = ROOT
				modifier = opinion_triarch_imprisonment_agreed
				months = 12
			}
		}
		random = {
			chance = 50
			modifier = {
				factor = 0.26
				FROM = {
					attribute_diff = {
						character = ROOT_FROMFROM
						attribute = intrigue
						value = 12
					}
				}	
			}
			modifier = {
				factor = 0.6
				FROM = {
					attribute_diff = {
						character = ROOT_FROMFROM
						attribute = intrigue
						value = 9
					}
				}
			}
			modifier = {
				factor = 0.74
				FROM = {
					attribute_diff = {
						character = ROOT_FROMFROM
						attribute = intrigue
						value = 6
					}
				}
			}
			modifier = {
				factor = 0.81
				FROM = {
					attribute_diff = {
						character = ROOT_FROMFROM
						attribute = intrigue
						value = 4
					}
				}
			}
			modifier = {
				factor = 0.86
				FROM = {
					attribute_diff = {
						character = ROOT_FROMFROM
						attribute = intrigue
						value = 2
					}
				}
			}
			modifier = {
				factor = 1.14
				FROMFROM = {
					attribute_diff = {
						character = ROOT_FROM
						attribute = intrigue
						value = 2
					}
				}	
			}
			modifier = {
				factor = 1.14
				FROMFROM = {
					attribute_diff = {
						character = ROOT_FROM
						attribute = intrigue
						value = 4
					}
				}	
			}
			modifier = {
				factor = 1.14
				FROMFROM = {
					attribute_diff = {
						character = ROOT_FROM
						attribute = intrigue
						value = 6
					}
				}	
			}
			modifier = {
				factor = 1.14
				FROMFROM = {
					attribute_diff = {
						character = ROOT_FROM
						attribute = intrigue
						value = 9
					}
				}	
			}
			modifier = {
				factor = 1.14
				FROMFROM = {
					attribute_diff = {
						character = ROOT_FROM
						attribute = intrigue
						value = 12
					}
				}	
			}
			FROM = { 
				tooltip = { imprison = ROOT_FROMFROM }
				opinion = {
					who = ROOT
					modifier = opinion_triarch_imprisoned_me
					months = 60
				}
				hidden_tooltip = { 
					character_event = { id = volantis.131 } 
					any_liege = {
						limit = { is_merchant_republic = yes }
						character_event = { id = volantis.132 } 
					}
				}			
			}
			FROMFROM = { hidden_tooltip = { character_event = { id = volantis.133 } } }
			break = yes
		}
		FROM = { character_event = { id = volantis.135 tooltip = TOOLTIPvolantis.135 } } 	
	}
	
	option = {
		name = "EVTOPTBvolantis.130" #No
		ai_chance = {
			factor = 100
			
			modifier = {
				factor = 2.5
				trait = tiger
				FROMFROM = { NOT = { trait = tiger } }
				FROM = { trait = tiger }
			}
			modifier = {
				factor = 2.5
				trait = elephant
				FROMFROM = { NOT = { trait = elephant } }
				FROM = { trait = elephant }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROMFROM value = -24 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROMFROM value = -49 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROMFROM value = -74 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROMFROM value = -99 } }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROM value = 25 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROM value = 50 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROM value = 75 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROM value = 100 }
			}
			modifier = {
				factor = 2
				is_close_relative = FROM
			}
			modifier = {
				factor = 1.5
				is_allied_with = FROM
			}
			modifier = {
				factor = 1.25
				has_non_aggression_pact_with = FROM
			}
			modifier = {
				factor = 2
				dynasty = FROM
				NOT = { dynasty = 0 }
			}
		}
		FROMFROM = { 
			character_event = { id = volantis.134 tooltip = TOOLTIPvolantis.134 }
		}
		clr_character_flag = triarch_imprisonment_in_progress		
	}
}
character_event = { #inform target they are imprisoned
	id = volantis.131
	desc = EVTDESCvolantis.131
	picture = GFX_evt_into_the_dungeon
	border = GFX_event_normal_frame_intrigue

	is_triggered_only = yes
	show_from_from_from = yes
	
	option = {
		name = "EVTOPTAvolantis.131"
		FROM = { tooltip = { } }
	}
}
character_event = { #inform senior triarch target imprisoned
	id = volantis.132
	desc = EVTDESCvolantis.132
	picture = GFX_evt_into_the_dungeon
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {
		name = "EVTOPTAvolantis.132"
		FROM = { tooltip = { } }
		FROMFROMFROM = { tooltip = { } }
	}
}
character_event = { #inform original triarch target imprisoned
	id = volantis.133
	desc = EVTDESCvolantis.133
	picture = GFX_evt_into_the_dungeon
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAvolantis.133"
		clr_character_flag = triarch_imprisonment_in_progress
		FROM = { clr_character_flag = triarch_imprisonment_in_progress }
		FROMFROM = { 
			imprison = ROOT 
			opinion = {
				who = ROOT
				modifier = opinion_triarch_imprisoned_me
				months = 60
			}
		}
	}
}
character_event = { #inform original other triarch declined
	id = volantis.134
	desc = EVTDESCvolantis.134
	picture = GFX_evt_into_the_dungeon
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAvolantis.134"
		hidden_tooltip = {
			FROMFROM = { 
				opinion = { who = ROOT modifier = triarch_imprisonment_rejected months = 12 }
			}
		}
		clr_character_flag = triarch_imprisonment_in_progress
		FROMFROM = { tooltip = { } }
	}
}
#inform target imprisonment failed
character_event = { 
	id = volantis.135
	desc = EVTDESCvolantis.135
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	show_from_from_from = yes
	
	option = {
		name = "EVTOPTAvolantis.135" #flee
		trigger = {
			OR = {
				is_ruler = no 
				AND = {
					tier = BARON
					liege = { is_merchant_republic = no }
				}	
			}			
		}
		ai_chance = { factor = 1 }
		if = { #Barons abdicate and flee
			limit = { 
				tier = BARON 
			}
			hidden_tooltip = { #Universal on death/abdication event
				if = {
					limit = { has_character_modifier = owns_valyrian_steel_sword }
					set_character_flag = do_not_inherit_sword
				}
				set_character_flag = abdication
				character_event = { id = 45341 } 
				clr_character_flag = abdication
				clr_character_flag = do_not_inherit_sword
				if = {
					limit = { is_merchant_republic = no }
					transfer_wealth_to_heir_effect = yes
				}
			}
			abdicate = yes		
		}
		banish = yes
		if = {	
			limit = { has_character_flag = grandmaester }
			remove_trait = archmaester
			add_trait = maester
			set_special_character_title = title_maester
			clr_character_flag = grandmaester
		}
		remove_trait = kingsguard
		FROMFROMFROM = {
			character_event = { id = volantis.136 }
		}
		FROM = {
			character_event = { id = volantis.136 }
		}
	}
	
	# option = {
		# name = "EVTOPTBvolantis.135" #war
		# trigger = { 
			# higher_tier_than = BARON 
			# same_liege = FROMFROMFROM
		# }
		# hidden_tooltip = {
			# reverse_opinion = {
				# who = FROMFROMFROM
				# modifier = triarch_imprisonment_failed
				# months = 120
			# }
			# FROM = { character_event = { id = volantis.137 } }
			# any_liege = {
				# limit = { is_merchant_republic = yes }
				# character_event = { id = volantis.138 } 
			# }
		# }
		# FROMFROMFROM = {
			# war = {
				# target = ROOT
				# casus_belli = bloody_vengeance
			# }
			# hidden_tooltip = { character_event = { id = volantis.136 } }
		# }
		# FROM = { tooltip = { } }
	# }
	
	option = {
		name = "EVTOPTCvolantis.135" #arbitration
		trigger = { 
			is_ruler = yes
			OR = {
				NOT = { tier = BARON }
				liege = { is_merchant_republic = yes }
			}
		}
		ai_chance = { factor = 1 }
		any_liege = {
			limit = { is_merchant_republic = yes }
			character_event = { id = volantis.137 tooltip = TOOLTIPvolantis.137 } 
		}
		FROM = { tooltip = { } }
	}
	
	option = {
		name = "EVTOPTDvolantis.135" #submit to senior triarch
		ai_chance = { 
			factor = 1 
			
			modifier = {
				factor = 5
				tier = BARON
			}
			modifier = { #senior triarch likely to be nice to me
				factor = 10
				any_liege = {
					is_merchant_republic = yes
					NOT = { is_foe = ROOT }
					opinion = { who = ROOT value = -24 }
					reverse_opinion = { who = ROOT value = -24 }
					OR = {
						is_friend = ROOT
						is_close_relative = ROOT
						is_allied_with = ROOT
						has_non_aggression_pact_with = ROOT
						dynasty = ROOT
						opinion = { who = ROOT value = 50 }
					}
				}
			}
			modifier = { #i'm too powerful
				factor = 0.05
				is_ruler = yes
				any_liege = {
					is_merchant_republic = yes
					ROOT = { relative_power = { who = PREV power  = 0.5 } }
				}
			}
			modifier = {
				factor = 0.5
				trait = brave
			}
			modifier = {
				factor = 0.5
				trait = wroth
			}
			modifier = {
				factor = 0.5
				trait = proud
			}
			modifier = {
				factor = 0.5
				trait = ambitious
			}
			modifier = {
				factor = 0.5
				trait = lunatic
			}
			modifier = {
				factor = 0.5
				trait = ruthless
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 2
				trait = patient
			}
			modifier = {
				factor = 2
				trait = humble
			}
			modifier = {
				factor = 2
				trait = content
			}
			modifier = {
				factor = 2
				trait = just
			}
			modifier = {
				factor = 2
				trait = honorable
			}
		}
		any_liege = {
			limit = { is_merchant_republic = yes }
			ROOT = { imprison = PREV }
			hidden_tooltip = { character_event = { id = volantis.142 } }
		}
		FROM = { 
			tooltip = { } 
		}
		FROMFROMFROM = { 
			tooltip = { } 
		}
	}
}
#inform junior triarchs target has fled
character_event = { 
	id = volantis.136
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	desc = {
		text = EVTDESCvolantis.136
		trigger = { character = FROMFROMFROMFROM }
	}
	
	desc = {
		text = EVTDESCvolantis.136B
		trigger = { character = FROMFROM }
	}
	
	option = {
		name = "EVTOPTAvolantis.136"
		FROMFROM = { tooltip = { } }
		FROMFROMFROMFROM = { tooltip = { } }
		clr_character_flag = triarch_imprisonment_in_progress
	}
}
#Senior triarch arbitrates on failed imprisonment
character_event = { 
	id = volantis.137
	desc = EVTDESCvolantis.137
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAvolantis.137" #War
		ai_chance = {
			factor = 100
			
			modifier = {
				factor = 1.5
				NOT = { FROM = { relative_power = { who = ROOT power = 0.1 } } }
			}
			modifier = {
				factor = 1.5
				NOT = { FROM = { relative_power = { who = ROOT power = 0.05 } } }
			}
			modifier = {
				factor = 5
				trait = just
			}
			modifier = {
				factor = 2
				trait = honorable
			}
			modifier = {
				factor = 2
				trait = diligent
			}
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 2
				trait = zealous
			}
			modifier = {
				factor = 2.5
				trait = tiger
				FROMFROM = { trait = tiger }
				FROM = { NOT = { trait = tiger } }
			}
			modifier = {
				factor = 2.5
				trait = elephant
				FROMFROM = { trait = elephant }
				FROM = { NOT = { trait = elephant } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROM value = -24 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROM value = -49 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROM value = -74 } }
			}
			modifier = {
				factor = 1.75
				NOT = { opinion = { who = FROM value = -99 } }
			}
		}
		FROM = {
			hidden_tooltip = { 
				character_event = { id = volantis.138 } 
				if = {
					limit = { liege = { NOT = { character = ROOT } } }
					set_defacto_liege = ROOT
				}
			}		
		}
		reverse_war = {
			target = FROM
			casus_belli = overthrow_ruler
		}	
		FROMFROMFROMFROM = { 
			hidden_tooltip = { character_event = { id = volantis.139 } }
		}
		FROMFROM = { 
			hidden_tooltip = { character_event = { id = volantis.139 } }
		}
	}
	
	option = {
		name = "EVTOPTBvolantis.137" #Do Nothing
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 1.5
				war = yes
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power = { who = ROOT power = 0.4 } }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power = { who = ROOT power = 0.6 } }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power = { who = ROOT power = 0.8 } }
			}
			modifier = {
				factor = 1.5
				FROM = { relative_power = { who = ROOT power = 1 } }
			}
			modifier = {
				factor = 2
				FROM = { relative_power = { who = ROOT power = 1.5 } }
			}
			modifier = {
				factor = 2
				trait = arbitrary
			}
			modifier = {
				factor = 2
				trait = ruthless
			}
			modifier = {
				factor = 2
				trait = slothful
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 2
				trait = cynical
			}
			modifier = {
				factor = 2.5
				trait = tiger
				FROMFROM = { NOT = { trait = tiger } }
				FROM = { trait = tiger }
			}
			modifier = {
				factor = 2.5
				trait = elephant
				FROMFROM = { NOT = { trait = elephant } }
				FROM = { trait = elephant }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROM value = 25 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROM value = 50 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROM value = 75 }
			}
			modifier = {
				factor = 1.75
				opinion = { who = FROM value = 100 }
			}
		}
		prestige = -150
		add_character_modifier = {
			name = weak_triarch
			duration = 365
		}
		FROM = {
			opinion = {
				who = ROOT
				modifier = opinion_triarch_did_not_imprison_me
				months = 60
			}
			hidden_tooltip = { character_event = { id = volantis.140 } }
		}
		FROMFROMFROMFROM = { 
			tooltip = { } 
			opinion = {
				who = ROOT
				modifier = opinion_triarch_imprison_reject
				months = 24
			}
			hidden_tooltip = { character_event = { id = volantis.144 } }
		}
		FROMFROM = { 
			tooltip = { } 
			opinion = {
				who = ROOT
				modifier = opinion_triarch_imprison_reject
				months = 24
			}
			hidden_tooltip = { character_event = { id = volantis.144 } }
		}
	}
}
character_event = { #inform target war
	id = volantis.138
	desc = EVTDESCvolantis.138
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAvolantis.138"
	}
}
character_event = { #inform junior triarchs war
	id = volantis.139
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	show_from_from = yes
	
	desc = {
		text = EVTDESCvolantis.139
		trigger = { NOT = { character = FROMFROMFROM } }
	}
	
	desc = {
		text = EVTDESCvolantis.139B
		trigger = { character = FROMFROMFROM }
	}
	
	option = {
		name = "EVTOPTAvolantis.139"
		join_defender_wars = FROM
		clr_character_flag = triarch_imprisonment_in_progress
	}
}
character_event = { #inform target senior triarch did nothing
	id = volantis.140
	desc = EVTDESCvolantis.140
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAvolantis.140"
	}
}
character_event = { #inform junior triarchs senior triarch did nothing
	id = volantis.144
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	show_from_from = yes
	
	desc = {
		text = EVTDESCvolantis.144
		trigger = { NOT = { character = FROMFROMFROM } }
	}
	
	desc = {
		text = EVTDESCvolantis.144B
		trigger = { character = FROMFROMFROM }
	}
	
	option = {
		name = "EVTOPTAvolantis.144"
		clr_character_flag = triarch_imprisonment_in_progress
	}
}
character_event = { #inform senior triarch target submitted themself
	id = volantis.142
	desc = EVTDESCvolantis.142
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAvolantis.142"
		FROMFROM = { 
			tooltip = { } 
			hidden_tooltip = { character_event = { id = volantis.143 } }
		}
		FROMFROMFROMFROM = { 
			tooltip = { } 
			hidden_tooltip = { character_event = { id = volantis.143 } }
		}
	}
}
character_event = { #inform junior triarch target submitted themself
	id = volantis.143
	picture = GFX_evt_burning_house
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	show_from_from = yes
	
	desc = {
		text = EVTDESCvolantis.143
		trigger = { NOT = { character = FROMFROMFROM } }
	}
	
	desc = {
		text = EVTDESCvolantis.143B
		trigger = { character = FROMFROMFROM }
	}
	
	option = {
		name = "EVTOPTAvolantis.143"
		clr_character_flag = triarch_imprisonment_in_progress
	}
}

##Auto resolve AI only elections##
#Find senior Triarch
character_event = { 
	id = volantis.250

	is_triggered_only = yes
	hide_window = yes
	
	immediate = {
		clr_character_flag = main_triarch
		clr_character_flag = triarch
		clr_character_flag = first_junior_triarch
		character_event = { id = volantis.251 days = 1 } #Find first junior triarch
		if = {
			limit = { primary_title = { has_law = republic_triarch_for_life } }
			set_character_flag = main_triarch
			break = yes
		}
		#Chance of re-election
		if = {
			limit = {
				prisoner = no
				NOT = { trait = incapable }
				age = 14
			}
			random_list = {
				40 = {
				}
				60 = { #Re-elected
					set_character_flag = main_triarch
					set_character_flag = triarch
					break = yes
					modifier = {
						factor = 1.33
						ruled_years = 3
					}
					modifier = {
						factor = 1.33
						ruled_years = 6
					}
					modifier = {
						factor = 1.33
						ruled_years = 9
					}
					modifier = {
						factor = 0.75
						is_female = yes
					}
					modifier = {
						factor = 1.5
						trait = dragon_rider
					}
					modifier = {
						factor = 0.83
						trait = tiger
						NOT = { martial = 7 }			
					}
					modifier = {
						factor = 0.83
						trait = tiger
						NOT = { martial = 3 }			
					}
					modifier = {
						factor = 1.2
						trait = tiger
						martial = 11 			
					}
					modifier = {
						factor = 1.2
						trait = tiger
						martial = 15		
					}
					modifier = {
						factor = 1.2
						trait = tiger
						martial = 19			
					}
					modifier = {
						factor = 0.83
						trait = elephant
						NOT = { stewardship = 7 }			
					}
					modifier = {
						factor = 0.83
						trait = elephant
						NOT = { stewardship = 3 }			
					}
					modifier = {
						factor = 1.2
						trait = elephant
						stewardship = 11 			
					}
					modifier = {
						factor = 1.2
						trait = elephant
						stewardship = 15 				
					}
					modifier = {
						factor = 1.2
						trait = elephant
						stewardship = 19			
					}
					modifier = {
						factor = 0.83
						NOT = { diplomacy = 7 }
					}
					modifier = {
						factor = 0.83
						NOT = { diplomacy = 3 }
					}
					modifier = {
						factor = 1.2
						diplomacy = 11
					}
					modifier = {
						factor = 1.2
						diplomacy = 15
					}
					modifier = {
						factor = 1.2
						diplomacy = 19
					}
					modifier = {
						factor = 1.2
						diplomacy = 24
					}
					modifier = {
						factor = 0.83
						NOT = { intrigue = 7 }
					}
					modifier = {
						factor = 0.83
						NOT = { intrigue = 3 }
					}
					modifier = {
						factor = 1.2
						intrigue = 11
					}
					modifier = {
						factor = 1.2
						intrigue = 15
					}
					modifier = {
						factor = 1.2
						intrigue = 19
					}
					modifier = {
						factor = 1.2
						intrigue = 24
					}
					#Prestige
					modifier = {
						factor = 0.8
						NOT = { prestige = 0 }
					}	
					modifier = {
						factor = 1.1
						prestige = 100
					}
					modifier = {
						factor = 1.1
						prestige = 150
					}
					modifier = {
						factor = 1.1
						prestige = 300
					}
					modifier = {
						factor = 1.1
						prestige = 450
					}
					modifier = {
						factor = 1.1
						prestige = 600
					}
					modifier = {
						factor = 1.1
						prestige = 750
					}
					modifier = {
						factor = 1.33
						prestige = 1000
					}
					modifier = {
						factor = 1.5
						prestige = 1500
					}
					modifier = {
						factor = 1.5
						prestige = 2000
					}
					modifier = {
						factor = 1.5
						prestige = 3000
					}
					#Tyranny/dishonour
					modifier = {
						factor = 0.66
						trait = kinslayer
					}
					modifier = {
						factor = 0.8
						check_variable = { which = "tyrant" value = 4.9 }
					}		
					modifier = {
						factor = 0.5
						check_variable = { which = "tyrant" value = 24.9 }
					}	
					modifier = {
						factor = 0.5
						check_variable = { which = "tyrant" value = 44.9 }
					}	
					modifier = {
						factor = 0.8
						check_variable = { which = "dishonorable" value = 9.9 }
					}		
					modifier = {
						factor = 0.5
						check_variable = { which = "dishonorable" value = 29.9 }
					}	
					modifier = {
						factor = 0.5
						check_variable = { which = "dishonorable" value = 49.9 }
					}						
					modifier = {
						factor = 1.33
						trait = ambitious
					}
					modifier = {
						factor = 1.33
						trait = brave
					}
					modifier = {
						factor = 1.33
						trait = diligent
					}
					modifier = {
						factor = 0.75
						trait = content
					}
					modifier = {
						factor = 0.75
						trait = slothful
					}
					modifier = {
						factor = 0.75
						trait = shy
					}
					modifier = {
						factor = 0.75
						trait = craven
					}
				}
			}
		}
		#If not re-elected, select new senior triarch
		random_vassal = {
			limit = {
				is_patrician = yes
				eligible_triarch_trigger = yes
				
				OR = {
					trait = dragon_rider
					prestige = 1000
					age = 55
					AND = {
						trait = tiger
						martial = 12
					}
					AND = {
						trait = elephant
						stewardship = 12
					}
					intrigue = 12
					diplomacy = 12
					wealth = 400
				}
				NOT = { check_variable = { which = "tyrant" value = 9.9 } }
				NOT = { check_variable = { which = "dishonorable" value = 19.9 } }
			}
			set_character_flag = main_triarch
			set_character_flag = triarch
			break = yes
		}
		random_vassal = {
			limit = {
				is_patrician = yes
				eligible_triarch_trigger = yes
				
				OR = {
					trait = dragon_rider
					prestige = 600
					age = 45
					AND = {
						trait = tiger
						martial = 10
					}
					AND = {
						trait = elephant
						stewardship = 10
					}
					intrigue = 10
					diplomacy = 10
					wealth = 300
				}
				NOT = { check_variable = { which = "tyrant" value = 9.9 } }
				NOT = { check_variable = { which = "dishonorable" value = 19.9 } }
			}
			set_character_flag = main_triarch
			set_character_flag = triarch
			break = yes
		}
		random_vassal = {
			limit = {
				is_patrician = yes
				eligible_triarch_trigger = yes
			}
			set_character_flag = main_triarch
			set_character_flag = triarch
			break = yes
		}
		#If none found, keep incumbent
		set_character_flag = main_triarch
		set_character_flag = triarch
	}
	
	option = {
		name = OK
	}
}
#Find Junior Triarch
character_event = { 
	id = volantis.251

	is_triggered_only = yes
	hide_window = yes
	
	immediate = {
		if = {
			limit = { NOT = { has_character_flag = first_junior_triarch } }
			character_event = { id = volantis.251 days = 1 } #Find second junior triarch
		}
		if = {
			limit = { has_character_flag = first_junior_triarch }
			character_event = { id = volantis.252 days = 1 } #Finish Election
		}
		set_character_flag = first_junior_triarch
		#Chance of re-election
		random_realm_character = {
			limit = {
				has_character_flag = triarch 
				eligible_triarch_trigger = yes
				NOT = { has_character_flag = reelected_triarch }
				NAND = {
					is_patrician = yes
					has_character_flag = main_triarch
				}
			}
			if = { #triarch for life
				limit = {
					has_character_flag = title_triarch_for_life
					dynasty = ROOT
				}
				give_minor_title = title_triarch_for_life
				set_character_flag = triarch
				set_character_flag = reelected_triarch
				break = yes
			}
			random_list = {
				40 = {
				}
				60 = { #Re-elected
					set_character_flag = triarch
					set_character_flag = reelected_triarch
					break = yes
					modifier = {
						factor = 1.33
						is_patrician = yes
					}
					modifier = {
						factor = 0.75
						is_female = yes
					}
					modifier = {
						factor = 1.5
						trait = dragon_rider
					}
					modifier = {
						factor = 0.83
						trait = tiger
						NOT = { martial = 7 }			
					}
					modifier = {
						factor = 0.83
						trait = tiger
						NOT = { martial = 3 }			
					}
					modifier = {
						factor = 1.2
						trait = tiger
						martial = 11 			
					}
					modifier = {
						factor = 1.2
						trait = tiger
						martial = 15		
					}
					modifier = {
						factor = 1.2
						trait = tiger
						martial = 19			
					}
					modifier = {
						factor = 0.83
						trait = elephant
						NOT = { stewardship = 7 }			
					}
					modifier = {
						factor = 0.83
						trait = elephant
						NOT = { stewardship = 3 }			
					}
					modifier = {
						factor = 1.2
						trait = elephant
						stewardship = 11 			
					}
					modifier = {
						factor = 1.2
						trait = elephant
						stewardship = 15 				
					}
					modifier = {
						factor = 1.2
						trait = elephant
						stewardship = 19			
					}
					modifier = {
						factor = 0.83
						NOT = { diplomacy = 7 }
					}
					modifier = {
						factor = 0.83
						NOT = { diplomacy = 3 }
					}
					modifier = {
						factor = 1.2
						diplomacy = 11
					}
					modifier = {
						factor = 1.2
						diplomacy = 15
					}
					modifier = {
						factor = 1.2
						diplomacy = 19
					}
					modifier = {
						factor = 1.2
						diplomacy = 24
					}
					modifier = {
						factor = 0.83
						NOT = { intrigue = 7 }
					}
					modifier = {
						factor = 0.83
						NOT = { intrigue = 3 }
					}
					modifier = {
						factor = 1.2
						intrigue = 11
					}
					modifier = {
						factor = 1.2
						intrigue = 15
					}
					modifier = {
						factor = 1.2
						intrigue = 19
					}
					modifier = {
						factor = 1.2
						intrigue = 24
					}
					#Prestige
					modifier = {
						factor = 0.8
						NOT = { prestige = 0 }
					}	
					modifier = {
						factor = 1.1
						prestige = 100
					}
					modifier = {
						factor = 1.1
						prestige = 150
					}
					modifier = {
						factor = 1.1
						prestige = 300
					}
					modifier = {
						factor = 1.1
						prestige = 450
					}
					modifier = {
						factor = 1.1
						prestige = 600
					}
					modifier = {
						factor = 1.1
						prestige = 750
					}
					modifier = {
						factor = 1.33
						prestige = 1000
					}
					modifier = {
						factor = 1.5
						prestige = 1500
					}
					modifier = {
						factor = 1.5
						prestige = 2000
					}
					modifier = {
						factor = 1.5
						prestige = 3000
					}
					#Tyranny/dishonour
					modifier = {
						factor = 0.66
						trait = kinslayer
					}
					modifier = {
						factor = 0.8
						check_variable = { which = "tyrant" value = 4.9 }
					}		
					modifier = {
						factor = 0.5
						check_variable = { which = "tyrant" value = 24.9 }
					}	
					modifier = {
						factor = 0.5
						check_variable = { which = "tyrant" value = 44.9 }
					}	
					modifier = {
						factor = 0.8
						check_variable = { which = "dishonorable" value = 9.9 }
					}		
					modifier = {
						factor = 0.5
						check_variable = { which = "dishonorable" value = 29.9 }
					}	
					modifier = {
						factor = 0.5
						check_variable = { which = "dishonorable" value = 49.9 }
					}						
					modifier = {
						factor = 1.33
						trait = ambitious
					}
					modifier = {
						factor = 1.33
						trait = brave
					}
					modifier = {
						factor = 1.33
						trait = diligent
					}
					modifier = {
						factor = 0.75
						trait = content
					}
					modifier = {
						factor = 0.75
						trait = slothful
					}
					modifier = {
						factor = 0.75
						trait = shy
					}
					modifier = {
						factor = 0.75
						trait = craven
					}
				}
			}
		}	
		#If not re-elected, select new junior triarch
		random_realm_character = {
			limit = {
				eligible_triarch_trigger = yes
				NOT = { has_character_flag = reelected_triarch }
				NAND = {
					is_patrician = yes
					has_character_flag = main_triarch
				}
				OR = {
					prestige = 1500
					AND = {
						trait = tiger
						martial = 15
					}
					AND = {
						trait = elephant
						stewardship = 15
					}
					intrigue = 15
					diplomacy = 15
					wealth = 800
					AND = {
						OR = {
							trait = dragon_rider
							is_patrician = yes
							higher_tier_than = COUNT
						}
						OR = {
							prestige = 1000
							age = 55
							AND = {
								trait = tiger
								martial = 12
							}
							AND = {
								trait = elephant
								stewardship = 12
							}
							intrigue = 12
							diplomacy = 12
							wealth = 400
						}
					}
				}
				NOT = { check_variable = { which = "tyrant" value = 9.9 } }
				NOT = { check_variable = { which = "dishonorable" value = 19.9 } }
			}
			set_character_flag = triarch
			set_character_flag = reelected_triarch
			break = yes
		}
		random_realm_character = {
			limit = {
				eligible_triarch_trigger = yes
				NOT = { has_character_flag = reelected_triarch }
				NAND = {
					is_patrician = yes
					has_character_flag = main_triarch
				}
				OR = {
					prestige = 1000
					AND = {
						trait = tiger
						martial = 12
					}
					AND = {
						trait = elephant
						stewardship = 12
					}
					intrigue = 12
					diplomacy = 12
					wealth = 400
					AND = {
						OR = {
							trait = dragon_rider
							is_patrician = yes
							higher_tier_than = COUNT
						}
						OR = {
							prestige = 600
							age = 45
							AND = {
								trait = tiger
								martial = 10
							}
							AND = {
								trait = elephant
								stewardship = 10
							}
							intrigue = 10
							diplomacy = 10
							wealth = 300
						}
					}
				}
				NOT = { check_variable = { which = "tyrant" value = 9.9 } }
				NOT = { check_variable = { which = "dishonorable" value = 19.9 } }
			}
			set_character_flag = triarch
			set_character_flag = reelected_triarch
			break = yes
		}
		random_realm_character = {
			limit = {
				eligible_triarch_trigger = yes
				NOT = { has_character_flag = reelected_triarch }
				NAND = {
					is_patrician = yes
					has_character_flag = main_triarch
				}
				OR = {
					prestige = 600
					age = 45
					AND = {
						trait = tiger
						martial = 10
					}
					AND = {
						trait = elephant
						stewardship = 10
					}
					intrigue = 10
					diplomacy = 10
					wealth = 300
					AND = {
						OR = {
							trait = dragon_rider
							is_patrician = yes
							higher_tier_than = COUNT
						}
						OR = {
							prestige = 400
							AND = {
								trait = tiger
								martial = 8
							}
							AND = {
								trait = elephant
								stewardship = 8
							}
							intrigue = 8
							diplomacy = 8
						}
					}
				}
				NOT = { check_variable = { which = "tyrant" value = 9.9 } }
				NOT = { check_variable = { which = "dishonorable" value = 19.9 } }
			}
			set_character_flag = triarch
			set_character_flag = reelected_triarch
			break = yes
		}
		random_realm_character = {
			limit = {
				eligible_triarch_trigger = yes
				NOT = { has_character_flag = reelected_triarch }
				NAND = {
					is_patrician = yes
					has_character_flag = main_triarch
				}
				OR = {
					prestige = 400
					AND = {
						trait = tiger
						martial = 8
					}
					AND = {
						trait = elephant
						stewardship = 8
					}
					intrigue = 8
					diplomacy = 8
				}
				NOT = { check_variable = { which = "tyrant" value = 9.9 } }
				NOT = { check_variable = { which = "dishonorable" value = 19.9 } }
			}
			set_character_flag = triarch
			set_character_flag = reelected_triarch
			break = yes
		}
		random_realm_character = {
			limit = {
				eligible_triarch_trigger = yes
				NOT = { has_character_flag = reelected_triarch }
				NAND = {
					is_patrician = yes
					has_character_flag = main_triarch
				}
			}
			set_character_flag = triarch
			set_character_flag = reelected_triarch
			break = yes
		}
	}
	
	option = {
		name = OK
	}
}
#Election finished
character_event = { 
	id = volantis.252

	is_triggered_only = yes
	hide_window = yes
	
	immediate = {
		clr_character_flag = first_junior_triarch
		#Clear deposed junior Triarchs
		any_realm_character = { 
			limit = { 
				OR = {
					has_minor_title = title_triarch 
					has_character_flag = triarch 
				}	
				NOT = { has_character_flag = reelected_triarch }
				NAND = { 
					has_character_flag = title_triarch_for_life 
					dynasty = ROOT
				}
			}
			clr_character_flag = triarch 
			clr_character_flag = main_triarch
			remove_title = title_triarch
			clr_character_flag = title_triarch_for_life
			remove_title = title_triarch_for_life
			diplomatic_immunity = no
		}
		#Add new junior Triarchs
		any_realm_character = { 
			limit = { 
				has_character_flag = triarch
				has_character_flag = reelected_triarch
			}
			give_minor_title = title_triarch 
			diplomatic_immunity = yes
			clr_character_flag = reelected_triarch
		}
		###Hand over republic if main triarch has changed###
		if = {
			limit = { NOT = { has_character_flag = main_triarch } }
			random_vassal = {
				limit = { 
					is_patrician = yes
					has_character_flag = main_triarch
				}	
				#prestige = 80000
				character_event = { id = volantis.124 }
				#liege = { hold_election = yes }
				#prestige = -80000
			}			
		}
	}
	
	option = {
		name = OK
	}
}	
#Change elected triarch modifier
character_event = { 
	id = volantis.253

	is_triggered_only = yes
	hide_window = yes
	
	trigger = {
		is_ruler = yes
		government = triarch_merchant_republic_government
		NOT = { ruled_years = 9 }
	}
	
	immediate = {
		add_character_modifier = {
			name = elected_triarch_2
			duration = 1460
		}
	}
	
	option = {
		name = OK
	}
}	
#Inform realm Co-triarch for Life named
character_event = {
	id = volantis.260
	desc = "EVTDESCvolantis.260" 
	picture = GFX_evt_volantis
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAvolantis.260"
		trigger = { 
			NOT = { character = FROMFROM } 
			NOT = { character = FROM } 
		}
		FROMFROM = { tooltip = { } }
	}
	option = {
		name = "EVTOPTBvolantis.260"
		trigger = { character = FROMFROM }
	}
	option = {
		name = "EVTOPTCvolantis.260"
		trigger = { character = FROM }
		FROMFROM = { tooltip = { } }
	}
}	
#Junior triarch appointed regent
character_event = {
	id = volantis.270
	desc = "EVTDESCvolantis.270" 
	
	only_rulers = yes
	is_patrician = yes
	
	trigger = { 
		is_merchant_republic = yes
		government = triarch_merchant_republic_government	
		has_regent = yes 
		regent = { NOT = { has_character_flag = triarch } }
		any_courtier_or_vassal = {
			has_character_flag = triarch
			NOT = { is_incapable = yes }
			prisoner = no
		}
	}
	
	option = {
		name = OK
		random_courtier_or_vassal = {
			limit = {
				has_character_flag = triarch
				NOT = { is_incapable = yes }
				prisoner = no
			}		
			gain_regency_effect = yes
		}
	}
}	
#Keep c_volantis under d_volantis in merchant republics
character_event = {
	id = volantis.280
	
	is_triggered_only = yes
	hide_window = yes
	is_patrician = yes
	
	trigger = { 
		FROM = { title = d_volantis }		
		FROMFROM = {
			any_demesne_title = { title = c_oldvolantis }		
			government = triarch_merchant_republic_government
		}
	}
	
	option = {
		name = OK
		c_oldvolantis = {
			holder_scope = {
				if = {
					limit = { is_patrician = no }
					set_defacto_liege = ROOT
					recalc_succession = yes
				}
				if = {
					limit = { is_patrician = yes }
					c_oldvolantis = { gain_title = ROOT }
				}
			}
		}
		c_volantis = {
			if = {
				limit = {
					holder_scope = {
						OR = {
							AND = {
								is_liege_or_above = FROMFROM
								government = military_command_government
							}	
							character = FROMFROM
						}	
						NOT = { character = ROOT }
					}
				}
				holder_scope = {
					if = {
						limit = { is_patrician = no }
						set_defacto_liege = ROOT
						recalc_succession = yes
					}
					if = {
						limit = { is_patrician = yes }
						c_volantis = { gain_title = ROOT }
					}
				}
			}	
		}
		if = {
			limit = { government = triarch_merchant_republic_government }
			FROMFROM = { set_government_type = triarch_merchant_republic_government }
		}
	}
}	